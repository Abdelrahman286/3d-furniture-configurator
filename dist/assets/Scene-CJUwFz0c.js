import{R as C,T as du,a as ri,b as Ya,c as Xa,M as Or,I as hu,S as Tr,D as Qa,d as pu,P as mu,E as gu,V as Pe,Q as io,e as yr,O as Kn,f as ds,g as ut,h as Hn,i as Nn,L as Pi,j as Qt,F as vn,C as bn,k as Au,l as vu,m as bu,n as Wn,o as Jt,p as so,q as yu,r as Cu,s as ao,t as Ro,u as Bu,B as Br,v as Eu,w as Ct,x as Va,y as oi,z as wu,A as Po,G as xu,H as Za,J as Ru,K as qa,N as Tu,U as Su,W as Mu,X as _u,Y as Iu,Z as Lo,_ as Du,$ as Ou,a0 as Fu,a1 as Pu,a2 as ec,a3 as Lu,a4 as $u,a5 as ku,a6 as Gu,a7 as Zt,a8 as Hu,a9 as Nu,aa as Uu,ab as ju,ac as Mt,ad as hs,ae as ps,af as ms,ag as Ju,ah as Ku,ai as Wu,aj as tc,ak as Bt,al as qt,am as zn,an as Sr,ao as zu,ap as Xe,aq as $n,ar as m,as as To,at as ke,au as Yu,av as nc,aw as rc,ax as Li,ay as co,az as lo,aA as Xu,aB as Qu,aC as ii,aD as Vu,aE as Zu,aF as qu,aG as ef,aH as si,aI as tf,aJ as gs,aK as nf,aL as rf,aM as of,aN as sf,aO as af,aP as cf,aQ as lf,aR as uf,aS as As,aT as ff,aU as df,aV as hf,aW as re,aX as $i,aY as pf,aZ as mf,a_ as gf,a$ as Af}from"./index-DmKDnBvH.js";function vf(t,e,n){return Math.max(e,Math.min(t,n))}const Qe={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function vs(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function bs(t,e,n,r=.15){return r===0?vf(t,e,n):t<e?-vs(e-t,n-e,r)+e:t>n?+vs(t-n,n-e,r)+n:t}function bf(t,[e,n],[r,o]){const[[i,s],[c,a]]=t;return[bs(e,i,s,r),bs(n,c,a,o)]}function yf(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cf(t){var e=yf(t,"string");return typeof e=="symbol"?e:String(e)}function it(t,e,n){return e=Cf(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ys(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const oc={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Cs(t){return t?t[0].toUpperCase()+t.slice(1):""}const Bf=["enter","leave"];function Ef(t=!1,e){return t&&!Bf.includes(e)}function wf(t,e="",n=!1){const r=oc[t],o=r&&r[e]||e;return"on"+Cs(t)+Cs(o)+(Ef(n,o)?"Capture":"")}const xf=["gotpointercapture","lostpointercapture"];function Rf(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=xf.includes(e)?"capturecapture":"capture",o=!!~e.indexOf(r);return o&&(e=e.replace("capture","")),{device:e,capture:o,passive:n}}function Tf(t,e=""){const n=oc[t],r=n&&n[e]||e;return t+r}function So(t){return"touches"in t}function ic(t){return So(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function Sf(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function Mf(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function sc(t){return So(t)?Mf(t)[0]:t}function _f(t){return Sf(t).map(e=>e.identifier)}function $o(t){const e=sc(t);return So(t)?e.identifier:e.pointerId}function Bs(t){const e=sc(t);return[e.clientX,e.clientY]}function If(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:o,ctrlKey:i}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:o,ctrlKey:i})}return e}function uo(t,...e){return typeof t=="function"?t(...e):t}function Df(){}function Of(...t){return t.length===0?Df:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function Es(t,e){return Object.assign({},e,t||{})}const Ff=32;class Pf{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:o}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=o,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?uo(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:o}=this;n.args=this.args;let i=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,If(e)),o.down=o.pressed=o.buttons%2===1||o.touches>0,i=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const w=n._delta.map(Math.abs);Qe.addTo(n._distance,w)}this.axisIntent&&this.axisIntent(e);const[s,c]=n._movement,[a,l]=r.threshold,{_step:u,values:f}=n;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(s)>=a&&f[0]),u[1]===!1&&(u[1]=Math.abs(c)>=l&&f[1])):(u[0]===!1&&(u[0]=Math.abs(s)>=a&&Math.sign(s)*a),u[1]===!1&&(u[1]=Math.abs(c)>=l&&Math.sign(c)*l)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[w,P]=f;d[0]=u[0]!==!1?w-u[0]:0,d[1]=u[1]!==!1?P-u[1]:0}else d[0]=u[0]!==!1?s-u[0]:0,d[1]=u[1]!==!1?c-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(d);const p=n.offset,g=n._active&&!n._blocked||n.active;g&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=o[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=uo(r.bounds,n)),this.setup&&this.setup()),n.movement=d,this.computeOffset()));const[b,v]=n.offset,[[y,E],[R,T]]=n._bounds;n.overflow=[b<y?-1:b>E?1:0,v<R?-1:v>T?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const M=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=bf(n._bounds,n.offset,M),n.delta=Qe.sub(n.offset,p),this.computeMovement(),g&&(!n.last||i>Ff)){n.delta=Qe.sub(n.offset,p);const w=n.delta.map(Math.abs);Qe.addTo(n.distance,w),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[w[0]/i,w[1]/i],n.timeDelta=i)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const o=this.handler(Fe(Fe(Fe({},n),e),{},{[this.aliasKey]:e.values}));o!==void 0&&(e.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Lf([t,e],n){const r=Math.abs(t),o=Math.abs(e);if(r>o&&r>n)return"x";if(o>r&&o>n)return"y"}class $f extends Pf{constructor(...e){super(...e),it(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Qe.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Qe.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const o=typeof r.axisThreshold=="object"?r.axisThreshold[ic(e)]:r.axisThreshold;n.axis=Lf(n._movement,o)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const kf=t=>t,ws=.15,ac={enabled(t=!0){return t},eventOptions(t,e,n){return Fe(Fe({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[ws,ws];case!1:return[0,0];default:return Qe.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Qe.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||kf},threshold(t){return Qe.toVector(t,0)}},Gf=0,Fr=Fe(Fe({},ac),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=Gf){return t},bounds(t={}){if(typeof t=="function")return i=>Fr.bounds(t(i));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:o=1/0}=t;return[[e,n],[r,o]]}}),xs={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class Hf extends $f{constructor(...e){super(...e),it(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),o={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=Fr.bounds(o)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const o=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(o&&o.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=$o(e),r._pointerActive=!0,this.computeValues(Bs(e)),this.computeInitial(),n.preventScrollAxis&&ic(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const o=$o(e);if(n._pointerId!==void 0&&o!==n._pointerId)return;const i=Bs(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Qe.sub(i,n._values),this.computeValues(i)),Qe.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const o=$o(e);if(n._pointerId!==void 0&&o!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[i,s]=n._distance;if(n.tap=i<=r.tapsThreshold&&s<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[c,a]=n._delta,[l,u]=n._movement,[f,d]=r.swipe.velocity,[p,g]=r.swipe.distance,b=r.swipe.duration;if(n.elapsedTime<b){const v=Math.abs(c/n.timeDelta),y=Math.abs(a/n.timeDelta);v>f&&Math.abs(l)>p&&(n.swipe[0]=Math.sign(c)),y>d&&Math.abs(u)>g&&(n.swipe[1]=Math.sign(a))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Nf(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=xs[e.key];if(n){const r=this.state,o=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,o),r._keyboardActive=!0,Qe.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in xs&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Nf(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Pr=typeof window<"u"&&window.document&&window.document.createElement;function cc(){return Pr&&"ontouchstart"in window}function Uf(){return cc()||Pr&&window.navigator.maxTouchPoints>1}function jf(){return Pr&&"onpointerdown"in window}function Jf(){return Pr&&"exitPointerLock"in window.document}function Kf(){try{return"constructor"in GestureEvent}catch{return!1}}const bt={isBrowser:Pr,gesture:Kf(),touch:cc(),touchscreen:Uf(),pointer:jf(),pointerLock:Jf()},Wf=250,zf=180,Yf=.5,Xf=50,Qf=250,Vf=10,Rs={mouse:0,touch:0,pen:8},Zf=Fe(Fe({},Fr),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:o=!1}={}}){return this.pointerLock=r&&bt.pointerLock,bt.touch&&n?"touch":this.pointerLock?"mouse":bt.pointer&&!o?"pointer":bt.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?Wf:void 0,!(!bt.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:o=!0}={}}){return this.pointerButtons=r,this.keys=o,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:o=void 0}){const i=Qe.toVector(t,n?r:o?1:0);return this.filterTaps=n,this.tapsThreshold=r,i},swipe({velocity:t=Yf,distance:e=Xf,duration:n=Qf}={}){return{velocity:this.transform(Qe.toVector(t)),distance:this.transform(Qe.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return zf;case!1:return 0;default:return t}},axisThreshold(t){return t?Fe(Fe({},Rs),t):Rs},keyboardDisplacement(t=Vf){return t}});Fe(Fe({},ac),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!bt.touch&&bt.gesture)return"gesture";if(bt.touch&&r)return"touch";if(bt.touchscreen){if(bt.pointer)return"pointer";if(bt.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const o=s=>{const c=Es(uo(n,s),{min:-1/0,max:1/0});return[c.min,c.max]},i=s=>{const c=Es(uo(r,s),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof n!="function"&&typeof r!="function"?[o(),i()]:s=>[o(s),i(s)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Qe.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Fe(Fe({},Fr),{},{mouseOnly:(t=!0)=>t});Fe(Fe({},Fr),{},{mouseOnly:(t=!0)=>t});const lc=new Map,ai=new Map;function qf(t){lc.set(t.key,t.engine),ai.set(t.key,t.resolver)}const ed={key:"drag",engine:Hf,resolver:Zf};function td(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function nd(t,e){if(t==null)return{};var n=td(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const rd={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=bt.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},od=["target","eventOptions","window","enabled","transform"];function ro(t={},e){const n={};for(const[r,o]of Object.entries(e))switch(typeof o){case"function":n[r]=o.call(n,t[r],r,t);break;case"object":n[r]=ro(t[r],o);break;case"boolean":o&&(n[r]=t[r]);break}return n}function id(t,e,n={}){const r=t,{target:o,eventOptions:i,window:s,enabled:c,transform:a}=r,l=nd(r,od);if(n.shared=ro({target:o,eventOptions:i,window:s,enabled:c,transform:a},rd),e){const u=ai.get(e);n[e]=ro(Fe({shared:n.shared},l),u)}else for(const u in l){const f=ai.get(u);f&&(n[u]=ro(Fe({shared:n.shared},l[u]),f))}return n}class uc{constructor(e,n){it(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,o,i){const s=this._listeners,c=Tf(n,r),a=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},l=Fe(Fe({},a),i);e.addEventListener(c,o,l);const u=()=>{e.removeEventListener(c,o,l),s.delete(u)};return s.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class sd{constructor(){it(this,"_timeouts",new Map)}add(e,n,r=140,...o){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...o))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class ad{constructor(e){it(this,"gestures",new Set),it(this,"_targetEventStore",new uc(this)),it(this,"gestureEventStores",{}),it(this,"gestureTimeoutStores",{}),it(this,"handlers",{}),it(this,"config",{}),it(this,"pointerIds",new Set),it(this,"touchIds",new Set),it(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),cd(this,e)}setEventIds(e){if(So(e))return this.touchIds=new Set(_f(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=id(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let o;if(!(n.target&&(o=n.target(),!o))){if(n.enabled){for(const s of this.gestures){const c=this.config[s],a=Ts(r,c.eventOptions,!!o);if(c.enabled){const l=lc.get(s);new l(this,e,s).bind(a)}}const i=Ts(r,n.eventOptions,!!o);for(const s in this.nativeHandlers)i(s,"",c=>this.nativeHandlers[s](Fe(Fe({},this.state.shared),{},{event:c,args:e})),void 0,!0)}for(const i in r)r[i]=Of(...r[i]);if(!o)return r;for(const i in r){const{device:s,capture:c,passive:a}=Rf(i);this._targetEventStore.add(o,s,"",r[i],{capture:c,passive:a})}}}}function Un(t,e){t.gestures.add(e),t.gestureEventStores[e]=new uc(t,e),t.gestureTimeoutStores[e]=new sd}function cd(t,e){e.drag&&Un(t,"drag"),e.wheel&&Un(t,"wheel"),e.scroll&&Un(t,"scroll"),e.move&&Un(t,"move"),e.pinch&&Un(t,"pinch"),e.hover&&Un(t,"hover")}const Ts=(t,e,n)=>(r,o,i,s={},c=!1)=>{var a,l;const u=(a=s.capture)!==null&&a!==void 0?a:e.capture,f=(l=s.passive)!==null&&l!==void 0?l:e.passive;let d=c?r:wf(r,o,u);n&&f&&(d+="Passive"),t[d]=t[d]||[],t[d].push(i)};function ld(t,e={},n,r){const o=C.useMemo(()=>new ad(t),[]);if(o.applyHandlers(t,r),o.applyConfig(e,n),C.useEffect(o.effect.bind(o)),C.useEffect(()=>o.clean.bind(o),[]),e.target===void 0)return o.bind.bind(o)}function ud(t,e){return qf(ed),ld({drag:t},e||{},"drag")}const fd=t=>(e,n,r)=>{const o=r.subscribe;return r.subscribe=(s,c,a)=>{let l=s;if(c){const u=(a==null?void 0:a.equalityFn)||Object.is;let f=s(r.getState());l=d=>{const p=s(d);if(!u(f,p)){const g=f;c(f=p,g)}},a!=null&&a.fireImmediately&&c(f,f)}return o(l)},t(e,n,r)};function Ss(t,e){if(e===du)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===ri||e===Ya){let n=t.getIndex();if(n===null){const s=[],c=t.getAttribute("position");if(c!==void 0){for(let a=0;a<c.count;a++)s.push(a);t.setIndex(s),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,o=[];if(n)if(e===ri)for(let s=1;s<=r;s++)o.push(n.getX(0)),o.push(n.getX(s)),o.push(n.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(o.push(n.getX(s)),o.push(n.getX(s+1)),o.push(n.getX(s+2))):(o.push(n.getX(s+2)),o.push(n.getX(s+1)),o.push(n.getX(s)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=t.clone();return i.setIndex(o),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const dd=parseInt(Xa.replace(/\D+/g,""));var yt=Uint8Array,An=Uint16Array,ci=Uint32Array,fc=new yt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dc=new yt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hd=new yt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hc=function(t,e){for(var n=new An(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var o=new ci(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return[n,o]},pc=hc(fc,2),mc=pc[0],pd=pc[1];mc[28]=258,pd[258]=28;var md=hc(dc,0),gd=md[0],li=new An(32768);for(var Se=0;Se<32768;++Se){var pn=(Se&43690)>>>1|(Se&21845)<<1;pn=(pn&52428)>>>2|(pn&13107)<<2,pn=(pn&61680)>>>4|(pn&3855)<<4,li[Se]=((pn&65280)>>>8|(pn&255)<<8)>>>1}var Er=function(t,e,n){for(var r=t.length,o=0,i=new An(e);o<r;++o)++i[t[o]-1];var s=new An(e);for(o=0;o<e;++o)s[o]=s[o-1]+i[o-1]<<1;var c;if(n){c=new An(1<<e);var a=15-e;for(o=0;o<r;++o)if(t[o])for(var l=o<<4|t[o],u=e-t[o],f=s[t[o]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)c[li[f]>>>a]=l}else for(c=new An(r),o=0;o<r;++o)t[o]&&(c[o]=li[s[t[o]-1]++]>>>15-t[o]);return c},Lr=new yt(288);for(var Se=0;Se<144;++Se)Lr[Se]=8;for(var Se=144;Se<256;++Se)Lr[Se]=9;for(var Se=256;Se<280;++Se)Lr[Se]=7;for(var Se=280;Se<288;++Se)Lr[Se]=8;var gc=new yt(32);for(var Se=0;Se<32;++Se)gc[Se]=5;var Ad=Er(Lr,9,1),vd=Er(gc,5,1),ko=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},St=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Go=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},bd=function(t){return(t/8|0)+(t&7&&1)},yd=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof An?An:t instanceof ci?ci:yt)(n-e);return r.set(t.subarray(e,n)),r},Cd=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new yt(0);var o=!e||n,i=!n||n.i;n||(n={}),e||(e=new yt(r*3));var s=function(ce){var He=e.length;if(ce>He){var $e=new yt(Math.max(He*2,ce));$e.set(e),e=$e}},c=n.f||0,a=n.p||0,l=n.b||0,u=n.l,f=n.d,d=n.m,p=n.n,g=r*8;do{if(!u){n.f=c=St(t,a,1);var b=St(t,a+1,3);if(a+=3,b)if(b==1)u=Ad,f=vd,d=9,p=5;else if(b==2){var R=St(t,a,31)+257,T=St(t,a+10,15)+4,M=R+St(t,a+5,31)+1;a+=14;for(var w=new yt(M),P=new yt(19),S=0;S<T;++S)P[hd[S]]=St(t,a+S*3,7);a+=T*3;for(var F=ko(P),I=(1<<F)-1,U=Er(P,F,1),S=0;S<M;){var N=U[St(t,a,I)];a+=N&15;var v=N>>>4;if(v<16)w[S++]=v;else{var Q=0,L=0;for(v==16?(L=3+St(t,a,3),a+=2,Q=w[S-1]):v==17?(L=3+St(t,a,7),a+=3):v==18&&(L=11+St(t,a,127),a+=7);L--;)w[S++]=Q}}var Y=w.subarray(0,R),X=w.subarray(R);d=ko(Y),p=ko(X),u=Er(Y,d,1),f=Er(X,p,1)}else throw"invalid block type";else{var v=bd(a)+4,y=t[v-4]|t[v-3]<<8,E=v+y;if(E>r){if(i)throw"unexpected EOF";break}o&&s(l+y),e.set(t.subarray(v,E),l),n.b=l+=y,n.p=a=E*8;continue}if(a>g){if(i)throw"unexpected EOF";break}}o&&s(l+131072);for(var ee=(1<<d)-1,le=(1<<p)-1,de=a;;de=a){var Q=u[Go(t,a)&ee],ue=Q>>>4;if(a+=Q&15,a>g){if(i)throw"unexpected EOF";break}if(!Q)throw"invalid length/literal";if(ue<256)e[l++]=ue;else if(ue==256){de=a,u=null;break}else{var me=ue-254;if(ue>264){var S=ue-257,ge=fc[S];me=St(t,a,(1<<ge)-1)+mc[S],a+=ge}var Be=f[Go(t,a)&le],Ke=Be>>>4;if(!Be)throw"invalid distance";a+=Be&15;var X=gd[Ke];if(Ke>3){var ge=dc[Ke];X+=Go(t,a)&(1<<ge)-1,a+=ge}if(a>g){if(i)throw"unexpected EOF";break}o&&s(l+131072);for(var We=l+me;l<We;l+=4)e[l]=e[l-X],e[l+1]=e[l+1-X],e[l+2]=e[l+2-X],e[l+3]=e[l+3-X];l=We}}n.l=u,n.p=de,n.b=l,u&&(c=1,n.m=d,n.d=f,n.n=p)}while(!c);return l==e.length?e:yd(e,0,l)},Bd=new yt(0),Ed=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Jr(t,e){return Cd((Ed(t),t.subarray(2,-4)),e)}var wd=typeof TextDecoder<"u"&&new TextDecoder,xd=0;try{wd.decode(Bd,{stream:!0}),xd=1}catch{}const Rd=t=>t&&t.isCubeTexture;class Td extends Or{constructor(e,n){var r,o;const i=Rd(e),c=((o=i?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?o:1024)/4,a=Math.floor(Math.log2(c)),l=Math.pow(2,a),u=3*Math.max(l,16*7),f=4*l,d=[i?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${a}.0`],p=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,g=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(Xa.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,b={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},v=new hu(1,16),y=new Tr({uniforms:b,fragmentShader:g,vertexShader:p,side:Qa});super(v,y)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Sd=Object.defineProperty,Md=(t,e,n)=>e in t?Sd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ie=(t,e,n)=>(Md(t,typeof e!="symbol"?e+"":e,n),n);const Kr=new pu,Ms=new mu,_d=Math.cos(70*(Math.PI/180)),_s=(t,e)=>(t%e+e)%e;let Id=class extends gu{constructor(e,n){super(),ie(this,"object"),ie(this,"domElement"),ie(this,"enabled",!0),ie(this,"target",new Pe),ie(this,"minDistance",0),ie(this,"maxDistance",1/0),ie(this,"minZoom",0),ie(this,"maxZoom",1/0),ie(this,"minPolarAngle",0),ie(this,"maxPolarAngle",Math.PI),ie(this,"minAzimuthAngle",-1/0),ie(this,"maxAzimuthAngle",1/0),ie(this,"enableDamping",!1),ie(this,"dampingFactor",.05),ie(this,"enableZoom",!0),ie(this,"zoomSpeed",1),ie(this,"enableRotate",!0),ie(this,"rotateSpeed",1),ie(this,"enablePan",!0),ie(this,"panSpeed",1),ie(this,"screenSpacePanning",!0),ie(this,"keyPanSpeed",7),ie(this,"zoomToCursor",!1),ie(this,"autoRotate",!1),ie(this,"autoRotateSpeed",2),ie(this,"reverseOrbit",!1),ie(this,"reverseHorizontalOrbit",!1),ie(this,"reverseVerticalOrbit",!1),ie(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ie(this,"mouseButtons",{LEFT:Hn.ROTATE,MIDDLE:Hn.DOLLY,RIGHT:Hn.PAN}),ie(this,"touches",{ONE:Nn.ROTATE,TWO:Nn.DOLLY_PAN}),ie(this,"target0"),ie(this,"position0"),ie(this,"zoom0"),ie(this,"_domElementKeyEvents",null),ie(this,"getPolarAngle"),ie(this,"getAzimuthalAngle"),ie(this,"setPolarAngle"),ie(this,"setAzimuthalAngle"),ie(this,"getDistance"),ie(this,"listenToKeyEvents"),ie(this,"stopListenToKeyEvents"),ie(this,"saveState"),ie(this,"reset"),ie(this,"update"),ie(this,"connect"),ie(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=x=>{let $=_s(x,2*Math.PI),V=u.phi;V<0&&(V+=2*Math.PI),$<0&&($+=2*Math.PI);let Ae=Math.abs($-V);2*Math.PI-Ae<Ae&&($<V?$+=2*Math.PI:V+=2*Math.PI),f.phi=$-V,r.update()},this.setAzimuthalAngle=x=>{let $=_s(x,2*Math.PI),V=u.theta;V<0&&(V+=2*Math.PI),$<0&&($+=2*Math.PI);let Ae=Math.abs($-V);2*Math.PI-Ae<Ae&&($<V?$+=2*Math.PI:V+=2*Math.PI),f.theta=$-V,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=x=>{x.addEventListener("keydown",mt),this._domElementKeyEvents=x},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",mt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(o),r.update(),a=c.NONE},this.update=(()=>{const x=new Pe,$=new Pe(0,1,0),V=new io().setFromUnitVectors(e.up,$),Ae=V.clone().invert(),H=new Pe,qe=new io,Lt=2*Math.PI;return function(){const Ur=r.object.position;V.setFromUnitVectors(e.up,$),Ae.copy(V).invert(),x.copy(Ur).sub(r.target),x.applyQuaternion(V),u.setFromVector3(x),r.autoRotate&&a===c.NONE&&L(N()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Rt=r.minAzimuthAngle,Tt=r.maxAzimuthAngle;isFinite(Rt)&&isFinite(Tt)&&(Rt<-Math.PI?Rt+=Lt:Rt>Math.PI&&(Rt-=Lt),Tt<-Math.PI?Tt+=Lt:Tt>Math.PI&&(Tt-=Lt),Rt<=Tt?u.theta=Math.max(Rt,Math.min(Tt,u.theta)):u.theta=u.theta>(Rt+Tt)/2?Math.max(Rt,u.theta):Math.min(Tt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&F||r.object.isOrthographicCamera?u.radius=ge(u.radius):u.radius=ge(u.radius*d),x.setFromSpherical(u),x.applyQuaternion(Ae),Ur.copy(r.target).add(x),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),p.set(0,0,0));let Tn=!1;if(r.zoomToCursor&&F){let Sn=null;if(r.object instanceof yr&&r.object.isPerspectiveCamera){const Mn=x.length();Sn=ge(Mn*d);const Gn=Mn-Sn;r.object.position.addScaledVector(P,Gn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Mn=new Pe(S.x,S.y,0);Mn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),Tn=!0;const Gn=new Pe(S.x,S.y,0);Gn.unproject(r.object),r.object.position.sub(Gn).add(Mn),r.object.updateMatrixWorld(),Sn=x.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Sn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Sn).add(r.object.position):(Kr.origin.copy(r.object.position),Kr.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Kr.direction))<_d?e.lookAt(r.target):(Ms.setFromNormalAndCoplanarPoint(r.object.up,r.target),Kr.intersectPlane(Ms,r.target))))}else r.object instanceof Kn&&r.object.isOrthographicCamera&&(Tn=d!==1,Tn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,F=!1,Tn||H.distanceToSquared(r.object.position)>l||8*(1-qe.dot(r.object.quaternion))>l?(r.dispatchEvent(o),H.copy(r.object.position),qe.copy(r.object.quaternion),Tn=!1,!0):!1}})(),this.connect=x=>{x===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=x,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",dn),r.domElement.addEventListener("pointerdown",pt),r.domElement.addEventListener("pointercancel",oe),r.domElement.addEventListener("wheel",ze)},this.dispose=()=>{var x,$,V,Ae,H,qe;r.domElement&&(r.domElement.style.touchAction="auto"),(x=r.domElement)==null||x.removeEventListener("contextmenu",dn),($=r.domElement)==null||$.removeEventListener("pointerdown",pt),(V=r.domElement)==null||V.removeEventListener("pointercancel",oe),(Ae=r.domElement)==null||Ae.removeEventListener("wheel",ze),(H=r.domElement)==null||H.ownerDocument.removeEventListener("pointermove",wn),(qe=r.domElement)==null||qe.ownerDocument.removeEventListener("pointerup",z),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",mt)};const r=this,o={type:"change"},i={type:"start"},s={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=c.NONE;const l=1e-6,u=new ds,f=new ds;let d=1;const p=new Pe,g=new ut,b=new ut,v=new ut,y=new ut,E=new ut,R=new ut,T=new ut,M=new ut,w=new ut,P=new Pe,S=new ut;let F=!1;const I=[],U={};function N(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Q(){return Math.pow(.95,r.zoomSpeed)}function L(x){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=x:f.theta-=x}function Y(x){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=x:f.phi-=x}const X=(()=>{const x=new Pe;return function(V,Ae){x.setFromMatrixColumn(Ae,0),x.multiplyScalar(-V),p.add(x)}})(),ee=(()=>{const x=new Pe;return function(V,Ae){r.screenSpacePanning===!0?x.setFromMatrixColumn(Ae,1):(x.setFromMatrixColumn(Ae,0),x.crossVectors(r.object.up,x)),x.multiplyScalar(V),p.add(x)}})(),le=(()=>{const x=new Pe;return function(V,Ae){const H=r.domElement;if(H&&r.object instanceof yr&&r.object.isPerspectiveCamera){const qe=r.object.position;x.copy(qe).sub(r.target);let Lt=x.length();Lt*=Math.tan(r.object.fov/2*Math.PI/180),X(2*V*Lt/H.clientHeight,r.object.matrix),ee(2*Ae*Lt/H.clientHeight,r.object.matrix)}else H&&r.object instanceof Kn&&r.object.isOrthographicCamera?(X(V*(r.object.right-r.object.left)/r.object.zoom/H.clientWidth,r.object.matrix),ee(Ae*(r.object.top-r.object.bottom)/r.object.zoom/H.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function de(x){r.object instanceof yr&&r.object.isPerspectiveCamera||r.object instanceof Kn&&r.object.isOrthographicCamera?d/=x:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ue(x){r.object instanceof yr&&r.object.isPerspectiveCamera||r.object instanceof Kn&&r.object.isOrthographicCamera?d*=x:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function me(x){if(!r.zoomToCursor||!r.domElement)return;F=!0;const $=r.domElement.getBoundingClientRect(),V=x.clientX-$.left,Ae=x.clientY-$.top,H=$.width,qe=$.height;S.x=V/H*2-1,S.y=-(Ae/qe)*2+1,P.set(S.x,S.y,1).unproject(r.object).sub(r.object.position).normalize()}function ge(x){return Math.max(r.minDistance,Math.min(r.maxDistance,x))}function Be(x){g.set(x.clientX,x.clientY)}function Ke(x){me(x),T.set(x.clientX,x.clientY)}function We(x){y.set(x.clientX,x.clientY)}function ce(x){b.set(x.clientX,x.clientY),v.subVectors(b,g).multiplyScalar(r.rotateSpeed);const $=r.domElement;$&&(L(2*Math.PI*v.x/$.clientHeight),Y(2*Math.PI*v.y/$.clientHeight)),g.copy(b),r.update()}function He(x){M.set(x.clientX,x.clientY),w.subVectors(M,T),w.y>0?de(Q()):w.y<0&&ue(Q()),T.copy(M),r.update()}function $e(x){E.set(x.clientX,x.clientY),R.subVectors(E,y).multiplyScalar(r.panSpeed),le(R.x,R.y),y.copy(E),r.update()}function xt(x){me(x),x.deltaY<0?ue(Q()):x.deltaY>0&&de(Q()),r.update()}function cn(x){let $=!1;switch(x.code){case r.keys.UP:le(0,r.keyPanSpeed),$=!0;break;case r.keys.BOTTOM:le(0,-r.keyPanSpeed),$=!0;break;case r.keys.LEFT:le(r.keyPanSpeed,0),$=!0;break;case r.keys.RIGHT:le(-r.keyPanSpeed,0),$=!0;break}$&&(x.preventDefault(),r.update())}function Ot(){if(I.length==1)g.set(I[0].pageX,I[0].pageY);else{const x=.5*(I[0].pageX+I[1].pageX),$=.5*(I[0].pageY+I[1].pageY);g.set(x,$)}}function Kt(){if(I.length==1)y.set(I[0].pageX,I[0].pageY);else{const x=.5*(I[0].pageX+I[1].pageX),$=.5*(I[0].pageY+I[1].pageY);y.set(x,$)}}function ot(){const x=I[0].pageX-I[1].pageX,$=I[0].pageY-I[1].pageY,V=Math.sqrt(x*x+$*$);T.set(0,V)}function Ft(){r.enableZoom&&ot(),r.enablePan&&Kt()}function Ze(){r.enableZoom&&ot(),r.enableRotate&&Ot()}function ht(x){if(I.length==1)b.set(x.pageX,x.pageY);else{const V=Pt(x),Ae=.5*(x.pageX+V.x),H=.5*(x.pageY+V.y);b.set(Ae,H)}v.subVectors(b,g).multiplyScalar(r.rotateSpeed);const $=r.domElement;$&&(L(2*Math.PI*v.x/$.clientHeight),Y(2*Math.PI*v.y/$.clientHeight)),g.copy(b)}function ln(x){if(I.length==1)E.set(x.pageX,x.pageY);else{const $=Pt(x),V=.5*(x.pageX+$.x),Ae=.5*(x.pageY+$.y);E.set(V,Ae)}R.subVectors(E,y).multiplyScalar(r.panSpeed),le(R.x,R.y),y.copy(E)}function un(x){const $=Pt(x),V=x.pageX-$.x,Ae=x.pageY-$.y,H=Math.sqrt(V*V+Ae*Ae);M.set(0,H),w.set(0,Math.pow(M.y/T.y,r.zoomSpeed)),de(w.y),T.copy(M)}function En(x){r.enableZoom&&un(x),r.enablePan&&ln(x)}function fn(x){r.enableZoom&&un(x),r.enableRotate&&ht(x)}function pt(x){var $,V;r.enabled!==!1&&(I.length===0&&(($=r.domElement)==null||$.ownerDocument.addEventListener("pointermove",wn),(V=r.domElement)==null||V.ownerDocument.addEventListener("pointerup",z)),Rn(x),x.pointerType==="touch"?at(x):_e(x))}function wn(x){r.enabled!==!1&&(x.pointerType==="touch"?xn(x):Ue(x))}function z(x){var $,V,Ae;ct(x),I.length===0&&(($=r.domElement)==null||$.releasePointerCapture(x.pointerId),(V=r.domElement)==null||V.ownerDocument.removeEventListener("pointermove",wn),(Ae=r.domElement)==null||Ae.ownerDocument.removeEventListener("pointerup",z)),r.dispatchEvent(s),a=c.NONE}function oe(x){ct(x)}function _e(x){let $;switch(x.button){case 0:$=r.mouseButtons.LEFT;break;case 1:$=r.mouseButtons.MIDDLE;break;case 2:$=r.mouseButtons.RIGHT;break;default:$=-1}switch($){case Hn.DOLLY:if(r.enableZoom===!1)return;Ke(x),a=c.DOLLY;break;case Hn.ROTATE:if(x.ctrlKey||x.metaKey||x.shiftKey){if(r.enablePan===!1)return;We(x),a=c.PAN}else{if(r.enableRotate===!1)return;Be(x),a=c.ROTATE}break;case Hn.PAN:if(x.ctrlKey||x.metaKey||x.shiftKey){if(r.enableRotate===!1)return;Be(x),a=c.ROTATE}else{if(r.enablePan===!1)return;We(x),a=c.PAN}break;default:a=c.NONE}a!==c.NONE&&r.dispatchEvent(i)}function Ue(x){if(r.enabled!==!1)switch(a){case c.ROTATE:if(r.enableRotate===!1)return;ce(x);break;case c.DOLLY:if(r.enableZoom===!1)return;He(x);break;case c.PAN:if(r.enablePan===!1)return;$e(x);break}}function ze(x){r.enabled===!1||r.enableZoom===!1||a!==c.NONE&&a!==c.ROTATE||(x.preventDefault(),r.dispatchEvent(i),xt(x),r.dispatchEvent(s))}function mt(x){r.enabled===!1||r.enablePan===!1||cn(x)}function at(x){switch(Le(x),I.length){case 1:switch(r.touches.ONE){case Nn.ROTATE:if(r.enableRotate===!1)return;Ot(),a=c.TOUCH_ROTATE;break;case Nn.PAN:if(r.enablePan===!1)return;Kt(),a=c.TOUCH_PAN;break;default:a=c.NONE}break;case 2:switch(r.touches.TWO){case Nn.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ft(),a=c.TOUCH_DOLLY_PAN;break;case Nn.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ze(),a=c.TOUCH_DOLLY_ROTATE;break;default:a=c.NONE}break;default:a=c.NONE}a!==c.NONE&&r.dispatchEvent(i)}function xn(x){switch(Le(x),a){case c.TOUCH_ROTATE:if(r.enableRotate===!1)return;ht(x),r.update();break;case c.TOUCH_PAN:if(r.enablePan===!1)return;ln(x),r.update();break;case c.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;En(x),r.update();break;case c.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;fn(x),r.update();break;default:a=c.NONE}}function dn(x){r.enabled!==!1&&x.preventDefault()}function Rn(x){I.push(x)}function ct(x){delete U[x.pointerId];for(let $=0;$<I.length;$++)if(I[$].pointerId==x.pointerId){I.splice($,1);return}}function Le(x){let $=U[x.pointerId];$===void 0&&($=new ut,U[x.pointerId]=$),$.set(x.pageX,x.pageY)}function Pt(x){const $=x.pointerId===I[0].pointerId?I[1]:I[0];return U[$.pointerId]}n!==void 0&&this.connect(n),this.update()}};const Dn="srgb",en="srgb-linear",Is=3001,Dd=3e3;class ki extends Pi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new $d(n)}),this.register(function(n){return new kd(n)}),this.register(function(n){return new zd(n)}),this.register(function(n){return new Yd(n)}),this.register(function(n){return new Xd(n)}),this.register(function(n){return new Hd(n)}),this.register(function(n){return new Nd(n)}),this.register(function(n){return new Ud(n)}),this.register(function(n){return new jd(n)}),this.register(function(n){return new Ld(n)}),this.register(function(n){return new Jd(n)}),this.register(function(n){return new Gd(n)}),this.register(function(n){return new Wd(n)}),this.register(function(n){return new Kd(n)}),this.register(function(n){return new Fd(n)}),this.register(function(n){return new Qd(n)}),this.register(function(n){return new Vd(n)})}load(e,n,r,o){const i=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const l=Qt.extractUrlBase(e);s=Qt.resolveURL(l,this.path)}else s=Qt.extractUrlBase(e);this.manager.itemStart(e);const c=function(l){o?o(l):console.error(l),i.manager.itemError(e),i.manager.itemEnd(e)},a=new vn(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{i.parse(l,s,function(u){n(u),i.manager.itemEnd(e)},c)}catch(u){c(u)}},r,c)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,o){let i;const s={},c={};if(typeof e=="string")i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Qt.decodeText(new Uint8Array(e.slice(0,4)))===Ac){try{s[he.KHR_BINARY_GLTF]=new Zd(e)}catch(u){o&&o(u);return}i=JSON.parse(s[he.KHR_BINARY_GLTF].content)}else i=JSON.parse(Qt.decodeText(new Uint8Array(e)));else i=e;if(i.asset===void 0||i.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const a=new fh(i,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});a.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const u=this.pluginCallbacks[l](a);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[u.name]=u,s[u.name]=!0}if(i.extensionsUsed)for(let l=0;l<i.extensionsUsed.length;++l){const u=i.extensionsUsed[l],f=i.extensionsRequired||[];switch(u){case he.KHR_MATERIALS_UNLIT:s[u]=new Pd;break;case he.KHR_DRACO_MESH_COMPRESSION:s[u]=new qd(i,this.dracoLoader);break;case he.KHR_TEXTURE_TRANSFORM:s[u]=new eh;break;case he.KHR_MESH_QUANTIZATION:s[u]=new th;break;default:f.indexOf(u)>=0&&c[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}a.setExtensions(s),a.setPlugins(c),a.parse(r,o)}parseAsync(e,n){const r=this;return new Promise(function(o,i){r.parse(e,n,o,i)})}}function Od(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const he={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Fd{constructor(e){this.parser=e,this.name=he.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,o=n.length;r<o;r++){const i=n[r];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let o=n.cache.get(r);if(o)return o;const i=n.json,a=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let l;const u=new bn(16777215);a.color!==void 0&&u.setRGB(a.color[0],a.color[1],a.color[2],en);const f=a.range!==void 0?a.range:0;switch(a.type){case"directional":l=new bu(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new vu(u),l.distance=f;break;case"spot":l=new Au(u),l.distance=f,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle!==void 0?a.spot.innerConeAngle:0,a.spot.outerConeAngle=a.spot.outerConeAngle!==void 0?a.spot.outerConeAngle:Math.PI/4,l.angle=a.spot.outerConeAngle,l.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return l.position.set(0,0,0),l.decay=2,Yt(l,a),a.intensity!==void 0&&(l.intensity=a.intensity),l.name=n.createUniqueName(a.name||"light_"+e),o=Promise.resolve(l),n.cache.add(r,o),o}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,i=r.json.nodes[e],c=(i.extensions&&i.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(a){return r._getNodeRef(n.cache,c,a)})}}class Pd{constructor(){this.name=he.KHR_MATERIALS_UNLIT}getMaterialType(){return Wn}extendParams(e,n,r){const o=[];e.color=new bn(1,1,1),e.opacity=1;const i=n.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const s=i.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],en),e.opacity=s[3]}i.baseColorTexture!==void 0&&o.push(r.assignTexture(e,"map",i.baseColorTexture,Dn))}return Promise.all(o)}}class Ld{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=o.extensions[this.name].emissiveStrength;return i!==void 0&&(n.emissiveIntensity=i),Promise.resolve()}}class $d{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];if(s.clearcoatFactor!==void 0&&(n.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&i.push(r.assignTexture(n,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&i.push(r.assignTexture(n,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(i.push(r.assignTexture(n,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const c=s.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ut(c,c)}return Promise.all(i)}}class kd{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=o.extensions[this.name];return n.dispersion=i.dispersion!==void 0?i.dispersion:0,Promise.resolve()}}class Gd{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];return s.iridescenceFactor!==void 0&&(n.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&i.push(r.assignTexture(n,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(n.iridescenceIOR=s.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&i.push(r.assignTexture(n,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(i)}}class Hd{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[];n.sheenColor=new bn(0,0,0),n.sheenRoughness=0,n.sheen=1;const s=o.extensions[this.name];if(s.sheenColorFactor!==void 0){const c=s.sheenColorFactor;n.sheenColor.setRGB(c[0],c[1],c[2],en)}return s.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&i.push(r.assignTexture(n,"sheenColorMap",s.sheenColorTexture,Dn)),s.sheenRoughnessTexture!==void 0&&i.push(r.assignTexture(n,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(i)}}class Nd{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];return s.transmissionFactor!==void 0&&(n.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&i.push(r.assignTexture(n,"transmissionMap",s.transmissionTexture)),Promise.all(i)}}class Ud{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];n.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&i.push(r.assignTexture(n,"thicknessMap",s.thicknessTexture)),n.attenuationDistance=s.attenuationDistance||1/0;const c=s.attenuationColor||[1,1,1];return n.attenuationColor=new bn().setRGB(c[0],c[1],c[2],en),Promise.all(i)}}class jd{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=o.extensions[this.name];return n.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class Jd{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];n.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&i.push(r.assignTexture(n,"specularIntensityMap",s.specularTexture));const c=s.specularColorFactor||[1,1,1];return n.specularColor=new bn().setRGB(c[0],c[1],c[2],en),s.specularColorTexture!==void 0&&i.push(r.assignTexture(n,"specularColorMap",s.specularColorTexture,Dn)),Promise.all(i)}}class Kd{constructor(e){this.parser=e,this.name=he.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];return n.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&i.push(r.assignTexture(n,"bumpMap",s.bumpTexture)),Promise.all(i)}}class Wd{constructor(e){this.parser=e,this.name=he.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Jt}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];return s.anisotropyStrength!==void 0&&(n.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(n.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&i.push(r.assignTexture(n,"anisotropyMap",s.anisotropyTexture)),Promise.all(i)}}class zd{constructor(e){this.parser=e,this.name=he.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,o=r.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const i=o.extensions[this.name],s=n.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,i.source,s)}}class Yd{constructor(e){this.parser=e,this.name=he.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,o=r.json,i=o.textures[e];if(!i.extensions||!i.extensions[n])return null;const s=i.extensions[n],c=o.images[s.source];let a=r.textureLoader;if(c.uri){const l=r.options.manager.getHandler(c.uri);l!==null&&(a=l)}return this.detectSupport().then(function(l){if(l)return r.loadTextureImage(e,s.source,a);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Xd{constructor(e){this.parser=e,this.name=he.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,o=r.json,i=o.textures[e];if(!i.extensions||!i.extensions[n])return null;const s=i.extensions[n],c=o.images[s.source];let a=r.textureLoader;if(c.uri){const l=r.options.manager.getHandler(c.uri);l!==null&&(a=l)}return this.detectSupport().then(function(l){if(l)return r.loadTextureImage(e,s.source,a);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Qd{constructor(e){this.name=he.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const o=r.extensions[this.name],i=this.parser.getDependency("buffer",o.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(c){const a=o.byteOffset||0,l=o.byteLength||0,u=o.count,f=o.byteStride,d=new Uint8Array(c,a,l);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(u,f,d,o.mode,o.filter).then(function(p){return p.buffer}):s.ready.then(function(){const p=new ArrayBuffer(u*f);return s.decodeGltfBuffer(new Uint8Array(p),u,f,d,o.mode,o.filter),p})})}else return null}}class Vd{constructor(e){this.name=he.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const o=n.meshes[r.mesh];for(const l of o.primitives)if(l.mode!==vt.TRIANGLES&&l.mode!==vt.TRIANGLE_STRIP&&l.mode!==vt.TRIANGLE_FAN&&l.mode!==void 0)return null;const s=r.extensions[this.name].attributes,c=[],a={};for(const l in s)c.push(this.parser.getDependency("accessor",s[l]).then(u=>(a[l]=u,a[l])));return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(l=>{const u=l.pop(),f=u.isGroup?u.children:[u],d=l[0].count,p=[];for(const g of f){const b=new so,v=new Pe,y=new io,E=new Pe(1,1,1),R=new yu(g.geometry,g.material,d);for(let T=0;T<d;T++)a.TRANSLATION&&v.fromBufferAttribute(a.TRANSLATION,T),a.ROTATION&&y.fromBufferAttribute(a.ROTATION,T),a.SCALE&&E.fromBufferAttribute(a.SCALE,T),R.setMatrixAt(T,b.compose(v,y,E));for(const T in a)if(T==="_COLOR_0"){const M=a[T];R.instanceColor=new Cu(M.array,M.itemSize,M.normalized)}else T!=="TRANSLATION"&&T!=="ROTATION"&&T!=="SCALE"&&g.geometry.setAttribute(T,a[T]);ao.prototype.copy.call(R,g),this.parser.assignFinalMaterial(R),p.push(R)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const Ac="glTF",pr=12,Ds={JSON:1313821514,BIN:5130562};class Zd{constructor(e){this.name=he.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,pr);if(this.header={magic:Qt.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Ac)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-pr,o=new DataView(e,pr);let i=0;for(;i<r;){const s=o.getUint32(i,!0);i+=4;const c=o.getUint32(i,!0);if(i+=4,c===Ds.JSON){const a=new Uint8Array(e,pr+i,s);this.content=Qt.decodeText(a)}else if(c===Ds.BIN){const a=pr+i;this.body=e.slice(a,a+s)}i+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class qd{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=he.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,o=this.dracoLoader,i=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,c={},a={},l={};for(const u in s){const f=ui[u]||u.toLowerCase();c[f]=s[u]}for(const u in e.attributes){const f=ui[u]||u.toLowerCase();if(s[u]!==void 0){const d=r.accessors[e.attributes[u]],p=Qn[d.componentType];l[f]=p.name,a[f]=d.normalized===!0}}return n.getDependency("bufferView",i).then(function(u){return new Promise(function(f,d){o.decodeDracoFile(u,function(p){for(const g in p.attributes){const b=p.attributes[g],v=a[g];v!==void 0&&(b.normalized=v)}f(p)},c,l,en,d)})})}}class eh{constructor(){this.name=he.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class th{constructor(){this.name=he.KHR_MESH_QUANTIZATION}}class vc extends Wu{constructor(e,n,r,o){super(e,n,r,o)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,i=e*o*3+o;for(let s=0;s!==o;s++)n[s]=r[i+s];return n}interpolate_(e,n,r,o){const i=this.resultBuffer,s=this.sampleValues,c=this.valueSize,a=c*2,l=c*3,u=o-n,f=(r-n)/u,d=f*f,p=d*f,g=e*l,b=g-l,v=-2*p+3*d,y=p-d,E=1-v,R=y-d+f;for(let T=0;T!==c;T++){const M=s[b+T+c],w=s[b+T+a]*u,P=s[g+T+c],S=s[g+T]*u;i[T]=E*M+R*w+v*P+y*S}return i}}const nh=new io;class rh extends vc{interpolate_(e,n,r,o){const i=super.interpolate_(e,n,r,o);return nh.fromArray(i).normalize().toArray(i),i}}const vt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Qn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Os={9728:Lu,9729:Ct,9984:$u,9985:ku,9986:Gu,9987:Va},Fs={33071:Zt,33648:Hu,10497:oi},Ho={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ui={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...dd>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},mn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},oh={CUBICSPLINE:void 0,LINEAR:ec,STEP:Nu},No={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ih(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Za({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Uu})),t.DefaultMaterial}function In(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Yt(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function sh(t,e,n){let r=!1,o=!1,i=!1;for(let l=0,u=e.length;l<u;l++){const f=e[l];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(o=!0),f.COLOR_0!==void 0&&(i=!0),r&&o&&i)break}if(!r&&!o&&!i)return Promise.resolve(t);const s=[],c=[],a=[];for(let l=0,u=e.length;l<u;l++){const f=e[l];if(r){const d=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;s.push(d)}if(o){const d=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;c.push(d)}if(i){const d=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;a.push(d)}}return Promise.all([Promise.all(s),Promise.all(c),Promise.all(a)]).then(function(l){const u=l[0],f=l[1],d=l[2];return r&&(t.morphAttributes.position=u),o&&(t.morphAttributes.normal=f),i&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function ah(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ch(t){let e;const n=t.extensions&&t.extensions[he.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+Uo(n.attributes):e=t.indices+":"+Uo(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,o=t.targets.length;r<o;r++)e+=":"+Uo(t.targets[r]);return e}function Uo(t){let e="";const n=Object.keys(t).sort();for(let r=0,o=n.length;r<o;r++)e+=n[r]+":"+t[n[r]]+";";return e}function fi(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function lh(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const uh=new so;class fh{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Od,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=!1,i=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=navigator.userAgent.indexOf("Firefox")>-1,i=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||o&&i<98?this.textureLoader=new Ro(this.options.manager):this.textureLoader=new Bu(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new vn(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,o=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const c={scene:s[0][o.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:o.asset,parser:r,userData:{}};return In(i,c,o),Yt(c,o),Promise.all(r._invokeAll(function(a){return a.afterRoot&&a.afterRoot(c)})).then(function(){for(const a of c.scenes)a.updateMatrixWorld();e(c)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let o=0,i=n.length;o<i;o++){const s=n[o].joints;for(let c=0,a=s.length;c<a;c++)e[s[c]].isBone=!0}for(let o=0,i=e.length;o<i;o++){const s=e[o];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const o=r.clone(),i=(s,c)=>{const a=this.associations.get(s);a!=null&&this.associations.set(c,a);for(const[l,u]of s.children.entries())i(u,c.children[l])};return i(r,o),o.name+="_instance_"+e.uses[n]++,o}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const o=e(n[r]);if(o)return o}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let o=0;o<n.length;o++){const i=e(n[o]);i&&r.push(i)}return r}getDependency(e,n){const r=e+":"+n;let o=this.cache.get(r);if(!o){switch(e){case"scene":o=this.loadScene(n);break;case"node":o=this._invokeOne(function(i){return i.loadNode&&i.loadNode(n)});break;case"mesh":o=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(n)});break;case"accessor":o=this.loadAccessor(n);break;case"bufferView":o=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(n)});break;case"buffer":o=this.loadBuffer(n);break;case"material":o=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(n)});break;case"texture":o=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(n)});break;case"skin":o=this.loadSkin(n);break;case"animation":o=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(n)});break;case"camera":o=this.loadCamera(n);break;default:if(o=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(e,n)}),!o)throw new Error("Unknown type: "+e);break}this.cache.add(r,o)}return o}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,o=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(o.map(function(i,s){return r.getDependency(e,s)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[he.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(i,s){r.load(Qt.resolveURL(n.uri,o.path),i,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const o=n.byteLength||0,i=n.byteOffset||0;return r.slice(i,i+o)})}loadAccessor(e){const n=this,r=this.json,o=this.json.accessors[e];if(o.bufferView===void 0&&o.sparse===void 0){const s=Ho[o.type],c=Qn[o.componentType],a=o.normalized===!0,l=new c(o.count*s);return Promise.resolve(new Br(l,s,a))}const i=[];return o.bufferView!==void 0?i.push(this.getDependency("bufferView",o.bufferView)):i.push(null),o.sparse!==void 0&&(i.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(i).then(function(s){const c=s[0],a=Ho[o.type],l=Qn[o.componentType],u=l.BYTES_PER_ELEMENT,f=u*a,d=o.byteOffset||0,p=o.bufferView!==void 0?r.bufferViews[o.bufferView].byteStride:void 0,g=o.normalized===!0;let b,v;if(p&&p!==f){const y=Math.floor(d/p),E="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+y+":"+o.count;let R=n.cache.get(E);R||(b=new l(c,y*p,o.count*p/u),R=new Eu(b,p/u),n.cache.add(E,R)),v=new ju(R,a,d%p/u,g)}else c===null?b=new l(o.count*a):b=new l(c,d,o.count*a),v=new Br(b,a,g);if(o.sparse!==void 0){const y=Ho.SCALAR,E=Qn[o.sparse.indices.componentType],R=o.sparse.indices.byteOffset||0,T=o.sparse.values.byteOffset||0,M=new E(s[1],R,o.sparse.count*y),w=new l(s[2],T,o.sparse.count*a);c!==null&&(v=new Br(v.array.slice(),v.itemSize,v.normalized));for(let P=0,S=M.length;P<S;P++){const F=M[P];if(v.setX(F,w[P*a]),a>=2&&v.setY(F,w[P*a+1]),a>=3&&v.setZ(F,w[P*a+2]),a>=4&&v.setW(F,w[P*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,r=this.options,i=n.textures[e].source,s=n.images[i];let c=this.textureLoader;if(s.uri){const a=r.manager.getHandler(s.uri);a!==null&&(c=a)}return this.loadTextureImage(e,i,c)}loadTextureImage(e,n,r){const o=this,i=this.json,s=i.textures[e],c=i.images[n],a=(c.uri||c.bufferView)+":"+s.sampler;if(this.textureCache[a])return this.textureCache[a];const l=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=s.name||c.name||"",u.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(u.name=c.uri);const d=(i.samplers||{})[s.sampler]||{};return u.magFilter=Os[d.magFilter]||Ct,u.minFilter=Os[d.minFilter]||Va,u.wrapS=Fs[d.wrapS]||oi,u.wrapT=Fs[d.wrapT]||oi,o.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[a]=l,l}loadImageSource(e,n){const r=this,o=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const s=o.images[e],c=self.URL||self.webkitURL;let a=s.uri||"",l=!1;if(s.bufferView!==void 0)a=r.getDependency("bufferView",s.bufferView).then(function(f){l=!0;const d=new Blob([f],{type:s.mimeType});return a=c.createObjectURL(d),a});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(a).then(function(f){return new Promise(function(d,p){let g=d;n.isImageBitmapLoader===!0&&(g=function(b){const v=new Mt(b);v.needsUpdate=!0,d(v)}),n.load(Qt.resolveURL(f,i.path),g,void 0,p)})}).then(function(f){return l===!0&&c.revokeObjectURL(a),Yt(f,s),f.userData.mimeType=s.mimeType||lh(s.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),f});return this.sourceCache[e]=u,u}assignTexture(e,n,r,o){const i=this;return this.getDependency("texture",r.index).then(function(s){if(!s)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(s=s.clone(),s.channel=r.texCoord),i.extensions[he.KHR_TEXTURE_TRANSFORM]){const c=r.extensions!==void 0?r.extensions[he.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const a=i.associations.get(s);s=i.extensions[he.KHR_TEXTURE_TRANSFORM].extendTexture(s,c),i.associations.set(s,a)}}return o!==void 0&&(typeof o=="number"&&(o=o===Is?Dn:en),"colorSpace"in s?s.colorSpace=o:s.encoding=o===Dn?Is:Dd),e[n]=s,s})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const o=n.attributes.tangent===void 0,i=n.attributes.color!==void 0,s=n.attributes.normal===void 0;if(e.isPoints){const c="PointsMaterial:"+r.uuid;let a=this.cache.get(c);a||(a=new wu,Po.prototype.copy.call(a,r),a.color.copy(r.color),a.map=r.map,a.sizeAttenuation=!1,this.cache.add(c,a)),r=a}else if(e.isLine){const c="LineBasicMaterial:"+r.uuid;let a=this.cache.get(c);a||(a=new xu,Po.prototype.copy.call(a,r),a.color.copy(r.color),a.map=r.map,this.cache.add(c,a)),r=a}if(o||i||s){let c="ClonedMaterial:"+r.uuid+":";o&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),s&&(c+="flat-shading:");let a=this.cache.get(c);a||(a=r.clone(),i&&(a.vertexColors=!0),s&&(a.flatShading=!0),o&&(a.normalScale&&(a.normalScale.y*=-1),a.clearcoatNormalScale&&(a.clearcoatNormalScale.y*=-1)),this.cache.add(c,a),this.associations.set(a,this.associations.get(r))),r=a}e.material=r}getMaterialType(){return Za}loadMaterial(e){const n=this,r=this.json,o=this.extensions,i=r.materials[e];let s;const c={},a=i.extensions||{},l=[];if(a[he.KHR_MATERIALS_UNLIT]){const f=o[he.KHR_MATERIALS_UNLIT];s=f.getMaterialType(),l.push(f.extendParams(c,i,n))}else{const f=i.pbrMetallicRoughness||{};if(c.color=new bn(1,1,1),c.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;c.color.setRGB(d[0],d[1],d[2],en),c.opacity=d[3]}f.baseColorTexture!==void 0&&l.push(n.assignTexture(c,"map",f.baseColorTexture,Dn)),c.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,c.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(l.push(n.assignTexture(c,"metalnessMap",f.metallicRoughnessTexture)),l.push(n.assignTexture(c,"roughnessMap",f.metallicRoughnessTexture))),s=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,c)})))}i.doubleSided===!0&&(c.side=Qa);const u=i.alphaMode||No.OPAQUE;if(u===No.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,u===No.MASK&&(c.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&s!==Wn&&(l.push(n.assignTexture(c,"normalMap",i.normalTexture)),c.normalScale=new ut(1,1),i.normalTexture.scale!==void 0)){const f=i.normalTexture.scale;c.normalScale.set(f,f)}if(i.occlusionTexture!==void 0&&s!==Wn&&(l.push(n.assignTexture(c,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&s!==Wn){const f=i.emissiveFactor;c.emissive=new bn().setRGB(f[0],f[1],f[2],en)}return i.emissiveTexture!==void 0&&s!==Wn&&l.push(n.assignTexture(c,"emissiveMap",i.emissiveTexture,Dn)),Promise.all(l).then(function(){const f=new s(c);return i.name&&(f.name=i.name),Yt(f,i),n.associations.set(f,{materials:e}),i.extensions&&In(o,f,i),f})}createUniqueName(e){const n=Ru.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,o=this.primitiveCache;function i(c){return r[he.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,n).then(function(a){return Ps(a,c,n)})}const s=[];for(let c=0,a=e.length;c<a;c++){const l=e[c],u=ch(l),f=o[u];if(f)s.push(f.promise);else{let d;l.extensions&&l.extensions[he.KHR_DRACO_MESH_COMPRESSION]?d=i(l):d=Ps(new qa,l,n),o[u]={primitive:l,promise:d},s.push(d)}}return Promise.all(s)}loadMesh(e){const n=this,r=this.json,o=this.extensions,i=r.meshes[e],s=i.primitives,c=[];for(let a=0,l=s.length;a<l;a++){const u=s[a].material===void 0?ih(this.cache):this.getDependency("material",s[a].material);c.push(u)}return c.push(n.loadGeometries(s)),Promise.all(c).then(function(a){const l=a.slice(0,a.length-1),u=a[a.length-1],f=[];for(let p=0,g=u.length;p<g;p++){const b=u[p],v=s[p];let y;const E=l[p];if(v.mode===vt.TRIANGLES||v.mode===vt.TRIANGLE_STRIP||v.mode===vt.TRIANGLE_FAN||v.mode===void 0)y=i.isSkinnedMesh===!0?new Tu(b,E):new Or(b,E),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),v.mode===vt.TRIANGLE_STRIP?y.geometry=Ss(y.geometry,Ya):v.mode===vt.TRIANGLE_FAN&&(y.geometry=Ss(y.geometry,ri));else if(v.mode===vt.LINES)y=new Su(b,E);else if(v.mode===vt.LINE_STRIP)y=new Mu(b,E);else if(v.mode===vt.LINE_LOOP)y=new _u(b,E);else if(v.mode===vt.POINTS)y=new Iu(b,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(y.geometry.morphAttributes).length>0&&ah(y,i),y.name=n.createUniqueName(i.name||"mesh_"+e),Yt(y,i),v.extensions&&In(o,y,v),n.assignFinalMaterial(y),f.push(y)}for(let p=0,g=f.length;p<g;p++)n.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return i.extensions&&In(o,f[0],i),f[0];const d=new Lo;i.extensions&&In(o,d,i),n.associations.set(d,{meshes:e});for(let p=0,g=f.length;p<g;p++)d.add(f[p]);return d})}loadCamera(e){let n;const r=this.json.cameras[e],o=r[r.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new yr(Du.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):r.type==="orthographic"&&(n=new Kn(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Yt(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let o=0,i=n.joints.length;o<i;o++)r.push(this._loadNodeShallow(n.joints[o]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(o){const i=o.pop(),s=o,c=[],a=[];for(let l=0,u=s.length;l<u;l++){const f=s[l];if(f){c.push(f);const d=new so;i!==null&&d.fromArray(i.array,l*16),a.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[l])}return new Ou(c,a)})}loadAnimation(e){const n=this.json,r=this,o=n.animations[e],i=o.name?o.name:"animation_"+e,s=[],c=[],a=[],l=[],u=[];for(let f=0,d=o.channels.length;f<d;f++){const p=o.channels[f],g=o.samplers[p.sampler],b=p.target,v=b.node,y=o.parameters!==void 0?o.parameters[g.input]:g.input,E=o.parameters!==void 0?o.parameters[g.output]:g.output;b.node!==void 0&&(s.push(this.getDependency("node",v)),c.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",E)),l.push(g),u.push(b))}return Promise.all([Promise.all(s),Promise.all(c),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(f){const d=f[0],p=f[1],g=f[2],b=f[3],v=f[4],y=[];for(let E=0,R=d.length;E<R;E++){const T=d[E],M=p[E],w=g[E],P=b[E],S=v[E];if(T===void 0)continue;T.updateMatrix&&T.updateMatrix();const F=r._createAnimationTracks(T,M,w,P,S);if(F)for(let I=0;I<F.length;I++)y.push(F[I])}return new Fu(i,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,o=n.nodes[e];return o.mesh===void 0?null:r.getDependency("mesh",o.mesh).then(function(i){const s=r._getNodeRef(r.meshCache,o.mesh,i);return o.weights!==void 0&&s.traverse(function(c){if(c.isMesh)for(let a=0,l=o.weights.length;a<l;a++)c.morphTargetInfluences[a]=o.weights[a]}),s})}loadNode(e){const n=this.json,r=this,o=n.nodes[e],i=r._loadNodeShallow(e),s=[],c=o.children||[];for(let l=0,u=c.length;l<u;l++)s.push(r.getDependency("node",c[l]));const a=o.skin===void 0?Promise.resolve(null):r.getDependency("skin",o.skin);return Promise.all([i,Promise.all(s),a]).then(function(l){const u=l[0],f=l[1],d=l[2];d!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(d,uh)});for(let p=0,g=f.length;p<g;p++)u.add(f[p]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,o=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const i=n.nodes[e],s=i.name?o.createUniqueName(i.name):"",c=[],a=o._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return a&&c.push(a),i.camera!==void 0&&c.push(o.getDependency("camera",i.camera).then(function(l){return o._getNodeRef(o.cameraCache,i.camera,l)})),o._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){c.push(l)}),this.nodeCache[e]=Promise.all(c).then(function(l){let u;if(i.isBone===!0?u=new Pu:l.length>1?u=new Lo:l.length===1?u=l[0]:u=new ao,u!==l[0])for(let f=0,d=l.length;f<d;f++)u.add(l[f]);if(i.name&&(u.userData.name=i.name,u.name=s),Yt(u,i),i.extensions&&In(r,u,i),i.matrix!==void 0){const f=new so;f.fromArray(i.matrix),u.applyMatrix4(f)}else i.translation!==void 0&&u.position.fromArray(i.translation),i.rotation!==void 0&&u.quaternion.fromArray(i.rotation),i.scale!==void 0&&u.scale.fromArray(i.scale);return o.associations.has(u)||o.associations.set(u,{}),o.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],o=this,i=new Lo;r.name&&(i.name=o.createUniqueName(r.name)),Yt(i,r),r.extensions&&In(n,i,r);const s=r.nodes||[],c=[];for(let a=0,l=s.length;a<l;a++)c.push(o.getDependency("node",s[a]));return Promise.all(c).then(function(a){for(let u=0,f=a.length;u<f;u++)i.add(a[u]);const l=u=>{const f=new Map;for(const[d,p]of o.associations)(d instanceof Po||d instanceof Mt)&&f.set(d,p);return u.traverse(d=>{const p=o.associations.get(d);p!=null&&f.set(d,p)}),f};return o.associations=l(i),i})}_createAnimationTracks(e,n,r,o,i){const s=[],c=e.name?e.name:e.uuid,a=[];mn[i.path]===mn.weights?e.traverse(function(d){d.morphTargetInfluences&&a.push(d.name?d.name:d.uuid)}):a.push(c);let l;switch(mn[i.path]){case mn.weights:l=ps;break;case mn.rotation:l=ms;break;case mn.position:case mn.scale:l=hs;break;default:switch(r.itemSize){case 1:l=ps;break;case 2:case 3:default:l=hs;break}break}const u=o.interpolation!==void 0?oh[o.interpolation]:ec,f=this._getArrayFromAccessor(r);for(let d=0,p=a.length;d<p;d++){const g=new l(a[d]+"."+mn[i.path],n.array,f,u);o.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),s.push(g)}return s}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=fi(n.constructor),o=new Float32Array(n.length);for(let i=0,s=n.length;i<s;i++)o[i]=n[i]*r;n=o}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const o=this instanceof ms?rh:vc;return new o(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function dh(t,e,n){const r=e.attributes,o=new Ju;if(r.POSITION!==void 0){const c=n.json.accessors[r.POSITION],a=c.min,l=c.max;if(a!==void 0&&l!==void 0){if(o.set(new Pe(a[0],a[1],a[2]),new Pe(l[0],l[1],l[2])),c.normalized){const u=fi(Qn[c.componentType]);o.min.multiplyScalar(u),o.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=e.targets;if(i!==void 0){const c=new Pe,a=new Pe;for(let l=0,u=i.length;l<u;l++){const f=i[l];if(f.POSITION!==void 0){const d=n.json.accessors[f.POSITION],p=d.min,g=d.max;if(p!==void 0&&g!==void 0){if(a.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),a.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),a.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),d.normalized){const b=fi(Qn[d.componentType]);a.multiplyScalar(b)}c.max(a)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(c)}t.boundingBox=o;const s=new Ku;o.getCenter(s.center),s.radius=o.min.distanceTo(o.max)/2,t.boundingSphere=s}function Ps(t,e,n){const r=e.attributes,o=[];function i(s,c){return n.getDependency("accessor",s).then(function(a){t.setAttribute(c,a)})}for(const s in r){const c=ui[s]||s.toLowerCase();c in t.attributes||o.push(i(r[s],c))}if(e.indices!==void 0&&!t.index){const s=n.getDependency("accessor",e.indices).then(function(c){t.setIndex(c)});o.push(s)}return Yt(t,e),dh(t,e,n),Promise.all(o).then(function(){return e.targets!==void 0?sh(t,e.targets,n):t})}const hh={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},ph={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class mh extends tc{constructor(e){super(e),this.type=Bt}parse(e){const s=function(S,F){switch(S){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(F||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(F||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(F||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(F||""))}},u=`
`,f=function(S,F,I){F=F||1024;let N=S.pos,Q=-1,L=0,Y="",X=String.fromCharCode.apply(null,new Uint16Array(S.subarray(N,N+128)));for(;0>(Q=X.indexOf(u))&&L<F&&N<S.byteLength;)Y+=X,L+=X.length,N+=128,X+=String.fromCharCode.apply(null,new Uint16Array(S.subarray(N,N+128)));return-1<Q?(S.pos+=L+Q+1,Y+X.slice(0,Q)):!1},d=function(S){const F=/^#\?(\S+)/,I=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,U=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,N=/^\s*FORMAT=(\S+)\s*$/,Q=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,L={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Y,X;for((S.pos>=S.byteLength||!(Y=f(S)))&&s(1,"no header found"),(X=Y.match(F))||s(3,"bad initial token"),L.valid|=1,L.programtype=X[1],L.string+=Y+`
`;Y=f(S),Y!==!1;){if(L.string+=Y+`
`,Y.charAt(0)==="#"){L.comments+=Y+`
`;continue}if((X=Y.match(I))&&(L.gamma=parseFloat(X[1])),(X=Y.match(U))&&(L.exposure=parseFloat(X[1])),(X=Y.match(N))&&(L.valid|=2,L.format=X[1]),(X=Y.match(Q))&&(L.valid|=4,L.height=parseInt(X[1],10),L.width=parseInt(X[2],10)),L.valid&2&&L.valid&4)break}return L.valid&2||s(3,"missing format specifier"),L.valid&4||s(3,"missing image size specifier"),L},p=function(S,F,I){const U=F;if(U<8||U>32767||S[0]!==2||S[1]!==2||S[2]&128)return new Uint8Array(S);U!==(S[2]<<8|S[3])&&s(3,"wrong scanline width");const N=new Uint8Array(4*F*I);N.length||s(4,"unable to allocate buffer space");let Q=0,L=0;const Y=4*U,X=new Uint8Array(4),ee=new Uint8Array(Y);let le=I;for(;le>0&&L<S.byteLength;){L+4>S.byteLength&&s(1),X[0]=S[L++],X[1]=S[L++],X[2]=S[L++],X[3]=S[L++],(X[0]!=2||X[1]!=2||(X[2]<<8|X[3])!=U)&&s(3,"bad rgbe scanline format");let de=0,ue;for(;de<Y&&L<S.byteLength;){ue=S[L++];const ge=ue>128;if(ge&&(ue-=128),(ue===0||de+ue>Y)&&s(3,"bad scanline data"),ge){const Be=S[L++];for(let Ke=0;Ke<ue;Ke++)ee[de++]=Be}else ee.set(S.subarray(L,L+ue),de),de+=ue,L+=ue}const me=U;for(let ge=0;ge<me;ge++){let Be=0;N[Q]=ee[ge+Be],Be+=U,N[Q+1]=ee[ge+Be],Be+=U,N[Q+2]=ee[ge+Be],Be+=U,N[Q+3]=ee[ge+Be],Q+=4}le--}return N},g=function(S,F,I,U){const N=S[F+3],Q=Math.pow(2,N-128)/255;I[U+0]=S[F+0]*Q,I[U+1]=S[F+1]*Q,I[U+2]=S[F+2]*Q,I[U+3]=1},b=function(S,F,I,U){const N=S[F+3],Q=Math.pow(2,N-128)/255;I[U+0]=zn.toHalfFloat(Math.min(S[F+0]*Q,65504)),I[U+1]=zn.toHalfFloat(Math.min(S[F+1]*Q,65504)),I[U+2]=zn.toHalfFloat(Math.min(S[F+2]*Q,65504)),I[U+3]=zn.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const y=d(v),E=y.width,R=y.height,T=p(v.subarray(v.pos),E,R);let M,w,P;switch(this.type){case qt:P=T.length/4;const S=new Float32Array(P*4);for(let I=0;I<P;I++)g(T,I*4,S,I*4);M=S,w=qt;break;case Bt:P=T.length/4;const F=new Uint16Array(P*4);for(let I=0;I<P;I++)b(T,I*4,F,I*4);M=F,w=Bt;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:E,height:R,data:M,header:y.string,gamma:y.gamma,exposure:y.exposure,type:w}}setDataType(e){return this.type=e,this}load(e,n,r,o){function i(s,c){switch(s.type){case qt:case Bt:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=Ct,s.magFilter=Ct,s.generateMipmaps=!1,s.flipY=!0;break}n&&n(s,c)}return super.load(e,i,r,o)}}const mr="colorSpace"in new Mt;class gh extends tc{constructor(e){super(e),this.type=Bt}parse(e){const F=Math.pow(2.7182818,2.2);function I(h,A){for(var B=0,_=0;_<65536;++_)(_==0||h[_>>3]&1<<(_&7))&&(A[B++]=_);for(var D=B-1;B<65536;)A[B++]=0;return D}function U(h){for(var A=0;A<16384;A++)h[A]={},h[A].len=0,h[A].lit=0,h[A].p=null}const N={l:0,c:0,lc:0};function Q(h,A,B,_,D){for(;B<h;)A=A<<8|Pt(_,D),B+=8;B-=h,N.l=A>>B&(1<<h)-1,N.c=A,N.lc=B}const L=new Array(59);function Y(h){for(var A=0;A<=58;++A)L[A]=0;for(var A=0;A<65537;++A)L[h[A]]+=1;for(var B=0,A=58;A>0;--A){var _=B+L[A]>>1;L[A]=B,B=_}for(var A=0;A<65537;++A){var D=h[A];D>0&&(h[A]=D|L[D]++<<6)}}function X(h,A,B,_,D,O,G){for(var k=B,K=0,J=0;D<=O;D++){if(k.value-B.value>_)return!1;Q(6,K,J,h,k);var W=N.l;if(K=N.c,J=N.lc,G[D]=W,W==63){if(k.value-B.value>_)throw"Something wrong with hufUnpackEncTable";Q(8,K,J,h,k);var j=N.l+6;if(K=N.c,J=N.lc,D+j>O+1)throw"Something wrong with hufUnpackEncTable";for(;j--;)G[D++]=0;D--}else if(W>=59){var j=W-59+2;if(D+j>O+1)throw"Something wrong with hufUnpackEncTable";for(;j--;)G[D++]=0;D--}}Y(G)}function ee(h){return h&63}function le(h){return h>>6}function de(h,A,B,_){for(;A<=B;A++){var D=le(h[A]),O=ee(h[A]);if(D>>O)throw"Invalid table entry";if(O>14){var G=_[D>>O-14];if(G.len)throw"Invalid table entry";if(G.lit++,G.p){var k=G.p;G.p=new Array(G.lit);for(var K=0;K<G.lit-1;++K)G.p[K]=k[K]}else G.p=new Array(1);G.p[G.lit-1]=A}else if(O)for(var J=0,K=1<<14-O;K>0;K--){var G=_[(D<<14-O)+J];if(G.len||G.p)throw"Invalid table entry";G.len=O,G.lit=A,J++}}return!0}const ue={c:0,lc:0};function me(h,A,B,_){h=h<<8|Pt(B,_),A+=8,ue.c=h,ue.lc=A}const ge={c:0,lc:0};function Be(h,A,B,_,D,O,G,k,K,J){if(h==A){_<8&&(me(B,_,D,G),B=ue.c,_=ue.lc),_-=8;var W=B>>_,W=new Uint8Array([W])[0];if(K.value+W>J)return!1;for(var j=k[K.value-1];W-- >0;)k[K.value++]=j}else if(K.value<J)k[K.value++]=h;else return!1;ge.c=B,ge.lc=_}function Ke(h){return h&65535}function We(h){var A=Ke(h);return A>32767?A-65536:A}const ce={a:0,b:0};function He(h,A){var B=We(h),_=We(A),D=_,O=B+(D&1)+(D>>1),G=O,k=O-D;ce.a=G,ce.b=k}function $e(h,A){var B=Ke(h),_=Ke(A),D=B-(_>>1)&65535,O=_+D-32768&65535;ce.a=O,ce.b=D}function xt(h,A,B,_,D,O,G){for(var k=G<16384,K=B>D?D:B,J=1,W;J<=K;)J<<=1;for(J>>=1,W=J,J>>=1;J>=1;){for(var j=0,Ie=j+O*(D-W),q=O*J,te=O*W,ae=_*J,fe=_*W,ye,Ee,Ne,et;j<=Ie;j+=te){for(var we=j,$t=j+_*(B-W);we<=$t;we+=fe){var Te=we+ae,je=we+q,Wt=je+ae;k?(He(h[we+A],h[je+A]),ye=ce.a,Ne=ce.b,He(h[Te+A],h[Wt+A]),Ee=ce.a,et=ce.b,He(ye,Ee),h[we+A]=ce.a,h[Te+A]=ce.b,He(Ne,et),h[je+A]=ce.a,h[Wt+A]=ce.b):($e(h[we+A],h[je+A]),ye=ce.a,Ne=ce.b,$e(h[Te+A],h[Wt+A]),Ee=ce.a,et=ce.b,$e(ye,Ee),h[we+A]=ce.a,h[Te+A]=ce.b,$e(Ne,et),h[je+A]=ce.a,h[Wt+A]=ce.b)}if(B&J){var je=we+q;k?He(h[we+A],h[je+A]):$e(h[we+A],h[je+A]),ye=ce.a,h[je+A]=ce.b,h[we+A]=ye}}if(D&J)for(var we=j,$t=j+_*(B-W);we<=$t;we+=fe){var Te=we+ae;k?He(h[we+A],h[Te+A]):$e(h[we+A],h[Te+A]),ye=ce.a,h[Te+A]=ce.b,h[we+A]=ye}W=J,J>>=1}return j}function cn(h,A,B,_,D,O,G,k,K,J){for(var W=0,j=0,Ie=k,q=Math.trunc(D.value+(O+7)/8);D.value<q;)for(me(W,j,B,D),W=ue.c,j=ue.lc;j>=14;){var te=W>>j-14&16383,ae=A[te];if(ae.len)j-=ae.len,Be(ae.lit,G,W,j,B,_,D,K,J,Ie),W=ge.c,j=ge.lc;else{if(!ae.p)throw"hufDecode issues";var fe;for(fe=0;fe<ae.lit;fe++){for(var ye=ee(h[ae.p[fe]]);j<ye&&D.value<q;)me(W,j,B,D),W=ue.c,j=ue.lc;if(j>=ye&&le(h[ae.p[fe]])==(W>>j-ye&(1<<ye)-1)){j-=ye,Be(ae.p[fe],G,W,j,B,_,D,K,J,Ie),W=ge.c,j=ge.lc;break}}if(fe==ae.lit)throw"hufDecode issues"}}var Ee=8-O&7;for(W>>=Ee,j-=Ee;j>0;){var ae=A[W<<14-j&16383];if(ae.len)j-=ae.len,Be(ae.lit,G,W,j,B,_,D,K,J,Ie),W=ge.c,j=ge.lc;else throw"hufDecode issues"}return!0}function Ot(h,A,B,_,D,O){var G={value:0},k=B.value,K=Le(A,B),J=Le(A,B);B.value+=4;var W=Le(A,B);if(B.value+=4,K<0||K>=65537||J<0||J>=65537)throw"Something wrong with HUF_ENCSIZE";var j=new Array(65537),Ie=new Array(16384);U(Ie);var q=_-(B.value-k);if(X(h,A,B,q,K,J,j),W>8*(_-(B.value-k)))throw"Something wrong with hufUncompress";de(j,K,J,Ie),cn(j,Ie,h,A,B,W,J,O,D,G)}function Kt(h,A,B){for(var _=0;_<B;++_)A[_]=h[A[_]]}function ot(h){for(var A=1;A<h.length;A++){var B=h[A-1]+h[A]-128;h[A]=B}}function Ft(h,A){for(var B=0,_=Math.floor((h.length+1)/2),D=0,O=h.length-1;!(D>O||(A[D++]=h[B++],D>O));)A[D++]=h[_++]}function Ze(h){for(var A=h.byteLength,B=new Array,_=0,D=new DataView(h);A>0;){var O=D.getInt8(_++);if(O<0){var G=-O;A-=G+1;for(var k=0;k<G;k++)B.push(D.getUint8(_++))}else{var G=O;A-=2;for(var K=D.getUint8(_++),k=0;k<G+1;k++)B.push(K)}}return B}function ht(h,A,B,_,D,O){var Te=new DataView(O.buffer),G=B[h.idx[0]].width,k=B[h.idx[0]].height,K=3,J=Math.floor(G/8),W=Math.ceil(G/8),j=Math.ceil(k/8),Ie=G-(W-1)*8,q=k-(j-1)*8,te={value:0},ae=new Array(K),fe=new Array(K),ye=new Array(K),Ee=new Array(K),Ne=new Array(K);for(let Ce=0;Ce<K;++Ce)Ne[Ce]=A[h.idx[Ce]],ae[Ce]=Ce<1?0:ae[Ce-1]+W*j,fe[Ce]=new Float32Array(64),ye[Ce]=new Uint16Array(64),Ee[Ce]=new Uint16Array(W*64);for(let Ce=0;Ce<j;++Ce){var et=8;Ce==j-1&&(et=q);var we=8;for(let Me=0;Me<W;++Me){Me==W-1&&(we=Ie);for(let ve=0;ve<K;++ve)ye[ve].fill(0),ye[ve][0]=D[ae[ve]++],ln(te,_,ye[ve]),un(ye[ve],fe[ve]),En(fe[ve]);fn(fe);for(let ve=0;ve<K;++ve)pt(fe[ve],Ee[ve],Me*64)}let Ye=0;for(let Me=0;Me<K;++Me){const ve=B[h.idx[Me]].type;for(let At=8*Ce;At<8*Ce+et;++At){Ye=Ne[Me][At];for(let _n=0;_n<J;++_n){const lt=_n*64+(At&7)*8;Te.setUint16(Ye+0*2*ve,Ee[Me][lt+0],!0),Te.setUint16(Ye+1*2*ve,Ee[Me][lt+1],!0),Te.setUint16(Ye+2*2*ve,Ee[Me][lt+2],!0),Te.setUint16(Ye+3*2*ve,Ee[Me][lt+3],!0),Te.setUint16(Ye+4*2*ve,Ee[Me][lt+4],!0),Te.setUint16(Ye+5*2*ve,Ee[Me][lt+5],!0),Te.setUint16(Ye+6*2*ve,Ee[Me][lt+6],!0),Te.setUint16(Ye+7*2*ve,Ee[Me][lt+7],!0),Ye+=8*2*ve}}if(J!=W)for(let At=8*Ce;At<8*Ce+et;++At){const _n=Ne[Me][At]+8*J*2*ve,lt=J*64+(At&7)*8;for(let hn=0;hn<we;++hn)Te.setUint16(_n+hn*2*ve,Ee[Me][lt+hn],!0)}}}for(var $t=new Uint16Array(G),Te=new DataView(O.buffer),je=0;je<K;++je){B[h.idx[je]].decoded=!0;var Wt=B[h.idx[je]].type;if(B[je].type==2)for(var hr=0;hr<k;++hr){const Ce=Ne[je][hr];for(var gt=0;gt<G;++gt)$t[gt]=Te.getUint16(Ce+gt*2*Wt,!0);for(var gt=0;gt<G;++gt)Te.setFloat32(Ce+gt*2*Wt,H($t[gt]),!0)}}}function ln(h,A,B){for(var _,D=1;D<64;)_=A[h.value],_==65280?D=64:_>>8==255?D+=_&255:(B[D]=_,D++),h.value++}function un(h,A){A[0]=H(h[0]),A[1]=H(h[1]),A[2]=H(h[5]),A[3]=H(h[6]),A[4]=H(h[14]),A[5]=H(h[15]),A[6]=H(h[27]),A[7]=H(h[28]),A[8]=H(h[2]),A[9]=H(h[4]),A[10]=H(h[7]),A[11]=H(h[13]),A[12]=H(h[16]),A[13]=H(h[26]),A[14]=H(h[29]),A[15]=H(h[42]),A[16]=H(h[3]),A[17]=H(h[8]),A[18]=H(h[12]),A[19]=H(h[17]),A[20]=H(h[25]),A[21]=H(h[30]),A[22]=H(h[41]),A[23]=H(h[43]),A[24]=H(h[9]),A[25]=H(h[11]),A[26]=H(h[18]),A[27]=H(h[24]),A[28]=H(h[31]),A[29]=H(h[40]),A[30]=H(h[44]),A[31]=H(h[53]),A[32]=H(h[10]),A[33]=H(h[19]),A[34]=H(h[23]),A[35]=H(h[32]),A[36]=H(h[39]),A[37]=H(h[45]),A[38]=H(h[52]),A[39]=H(h[54]),A[40]=H(h[20]),A[41]=H(h[22]),A[42]=H(h[33]),A[43]=H(h[38]),A[44]=H(h[46]),A[45]=H(h[51]),A[46]=H(h[55]),A[47]=H(h[60]),A[48]=H(h[21]),A[49]=H(h[34]),A[50]=H(h[37]),A[51]=H(h[47]),A[52]=H(h[50]),A[53]=H(h[56]),A[54]=H(h[59]),A[55]=H(h[61]),A[56]=H(h[35]),A[57]=H(h[36]),A[58]=H(h[48]),A[59]=H(h[49]),A[60]=H(h[57]),A[61]=H(h[58]),A[62]=H(h[62]),A[63]=H(h[63])}function En(h){const A=.5*Math.cos(.7853975),B=.5*Math.cos(3.14159/16),_=.5*Math.cos(3.14159/8),D=.5*Math.cos(3*3.14159/16),O=.5*Math.cos(5*3.14159/16),G=.5*Math.cos(3*3.14159/8),k=.5*Math.cos(7*3.14159/16);for(var K=new Array(4),J=new Array(4),W=new Array(4),j=new Array(4),Ie=0;Ie<8;++Ie){var q=Ie*8;K[0]=_*h[q+2],K[1]=G*h[q+2],K[2]=_*h[q+6],K[3]=G*h[q+6],J[0]=B*h[q+1]+D*h[q+3]+O*h[q+5]+k*h[q+7],J[1]=D*h[q+1]-k*h[q+3]-B*h[q+5]-O*h[q+7],J[2]=O*h[q+1]-B*h[q+3]+k*h[q+5]+D*h[q+7],J[3]=k*h[q+1]-O*h[q+3]+D*h[q+5]-B*h[q+7],W[0]=A*(h[q+0]+h[q+4]),W[3]=A*(h[q+0]-h[q+4]),W[1]=K[0]+K[3],W[2]=K[1]-K[2],j[0]=W[0]+W[1],j[1]=W[3]+W[2],j[2]=W[3]-W[2],j[3]=W[0]-W[1],h[q+0]=j[0]+J[0],h[q+1]=j[1]+J[1],h[q+2]=j[2]+J[2],h[q+3]=j[3]+J[3],h[q+4]=j[3]-J[3],h[q+5]=j[2]-J[2],h[q+6]=j[1]-J[1],h[q+7]=j[0]-J[0]}for(var te=0;te<8;++te)K[0]=_*h[16+te],K[1]=G*h[16+te],K[2]=_*h[48+te],K[3]=G*h[48+te],J[0]=B*h[8+te]+D*h[24+te]+O*h[40+te]+k*h[56+te],J[1]=D*h[8+te]-k*h[24+te]-B*h[40+te]-O*h[56+te],J[2]=O*h[8+te]-B*h[24+te]+k*h[40+te]+D*h[56+te],J[3]=k*h[8+te]-O*h[24+te]+D*h[40+te]-B*h[56+te],W[0]=A*(h[te]+h[32+te]),W[3]=A*(h[te]-h[32+te]),W[1]=K[0]+K[3],W[2]=K[1]-K[2],j[0]=W[0]+W[1],j[1]=W[3]+W[2],j[2]=W[3]-W[2],j[3]=W[0]-W[1],h[0+te]=j[0]+J[0],h[8+te]=j[1]+J[1],h[16+te]=j[2]+J[2],h[24+te]=j[3]+J[3],h[32+te]=j[3]-J[3],h[40+te]=j[2]-J[2],h[48+te]=j[1]-J[1],h[56+te]=j[0]-J[0]}function fn(h){for(var A=0;A<64;++A){var B=h[0][A],_=h[1][A],D=h[2][A];h[0][A]=B+1.5747*D,h[1][A]=B-.1873*_-.4682*D,h[2][A]=B+1.8556*_}}function pt(h,A,B){for(var _=0;_<64;++_)A[B+_]=zn.toHalfFloat(wn(h[_]))}function wn(h){return h<=1?Math.sign(h)*Math.pow(Math.abs(h),2.2):Math.sign(h)*Math.pow(F,Math.abs(h)-1)}function z(h){return new DataView(h.array.buffer,h.offset.value,h.size)}function oe(h){var A=h.viewer.buffer.slice(h.offset.value,h.offset.value+h.size),B=new Uint8Array(Ze(A)),_=new Uint8Array(B.length);return ot(B),Ft(B,_),new DataView(_.buffer)}function _e(h){var A=h.array.slice(h.offset.value,h.offset.value+h.size),B=Jr(A),_=new Uint8Array(B.length);return ot(B),Ft(B,_),new DataView(_.buffer)}function Ue(h){for(var A=h.viewer,B={value:h.offset.value},_=new Uint16Array(h.width*h.scanlineBlockSize*(h.channels*h.type)),D=new Uint8Array(8192),O=0,G=new Array(h.channels),k=0;k<h.channels;k++)G[k]={},G[k].start=O,G[k].end=G[k].start,G[k].nx=h.width,G[k].ny=h.lines,G[k].size=h.type,O+=G[k].nx*G[k].ny*G[k].size;var K=qe(A,B),J=qe(A,B);if(J>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(K<=J)for(var k=0;k<J-K+1;k++)D[k+K]=x(A,B);var W=new Uint16Array(65536),j=I(D,W),Ie=Le(A,B);Ot(h.array,A,B,Ie,_,O);for(var k=0;k<h.channels;++k)for(var q=G[k],te=0;te<G[k].size;++te)xt(_,q.start+te,q.nx,q.size,q.ny,q.nx*q.size,j);Kt(W,_,O);for(var ae=0,fe=new Uint8Array(_.buffer.byteLength),ye=0;ye<h.lines;ye++)for(var Ee=0;Ee<h.channels;Ee++){var q=G[Ee],Ne=q.nx*q.size,et=new Uint8Array(_.buffer,q.end*2,Ne*2);fe.set(et,ae),ae+=Ne*2,q.end+=Ne}return new DataView(fe.buffer)}function ze(h){var A=h.array.slice(h.offset.value,h.offset.value+h.size),B=Jr(A);const _=h.lines*h.channels*h.width,D=h.type==1?new Uint16Array(_):new Uint32Array(_);let O=0,G=0;const k=new Array(4);for(let K=0;K<h.lines;K++)for(let J=0;J<h.channels;J++){let W=0;switch(h.type){case 1:k[0]=O,k[1]=k[0]+h.width,O=k[1]+h.width;for(let j=0;j<h.width;++j){const Ie=B[k[0]++]<<8|B[k[1]++];W+=Ie,D[G]=W,G++}break;case 2:k[0]=O,k[1]=k[0]+h.width,k[2]=k[1]+h.width,O=k[2]+h.width;for(let j=0;j<h.width;++j){const Ie=B[k[0]++]<<24|B[k[1]++]<<16|B[k[2]++]<<8;W+=Ie,D[G]=W,G++}break}}return new DataView(D.buffer)}function mt(h){var A=h.viewer,B={value:h.offset.value},_=new Uint8Array(h.width*h.lines*(h.channels*h.type*2)),D={version:$(A,B),unknownUncompressedSize:$(A,B),unknownCompressedSize:$(A,B),acCompressedSize:$(A,B),dcCompressedSize:$(A,B),rleCompressedSize:$(A,B),rleUncompressedSize:$(A,B),rleRawSize:$(A,B),totalAcUncompressedCount:$(A,B),totalDcUncompressedCount:$(A,B),acCompression:$(A,B)};if(D.version<2)throw"EXRLoader.parse: "+dr.compression+" version "+D.version+" is unsupported";for(var O=new Array,G=qe(A,B)-2;G>0;){var k=at(A.buffer,B),K=x(A,B),J=K>>2&3,W=(K>>4)-1,j=new Int8Array([W])[0],Ie=x(A,B);O.push({name:k,index:j,type:Ie,compression:J}),G-=k.length+3}for(var q=dr.channels,te=new Array(h.channels),ae=0;ae<h.channels;++ae){var fe=te[ae]={},ye=q[ae];fe.name=ye.name,fe.compression=0,fe.decoded=!1,fe.type=ye.pixelType,fe.pLinear=ye.pLinear,fe.width=h.width,fe.height=h.lines}for(var Ee={idx:new Array(3)},Ne=0;Ne<h.channels;++Ne)for(var fe=te[Ne],ae=0;ae<O.length;++ae){var et=O[ae];fe.name==et.name&&(fe.compression=et.compression,et.index>=0&&(Ee.idx[et.index]=Ne),fe.offset=Ne)}if(D.acCompressedSize>0)switch(D.acCompression){case 0:var Te=new Uint16Array(D.totalAcUncompressedCount);Ot(h.array,A,B,D.acCompressedSize,Te,D.totalAcUncompressedCount);break;case 1:var we=h.array.slice(B.value,B.value+D.totalAcUncompressedCount),$t=Jr(we),Te=new Uint16Array($t.buffer);B.value+=D.totalAcUncompressedCount;break}if(D.dcCompressedSize>0){var je={array:h.array,offset:B,size:D.dcCompressedSize},Wt=new Uint16Array(_e(je).buffer);B.value+=D.dcCompressedSize}if(D.rleRawSize>0){var we=h.array.slice(B.value,B.value+D.rleCompressedSize),$t=Jr(we),hr=Ze($t.buffer);B.value+=D.rleCompressedSize}for(var gt=0,Ce=new Array(te.length),ae=0;ae<Ce.length;++ae)Ce[ae]=new Array;for(var Ye=0;Ye<h.lines;++Ye)for(var Me=0;Me<te.length;++Me)Ce[Me].push(gt),gt+=te[Me].width*h.type*2;ht(Ee,Ce,te,Te,Wt,_);for(var ae=0;ae<te.length;++ae){var fe=te[ae];if(!fe.decoded)switch(fe.compression){case 2:for(var ve=0,At=0,Ye=0;Ye<h.lines;++Ye){for(var _n=Ce[ae][ve],lt=0;lt<fe.width;++lt){for(var hn=0;hn<2*fe.type;++hn)_[_n++]=hr[At+hn*fe.width*fe.height];At++}ve++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(_.buffer)}function at(h,A){for(var B=new Uint8Array(h),_=0;B[A.value+_]!=0;)_+=1;var D=new TextDecoder().decode(B.slice(A.value,A.value+_));return A.value=A.value+_+1,D}function xn(h,A,B){var _=new TextDecoder().decode(new Uint8Array(h).slice(A.value,A.value+B));return A.value=A.value+B,_}function dn(h,A){var B=ct(h,A),_=Le(h,A);return[B,_]}function Rn(h,A){var B=Le(h,A),_=Le(h,A);return[B,_]}function ct(h,A){var B=h.getInt32(A.value,!0);return A.value=A.value+4,B}function Le(h,A){var B=h.getUint32(A.value,!0);return A.value=A.value+4,B}function Pt(h,A){var B=h[A.value];return A.value=A.value+1,B}function x(h,A){var B=h.getUint8(A.value);return A.value=A.value+1,B}const $=function(h,A){let B;return"getBigInt64"in DataView.prototype?B=Number(h.getBigInt64(A.value,!0)):B=h.getUint32(A.value+4,!0)+Number(h.getUint32(A.value,!0)<<32),A.value+=8,B};function V(h,A){var B=h.getFloat32(A.value,!0);return A.value+=4,B}function Ae(h,A){return zn.toHalfFloat(V(h,A))}function H(h){var A=(h&31744)>>10,B=h&1023;return(h>>15?-1:1)*(A?A===31?B?NaN:1/0:Math.pow(2,A-15)*(1+B/1024):6103515625e-14*(B/1024))}function qe(h,A){var B=h.getUint16(A.value,!0);return A.value+=2,B}function Lt(h,A){return H(qe(h,A))}function us(h,A,B,_){for(var D=B.value,O=[];B.value<D+_-1;){var G=at(A,B),k=ct(h,B),K=x(h,B);B.value+=3;var J=ct(h,B),W=ct(h,B);O.push({name:G,pixelType:k,pLinear:K,xSampling:J,ySampling:W})}return B.value+=1,O}function Ur(h,A){var B=V(h,A),_=V(h,A),D=V(h,A),O=V(h,A),G=V(h,A),k=V(h,A),K=V(h,A),J=V(h,A);return{redX:B,redY:_,greenX:D,greenY:O,blueX:G,blueY:k,whiteX:K,whiteY:J}}function Rt(h,A){var B=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],_=x(h,A);return B[_]}function Tt(h,A){var B=Le(h,A),_=Le(h,A),D=Le(h,A),O=Le(h,A);return{xMin:B,yMin:_,xMax:D,yMax:O}}function Tn(h,A){var B=["INCREASING_Y"],_=x(h,A);return B[_]}function Sn(h,A){var B=V(h,A),_=V(h,A);return[B,_]}function Mn(h,A){var B=V(h,A),_=V(h,A),D=V(h,A);return[B,_,D]}function Gn(h,A,B,_,D){if(_==="string"||_==="stringvector"||_==="iccProfile")return xn(A,B,D);if(_==="chlist")return us(h,A,B,D);if(_==="chromaticities")return Ur(h,B);if(_==="compression")return Rt(h,B);if(_==="box2i")return Tt(h,B);if(_==="lineOrder")return Tn(h,B);if(_==="float")return V(h,B);if(_==="v2f")return Sn(h,B);if(_==="v3f")return Mn(h,B);if(_==="int")return ct(h,B);if(_==="rational")return dn(h,B);if(_==="timecode")return Rn(h,B);if(_==="preview")return B.value+=D,"skipped";B.value+=D}function cu(h,A,B){const _={};if(h.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";_.version=h.getUint8(4);const D=h.getUint8(5);_.spec={singleTile:!!(D&2),longName:!!(D&4),deepFormat:!!(D&8),multiPart:!!(D&16)},B.value=8;for(var O=!0;O;){var G=at(A,B);if(G==0)O=!1;else{var k=at(A,B),K=Le(h,B),J=Gn(h,A,B,k,K);J===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${k}'.`):_[G]=J}}if(D&-5)throw console.error("EXRHeader:",_),"THREE.EXRLoader: provided file is currently unsupported.";return _}function lu(h,A,B,_,D){const O={size:0,viewer:A,array:B,offset:_,width:h.dataWindow.xMax-h.dataWindow.xMin+1,height:h.dataWindow.yMax-h.dataWindow.yMin+1,channels:h.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:h.channels[0].pixelType,uncompress:null,getter:null,format:null,[mr?"colorSpace":"encoding"]:null};switch(h.compression){case"NO_COMPRESSION":O.lines=1,O.uncompress=z;break;case"RLE_COMPRESSION":O.lines=1,O.uncompress=oe;break;case"ZIPS_COMPRESSION":O.lines=1,O.uncompress=_e;break;case"ZIP_COMPRESSION":O.lines=16,O.uncompress=_e;break;case"PIZ_COMPRESSION":O.lines=32,O.uncompress=Ue;break;case"PXR24_COMPRESSION":O.lines=16,O.uncompress=ze;break;case"DWAA_COMPRESSION":O.lines=32,O.uncompress=mt;break;case"DWAB_COMPRESSION":O.lines=256,O.uncompress=mt;break;default:throw"EXRLoader.parse: "+h.compression+" is unsupported"}if(O.scanlineBlockSize=O.lines,O.type==1)switch(D){case qt:O.getter=Lt,O.inputSize=2;break;case Bt:O.getter=qe,O.inputSize=2;break}else if(O.type==2)switch(D){case qt:O.getter=V,O.inputSize=4;break;case Bt:O.getter=Ae,O.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+O.type+" for "+h.compression+".";O.blockCount=(h.dataWindow.yMax+1)/O.scanlineBlockSize;for(var G=0;G<O.blockCount;G++)$(A,_);O.outputChannels=O.channels==3?4:O.channels;const k=O.width*O.height*O.outputChannels;switch(D){case qt:O.byteArray=new Float32Array(k),O.channels<O.outputChannels&&O.byteArray.fill(1,0,k);break;case Bt:O.byteArray=new Uint16Array(k),O.channels<O.outputChannels&&O.byteArray.fill(15360,0,k);break;default:console.error("THREE.EXRLoader: unsupported type: ",D);break}return O.bytesPerLine=O.width*O.inputSize*O.channels,O.outputChannels==4?O.format=Sr:O.format=zu,mr?O.colorSpace="srgb-linear":O.encoding=3e3,O}const jr=new DataView(e),uu=new Uint8Array(e),fr={value:0},dr=cu(jr,e,fr),pe=lu(dr,jr,uu,fr,this.type),fs={value:0},fu={R:0,G:1,B:2,A:3,Y:0};for(let h=0;h<pe.height/pe.scanlineBlockSize;h++){const A=Le(jr,fr);pe.size=Le(jr,fr),pe.lines=A+pe.scanlineBlockSize>pe.height?pe.height-A:pe.scanlineBlockSize;const _=pe.size<pe.lines*pe.bytesPerLine?pe.uncompress(pe):z(pe);fr.value+=pe.size;for(let D=0;D<pe.scanlineBlockSize;D++){const O=D+h*pe.scanlineBlockSize;if(O>=pe.height)break;for(let G=0;G<pe.channels;G++){const k=fu[dr.channels[G].name];for(let K=0;K<pe.width;K++){fs.value=(D*(pe.channels*pe.width)+G*pe.width+K)*pe.inputSize;const J=(pe.height-1-O)*(pe.width*pe.outputChannels)+K*pe.outputChannels+k;pe.byteArray[J]=pe.getter(_,fs)}}}}return{header:dr,width:pe.width,height:pe.height,data:pe.byteArray,format:pe.format,[mr?"colorSpace":"encoding"]:pe[mr?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,o){function i(s,c){mr?s.colorSpace=c.colorSpace:s.encoding=c.encoding,s.minFilter=Ct,s.magFilter=Ct,s.generateMipmaps=!1,s.flipY=!1,n&&n(s,c)}return super.load(e,i,r,o)}}const jo=new WeakMap;class Ah extends Pi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,o){const i=new vn(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,s=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,c).then(n).catch(o)},r,o)}decodeDracoFile(e,n,r,o){const i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,i).then(n)}decodeGeometry(e,n){for(const a in n.attributeTypes){const l=n.attributeTypes[a];l.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[a]=l.name)}const r=JSON.stringify(n);if(jo.has(e)){const a=jo.get(e);if(a.key===r)return a.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const i=this.workerNextTaskID++,s=e.byteLength,c=this._getWorker(i,s).then(a=>(o=a,new Promise((l,u)=>{o._callbacks[i]={resolve:l,reject:u},o.postMessage({type:"decode",id:i,taskConfig:n,buffer:e},[e])}))).then(a=>this._createGeometry(a.geometry));return c.catch(()=>!0).then(()=>{o&&i&&this._releaseTask(o,i)}),jo.set(e,{key:r,promise:c}),c}_createGeometry(e){const n=new qa;e.index&&n.setIndex(new Br(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const o=e.attributes[r],i=o.name,s=o.array,c=o.itemSize;n.setAttribute(i,new Br(s,c))}return n}_loadLibrary(e,n){const r=new vn(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((o,i)=>{r.load(e,o,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const o=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const i=vh.toString(),s=["/* draco decoder */",o,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(i){const s=i.data;switch(s.type){case"decode":o._callbacks[s.id].resolve(s);break;case"error":o._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,i){return o._taskLoad>i._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function vh(){let t,e;onmessage=function(s){const c=s.data;switch(c.type){case"init":t=c.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(t)});break;case"decode":const a=c.buffer,l=c.taskConfig;e.then(u=>{const f=u.draco,d=new f.Decoder,p=new f.DecoderBuffer;p.Init(new Int8Array(a),a.byteLength);try{const g=n(f,d,p,l),b=g.attributes.map(v=>v.array.buffer);g.index&&b.push(g.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:g},b)}catch(g){console.error(g),self.postMessage({type:"error",id:c.id,error:g.message})}finally{f.destroy(p),f.destroy(d)}});break}};function n(s,c,a,l){const u=l.attributeIDs,f=l.attributeTypes;let d,p;const g=c.GetEncodedGeometryType(a);if(g===s.TRIANGULAR_MESH)d=new s.Mesh,p=c.DecodeBufferToMesh(a,d);else if(g===s.POINT_CLOUD)d=new s.PointCloud,p=c.DecodeBufferToPointCloud(a,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const b={index:null,attributes:[]};for(const v in u){const y=self[f[v]];let E,R;if(l.useUniqueIDs)R=u[v],E=c.GetAttributeByUniqueId(d,R);else{if(R=c.GetAttributeId(d,s[u[v]]),R===-1)continue;E=c.GetAttribute(d,R)}b.attributes.push(o(s,c,d,v,y,E))}return g===s.TRIANGULAR_MESH&&(b.index=r(s,c,d)),s.destroy(d),b}function r(s,c,a){const u=a.num_faces()*3,f=u*4,d=s._malloc(f);c.GetTrianglesUInt32Array(a,f,d);const p=new Uint32Array(s.HEAPF32.buffer,d,u).slice();return s._free(d),{array:p,itemSize:1}}function o(s,c,a,l,u,f){const d=f.num_components(),g=a.num_points()*d,b=g*u.BYTES_PER_ELEMENT,v=i(s,u),y=s._malloc(b);c.GetAttributeDataArrayForAllPoints(a,f,v,b,y);const E=new u(s.HEAPF32.buffer,y,g).slice();return s._free(y),{name:l,array:E,itemSize:d}}function i(s,c){switch(c){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let Wr;const Jo=()=>{if(Wr)return Wr;const t="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",e="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let o=t;WebAssembly.validate(n)&&(o=e);let i;const s=WebAssembly.instantiate(c(o),{}).then(f=>{i=f.instance,i.exports.__wasm_call_ctors()});function c(f){const d=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const b=f.charCodeAt(g);d[g]=b>96?b-71:b>64?b-65:b>47?b+4:b>46?63:62}let p=0;for(let g=0;g<f.length;++g)d[p++]=d[g]<60?r[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,p)}function a(f,d,p,g,b,v){const y=i.exports.sbrk,E=p+3&-4,R=y(E*g),T=y(b.length),M=new Uint8Array(i.exports.memory.buffer);M.set(b,T);const w=f(R,p,g,T,b.length);if(w===0&&v&&v(R,E,g),d.set(M.subarray(R,R+p*g)),y(R-y(0)),w!==0)throw new Error(`Malformed buffer data: ${w}`)}const l={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Wr={ready:s,supported:!0,decodeVertexBuffer(f,d,p,g,b){a(i.exports.meshopt_decodeVertexBuffer,f,d,p,g,i.exports[l[b]])},decodeIndexBuffer(f,d,p,g){a(i.exports.meshopt_decodeIndexBuffer,f,d,p,g)},decodeIndexSequence(f,d,p,g){a(i.exports.meshopt_decodeIndexSequence,f,d,p,g)},decodeGltfBuffer(f,d,p,g,b,v){a(i.exports[u[b]],f,d,p,g,i.exports[l[v]])}},Wr};function bc(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const Ko=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function Yn(t,e){const n=Xe(i=>i.gl),r=$n(Ro,Ko(t)?Object.values(t):t);return m.useLayoutEffect(()=>{e==null||e(r)},[e]),m.useEffect(()=>{if("initTexture"in n){let i=[];Array.isArray(r)?i=r:r instanceof Mt?i=[r]:Ko(r)&&(i=Object.values(r)),i.forEach(s=>{s instanceof Mt&&n.initTexture(s)})}},[n,r]),m.useMemo(()=>{if(Ko(t)){const i={};let s=0;for(const c in t)i[c]=r[s++];return i}else return r},[t,r])}Yn.preload=t=>$n.preload(Ro,t);Yn.clear=t=>$n.clear(Ro,t);let zr=null,yc="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function Cc(t,e,n){return r=>{n&&n(r),t&&(zr||(zr=new Ah),zr.setDecoderPath(typeof t=="string"?t:yc),r.setDRACOLoader(zr)),e&&r.setMeshoptDecoder(typeof Jo=="function"?Jo():Jo)}}function Mo(t,e=!0,n=!0,r){return $n(ki,t,Cc(e,n,r))}Mo.preload=(t,e=!0,n=!0,r)=>$n.preload(ki,t,Cc(e,n,r));Mo.clear=t=>$n.clear(ki,t);Mo.setDecoderPath=t=>{yc=t};const bh=m.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:o=!0,keyEvents:i=!1,onChange:s,onStart:c,onEnd:a,...l},u)=>{const f=Xe(w=>w.invalidate),d=Xe(w=>w.camera),p=Xe(w=>w.gl),g=Xe(w=>w.events),b=Xe(w=>w.setEvents),v=Xe(w=>w.set),y=Xe(w=>w.get),E=Xe(w=>w.performance),R=e||d,T=r||g.connected||p.domElement,M=m.useMemo(()=>new Id(R),[R]);return To(()=>{M.enabled&&M.update()},-1),m.useEffect(()=>(i&&M.connect(i===!0?T:i),M.connect(T),()=>void M.dispose()),[i,T,n,M,f]),m.useEffect(()=>{const w=F=>{f(),n&&E.regress(),s&&s(F)},P=F=>{c&&c(F)},S=F=>{a&&a(F)};return M.addEventListener("change",w),M.addEventListener("start",P),M.addEventListener("end",S),()=>{M.removeEventListener("start",P),M.removeEventListener("end",S),M.removeEventListener("change",w)}},[s,c,a,M,f,b]),m.useEffect(()=>{if(t){const w=y().controls;return v({controls:M}),()=>v({controls:w})}},[t,M]),m.createElement("primitive",ke({ref:u,object:M,enableDamping:o},l))});function yh(t,e){const n=m.useRef(),[r]=m.useState(()=>e?e instanceof ao?{current:e}:e:n),[o]=m.useState(()=>new Yu(void 0));m.useLayoutEffect(()=>{e&&(r.current=e instanceof ao?e:e.current),o._root=r.current});const i=m.useRef({}),s=m.useMemo(()=>{const c={};return t.forEach(a=>Object.defineProperty(c,a.name,{enumerable:!0,get(){if(r.current)return i.current[a.name]||(i.current[a.name]=o.clipAction(a,r.current))},configurable:!0})),{ref:r,clips:t,actions:c,names:t.map(a=>a.name),mixer:o}},[t]);return To((c,a)=>o.update(a)),m.useEffect(()=>{const c=r.current;return()=>{i.current={},o.stopAllAction(),Object.values(s.actions).forEach(a=>{c&&o.uncacheAction(a,c)})}},[t]),s}var Bc={exports:{}},Ch="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bh=Ch,Eh=Bh;function Ec(){}function wc(){}wc.resetWarningCache=Ec;var wh=function(){function t(r,o,i,s,c,a){if(a!==Eh){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wc,resetWarningCache:Ec};return n.PropTypes=n,n};Bc.exports=wh();var xh=Bc.exports;const xe=nc(xh),Rh=3e3,Th=3001,xc=(t,e,n)=>{let r;switch(t){case si:r=new Uint8ClampedArray(e*n*4);break;case Bt:r=new Uint16Array(e*n*4);break;case ef:r=new Uint32Array(e*n*4);break;case qu:r=new Int8Array(e*n*4);break;case Zu:r=new Int16Array(e*n*4);break;case Vu:r=new Int32Array(e*n*4);break;case qt:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let Yr;const Sh=(t,e,n,r)=>{if(Yr!==void 0)return Yr;const o=new co(1,1,r);e.setRenderTarget(o);const i=new Or(new Li,new Wn({color:16777215}));e.render(i,n),e.setRenderTarget(null);const s=xc(t,o.width,o.height);return e.readRenderTargetPixels(o,0,0,o.width,o.height,s),o.dispose(),i.geometry.dispose(),i.material.dispose(),Yr=s[0]!==0,Yr};class Gi{constructor(e){var n,r,o,i,s,c,a,l,u,f,d,p,g,b,v,y;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(R){throw this._renderer.setRenderTarget(null),R}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const E={format:Sr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.generateMipmaps)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.magFilter:Ct,minFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.minFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter:Ct,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples:void 0,wrapS:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS:Zt,wrapT:((g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapT)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapT:Zt};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=Gi.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new rc,this._camera=new Kn,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Sh(this._type,this._renderer,this._camera,E)){let R;switch(this._type){case Bt:R=this._renderer.extensions.has("EXT_color_buffer_float")?qt:void 0;break}R!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${qt}`),this._type=R):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Or(new Li,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new co(this.width,this.height,E),this._renderTarget.texture.mapping=((v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping:lo}static instantiateRenderer(){const e=new Xu;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=xc(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Qu(this.toArray(),this.width,this.height,Sr,this._type,(e==null?void 0:e.mapping)||lo,(e==null?void 0:e.wrapS)||Zt,(e==null?void 0:e.wrapT)||Zt,(e==null?void 0:e.magFilter)||Ct,(e==null?void 0:e.minFilter)||Ct,(e==null?void 0:e.anisotropy)||1,ii);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Tr&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Mt&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Mt&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Mh=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,_h=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Ih extends Tr{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:o,gainMapMax:i,maxDisplayBoost:s,hdrCapacityMin:c,hdrCapacityMax:a,sdr:l,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:Mh,fragmentShader:_h,uniforms:{sdr:{value:l},gainMap:{value:u},gamma:{value:new Pe(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new Pe().fromArray(n)},offsetSdr:{value:new Pe().fromArray(r)},gainMapMin:{value:new Pe().fromArray(o)},gainMapMax:{value:new Pe().fromArray(i)},weightFactor:{value:(Math.log2(s)-c)/(a-c)}},blending:rf,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=c,this._hdrCapacityMax=a,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class Rc extends Error{}class Tc extends Error{}const gr=(t,e,n)=>{var r;let o;const i=(r=t.attributes.getNamedItem(e))===null||r===void 0?void 0:r.nodeValue;if(i)o=i;else{const s=t.getElementsByTagName(e)[0];if(s){const c=s.getElementsByTagName("rdf:li");if(c.length===3)o=Array.from(c).map(a=>a.innerHTML);else throw new Error(`Gainmap metadata contains an array of items for ${e} but its length is not 3`)}else{if(n)return n;throw new Error(`Can't find ${e} in gainmap metadata`)}}return o},Dh=t=>{var e,n;let r;typeof TextDecoder<"u"?r=new TextDecoder().decode(t):r=t.toString();let o=r.indexOf("<x:xmpmeta");const i=new DOMParser;for(;o!==-1;){const s=r.indexOf("x:xmpmeta>",o);r.slice(o,s+10);const c=r.slice(o,s+10);try{const l=i.parseFromString(c,"text/xml").getElementsByTagName("rdf:Description")[0],u=gr(l,"hdrgm:GainMapMin","0"),f=gr(l,"hdrgm:GainMapMax"),d=gr(l,"hdrgm:Gamma","1"),p=gr(l,"hdrgm:OffsetSDR","0.015625"),g=gr(l,"hdrgm:OffsetHDR","0.015625");let b=(e=l.attributes.getNamedItem("hdrgm:HDRCapacityMin"))===null||e===void 0?void 0:e.nodeValue;b||(b="0");const v=(n=l.attributes.getNamedItem("hdrgm:HDRCapacityMax"))===null||n===void 0?void 0:n.nodeValue;if(!v)throw new Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(u)?u.map(y=>parseFloat(y)):[parseFloat(u),parseFloat(u),parseFloat(u)],gainMapMax:Array.isArray(f)?f.map(y=>parseFloat(y)):[parseFloat(f),parseFloat(f),parseFloat(f)],gamma:Array.isArray(d)?d.map(y=>parseFloat(y)):[parseFloat(d),parseFloat(d),parseFloat(d)],offsetSdr:Array.isArray(p)?p.map(y=>parseFloat(y)):[parseFloat(p),parseFloat(p),parseFloat(p)],offsetHdr:Array.isArray(g)?g.map(y=>parseFloat(y)):[parseFloat(g),parseFloat(g),parseFloat(g)],hdrCapacityMin:parseFloat(b),hdrCapacityMax:parseFloat(v)}}catch{}o=r.indexOf("<x:xmpmeta",s)}};class Oh{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const o=this.options.debug,i=new DataView(e.buffer);if(i.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const s=i.byteLength;let c=2,a=0,l;for(;c<s;){if(++a>250){r(new Error(`Found no marker after ${a} loops `));return}if(i.getUint8(c)!==255){r(new Error(`Not a valid marker at offset 0x${c.toString(16)}, found: 0x${i.getUint8(c).toString(16)}`));return}if(l=i.getUint8(c+1),o&&console.log(`Marker: ${l.toString(16)}`),l===226){o&&console.log("Found APP2 marker (0xffe2)");const u=c+4;if(i.getUint32(u)===1297106432){const f=u+4;let d;if(i.getUint16(f)===18761)d=!1;else if(i.getUint16(f)===19789)d=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(i.getUint16(f+2,!d)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const p=i.getUint32(f+4,!d);if(p<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const g=f+p,b=i.getUint16(g,!d),v=g+2;let y=0;for(let M=v;M<v+12*b;M+=12)i.getUint16(M,!d)===45057&&(y=i.getUint32(M+8,!d));const R=g+2+b*12+4,T=[];for(let M=R;M<R+y*16;M+=16){const w={MPType:i.getUint32(M,!d),size:i.getUint32(M+4,!d),dataOffset:i.getUint32(M+8,!d),dependantImages:i.getUint32(M+12,!d),start:-1,end:-1,isFII:!1};w.dataOffset?(w.start=f+w.dataOffset,w.isFII=!1):(w.start=0,w.isFII=!0),w.end=w.start+w.size,T.push(w)}if(this.options.extractNonFII&&T.length){const M=new Blob([i]),w=[];for(const P of T){if(P.isFII&&!this.options.extractFII)continue;const S=M.slice(P.start,P.end+1,"image/jpeg");w.push(S)}n(w)}}}c+=2+i.getUint16(c+2)}})}}const Fh=async t=>{const e=Dh(t);if(!e)throw new Tc("Gain map XMP metadata not found");const r=await new Oh({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new Rc("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},Ls=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=o=>{n(o)},r.src=URL.createObjectURL(t)});class Sc extends Pi{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new tf}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Ih({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Mt,sdr:new Mt});return new Gi({width:16,height:16,type:Bt,colorSpace:ii,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,o){const i=o?new Blob([o],{type:"image/jpeg"}):void 0,s=new Blob([r],{type:"image/jpeg"});let c,a,l=!1;if(typeof createImageBitmap>"u"){const d=await Promise.all([i?Ls(i):Promise.resolve(void 0),Ls(s)]);a=d[0],c=d[1],l=!0}else{const d=await Promise.all([i?createImageBitmap(i,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);a=d[0],c=d[1]}const u=new Mt(a||new ImageData(2,2),lo,Zt,Zt,Ct,gs,Sr,si,1,ii);u.flipY=l,u.needsUpdate=!0;const f=new Mt(c,lo,Zt,Zt,Ct,gs,Sr,si,1,nf);f.flipY=l,f.needsUpdate=!0,e.width=c.width,e.height=c.height,e.material.gainMap=u,e.material.sdr=f,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Ph extends Sc{load([e,n,r],o,i,s){const c=this.prepareQuadRenderer();let a,l,u;const f=async()=>{if(a&&l&&u){try{await this.render(c,u,a,l)}catch(F){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof s=="function"&&s(F),c.disposeOnDemandRenderer();return}typeof o=="function"&&o(c),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),c.disposeOnDemandRenderer()}};let d=!0,p=0,g=0,b=!0,v=0,y=0,E=!0,R=0,T=0;const M=()=>{if(typeof i=="function"){const F=p+v+R,I=g+y+T,U=d&&b&&E;i(new ProgressEvent("progress",{lengthComputable:U,loaded:I,total:F}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const w=new vn(this._internalLoadingManager);w.setResponseType("arraybuffer"),w.setRequestHeader(this.requestHeader),w.setPath(this.path),w.setWithCredentials(this.withCredentials),w.load(e,async F=>{if(typeof F=="string")throw new Error("Invalid sdr buffer");a=F,await f()},F=>{d=F.lengthComputable,g=F.loaded,p=F.total,M()},F=>{this.manager.itemError(e),typeof s=="function"&&s(F)});const P=new vn(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(n,async F=>{if(typeof F=="string")throw new Error("Invalid gainmap buffer");l=F,await f()},F=>{b=F.lengthComputable,y=F.loaded,v=F.total,M()},F=>{this.manager.itemError(n),typeof s=="function"&&s(F)});const S=new vn(this._internalLoadingManager);return S.setRequestHeader(this.requestHeader),S.setPath(this.path),S.setWithCredentials(this.withCredentials),S.load(r,async F=>{if(typeof F!="string")throw new Error("Invalid metadata string");u=JSON.parse(F),await f()},F=>{E=F.lengthComputable,T=F.loaded,R=F.total,M()},F=>{this.manager.itemError(r),typeof s=="function"&&s(F)}),c}}class Lh extends Sc{load(e,n,r,o){const i=this.prepareQuadRenderer(),s=new vn(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async c=>{if(typeof c=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const a=new Uint8Array(c);let l,u,f;try{const d=await Fh(a);l=d.sdr,u=d.gainMap,f=d.metadata}catch(d){if(d instanceof Tc||d instanceof Rc)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},l=a;else throw d}try{await this.render(i,f,l,u)}catch(d){this.manager.itemError(e),typeof o=="function"&&o(d),i.disposeOnDemandRenderer();return}typeof n=="function"&&n(i),this.manager.itemEnd(e),i.disposeOnDemandRenderer()},r,c=>{this.manager.itemError(e),typeof o=="function"&&o(c)}),i}}const Wo={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},$h="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Xr=t=>Array.isArray(t);function Mc({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:o}={}){var i;let s=null,c=!1,a;if(n){if(!(n in Wo))throw new Error("Preset must be one of: "+Object.keys(Wo).join(", "));t=Wo[n],e=$h}const l=Xr(t)&&t.length===6,u=Xr(t)&&t.length===3&&t.some(v=>v.endsWith("json")),f=Xr(t)?t[0]:t;if(c=Xr(t),a=l?"cube":u?"webp":f.startsWith("data:application/exr")?"exr":f.startsWith("data:application/hdr")?"hdr":f.startsWith("data:image/jpeg")?"jpg":(i=f.split(".").pop())==null||(i=i.split("?"))==null||(i=i.shift())==null?void 0:i.toLowerCase(),s=a==="cube"?af:a==="hdr"?mh:a==="exr"?gh:a==="jpg"||a==="jpeg"?Lh:a==="webp"?Ph:null,!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);const d=Xe(v=>v.gl),p=$n(s,c?[t]:t,v=>{(a==="webp"||a==="jpg"||a==="jpeg")&&v.setRenderer(d),v.setPath==null||v.setPath(e),o&&o(v)});let g=c?p[0]:p;if(a==="jpg"||a==="jpeg"||a==="webp"){var b;g=(b=g.renderTarget)==null?void 0:b.texture}return g.mapping=l?of:sf,"colorSpace"in g?g.colorSpace=r??l?"srgb":"srgb-linear":g.encoding=r??l?Th:Rh,g}const kh=t=>t.current&&t.current.isScene,Gh=t=>kh(t)?t.current:t;function Hi(t,e,n,r,o={}){var i,s,c,a,l;o={backgroundBlurriness:(i=o.blur)!==null&&i!==void 0?i:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...o};const u=Gh(e||n),f=u.background,d=u.environment,p={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(c=u.backgroundRotation)==null||c.clone==null?void 0:c.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(a=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),As(u,o),()=>{t!=="only"&&(u.environment=d),t&&(u.background=f),As(u,p)}}function Ni({scene:t,background:e=!1,map:n,...r}){const o=Xe(i=>i.scene);return m.useLayoutEffect(()=>{if(n)return Hi(e,t,o,n,r)}),null}function _c({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:o,backgroundRotation:i,environmentIntensity:s,environmentRotation:c,...a}){const l=Mc(a),u=Xe(f=>f.scene);return m.useLayoutEffect(()=>Hi(t,e,u,l,{blur:n,backgroundBlurriness:r,backgroundIntensity:o,backgroundRotation:i,environmentIntensity:s,environmentRotation:c})),null}function Hh({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:o=1,map:i,background:s=!1,blur:c,backgroundBlurriness:a,backgroundIntensity:l,backgroundRotation:u,environmentIntensity:f,environmentRotation:d,scene:p,files:g,path:b,preset:v=void 0,extensions:y}){const E=Xe(S=>S.gl),R=Xe(S=>S.scene),T=m.useRef(null),[M]=m.useState(()=>new rc),w=m.useMemo(()=>{const S=new cf(r);return S.texture.type=Bt,S},[r]);m.useLayoutEffect(()=>(o===1&&T.current.update(E,M),Hi(s,p,R,w.texture,{blur:c,backgroundBlurriness:a,backgroundIntensity:l,backgroundRotation:u,environmentIntensity:f,environmentRotation:d})),[t,M,w.texture,p,R,s,o,E]);let P=1;return To(()=>{(o===1/0||P<o)&&(T.current.update(E,M),P++)}),m.createElement(m.Fragment,null,lf(m.createElement(m.Fragment,null,t,m.createElement("cubeCamera",{ref:T,args:[e,n,w]}),g||v?m.createElement(_c,{background:!0,files:g,preset:v,path:b,extensions:y}):i?m.createElement(Ni,{background:!0,map:i,extensions:y}):null),M))}function Nh(t){var e,n,r,o;const i=Mc(t),s=t.map||i;m.useMemo(()=>uf({GroundProjectedEnvImpl:Td}),[]);const c=m.useMemo(()=>[s],[s]),a=(e=t.ground)==null?void 0:e.height,l=(n=t.ground)==null?void 0:n.radius,u=(r=(o=t.ground)==null?void 0:o.scale)!==null&&r!==void 0?r:1e3;return m.createElement(m.Fragment,null,m.createElement(Ni,ke({},t,{map:s})),m.createElement("groundProjectedEnvImpl",{args:c,scale:u,height:a,radius:l}))}function Uh(t){return t.ground?m.createElement(Nh,t):t.map?m.createElement(Ni,t):t.children?m.createElement(Hh,t):m.createElement(_c,t)}const jh=m.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:o=1,blur:i=1,near:s=0,far:c=10,resolution:a=512,smooth:l=!0,color:u="#000000",depthWrite:f=!1,renderOrder:d,...p},g)=>{const b=m.useRef(null),v=Xe(L=>L.scene),y=Xe(L=>L.gl),E=m.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),o=o*(Array.isArray(t)?t[1]:t||1);const[R,T,M,w,P,S,F]=m.useMemo(()=>{const L=new co(a,a),Y=new co(a,a);Y.texture.generateMipmaps=L.texture.generateMipmaps=!1;const X=new Li(r,o).rotateX(Math.PI/2),ee=new Or(X),le=new ff;le.depthTest=le.depthWrite=!1,le.onBeforeCompile=me=>{me.uniforms={...me.uniforms,ucolor:{value:new bn(u)}},me.fragmentShader=me.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),me.fragmentShader=me.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const de=new Tr(hh),ue=new Tr(ph);return ue.depthTest=de.depthTest=!1,[L,X,le,ee,de,ue,Y]},[a,r,o,t,u]),I=L=>{w.visible=!0,w.material=P,P.uniforms.tDiffuse.value=R.texture,P.uniforms.h.value=L*1/256,y.setRenderTarget(F),y.render(w,E.current),w.material=S,S.uniforms.tDiffuse.value=F.texture,S.uniforms.v.value=L*1/256,y.setRenderTarget(R),y.render(w,E.current),w.visible=!1};let U=0,N,Q;return To(()=>{E.current&&(e===1/0||U<e)&&(U++,N=v.background,Q=v.overrideMaterial,b.current.visible=!1,v.background=null,v.overrideMaterial=M,y.setRenderTarget(R),y.render(v,E.current),I(i),l&&I(i*.4),y.setRenderTarget(null),b.current.visible=!0,v.overrideMaterial=Q,v.background=N)}),m.useImperativeHandle(g,()=>b.current,[]),m.createElement("group",ke({"rotation-x":Math.PI/2},p,{ref:b}),m.createElement("mesh",{renderOrder:d,geometry:T,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},m.createElement("meshBasicMaterial",{transparent:!0,map:R.texture,opacity:n,depthWrite:f})),m.createElement("orthographicCamera",{ref:E,args:[-r/2,r/2,o/2,-o/2,s,c]}))});function Jh(t,e,n){e.forEach(r=>{const o=t[r];n?(o.setLoop(df),o.clampWhenFinished=!0,o.play()):o.stop()})}function Kh(t){const{outerMaterial:e,isDoorOpen:n,innerMaterial:r,handlesMaterial:o}=hf(),i=m.useRef(),s=m.useRef(),{nodes:c,materials:a,animations:l}=Mo("./console.glb"),{actions:u,names:f}=yh(l,i),d=Yn({map:"./wood_textures/Wood_022_SD/Wood_022_basecolor.jpg",displacementMap:"./wood_textures/Wood_022_SD/Wood_022_height.png",aoMap:"./wood_textures/Wood_022_SD/Wood_022_ambientOcclusion.jpg",normalMap:"./wood_textures/Wood_022_SD/Wood_022_normal.jpg",roughnessMap:"./wood_textures/Wood_022_SD/Wood_022_roughness.jpg"}),p=Yn({map:"./wood_textures/Wood_024_SD/Wood_024_basecolor.jpg",displacementMap:"./wood_textures/Wood_024_SD/Wood_024_height.jpg",aoMap:"./wood_textures/Wood_024_SD/Wood_024_ambientOcclusion.jpg",normalMap:"./wood_textures/Wood_024_SD/Wood_024_normal.jpg",roughnessMap:"./wood_textures/Wood_024_SD/Wood_024_roughness.jpg"}),g=Yn({map:"./wood_textures/Wood_027_SD/Wood_027_basecolor.jpg",displacementMap:"./wood_textures/Wood_027_SD/Wood_027_height.png",aoMap:"./wood_textures/Wood_027_SD/Wood_027_ambientOcclusion.jpg",normalMap:"./wood_textures/Wood_027_SD/Wood_027_normal.jpg",roughnessMap:"./wood_textures/Wood_027_SD/Wood_027_roughness.jpg"}),b=Yn("./textures/gold.jpg");return m.useEffect(()=>{Jh(u,f,n)},[n]),re.jsx("group",{ref:i,...t,dispose:null,children:re.jsx("group",{name:"Scene",children:re.jsx("group",{name:"Sketchfab_model",position:[-.99,0,0],rotation:[-Math.PI/2,0,0],children:re.jsx("group",{name:"32bb1015bd034047a1d0f548e687867ffbx",rotation:[Math.PI/2,0,0],children:re.jsxs("group",{name:"RootNode",children:[re.jsx("group",{name:"livros",position:[-1.539,.589,-.501],rotation:[-Math.PI,0,-Math.PI],scale:.016,children:re.jsx("mesh",{name:"livros_lambert2_0",castShadow:!0,receiveShadow:!0,geometry:c.livros_lambert2_0.geometry,material:a.lambert2})}),re.jsxs("group",{name:"Movel_low",position:[0,.531,0],scale:.01,children:[re.jsxs("group",{name:"Merged",children:[re.jsx("mesh",{name:"door-1",castShadow:!0,receiveShadow:!0,geometry:c["door-1"].geometry,material:a.lambert1,position:[294.226,6.125,100.004],rotation:[0,-.012,0]}),re.jsx("mesh",{name:"door-2",castShadow:!0,receiveShadow:!0,geometry:c["door-2"].geometry,material:a.lambert1,position:[175.332,6.485,98.97]}),re.jsxs("mesh",{name:"handle-1",castShadow:!0,receiveShadow:!0,geometry:c["handle-1"].geometry,position:[294.226,6.125,100.004],rotation:[0,-.012,0],children:[o==="Black"&&re.jsx("meshStandardMaterial",{color:"black",roughness:0,metalness:1}),o==="White"&&re.jsx("meshStandardMaterial",{...a.lambert1}),o==="Gold"&&re.jsx("meshStandardMaterial",{map:b,metalness:1,roughness:0})]}),re.jsxs("mesh",{name:"handle-2",castShadow:!0,receiveShadow:!0,geometry:c["handle-2"].geometry,material:a.lambert1,position:[175.332,6.485,98.97],children:[o==="Black"&&re.jsx("meshStandardMaterial",{color:"black",roughness:0,metalness:1}),o==="White"&&re.jsx("meshStandardMaterial",{...a.lambert1}),o==="Gold"&&re.jsx("meshStandardMaterial",{map:b,metalness:1,roughness:0})]})]}),re.jsxs("group",{name:"movel",children:[re.jsxs("mesh",{name:"all-interiror",castShadow:!0,receiveShadow:!0,geometry:c["all-interiror"].geometry,children:[r=="Oak"&&re.jsx("meshStandardMaterial",{...a.lambert1}),r=="White"&&re.jsx("meshStandardMaterial",{color:"white"})]}),re.jsxs("mesh",{ref:s,name:"movel_lambert1_0",castShadow:!0,receiveShadow:!0,geometry:c.movel_lambert1_0.geometry,children:[e==="Oak"&&re.jsx("meshStandardMaterial",{...a.lambert1}),e==="Teak"&&re.jsx("meshStandardMaterial",{...d}),e==="Mahogany"&&re.jsx("meshStandardMaterial",{...p}),e==="Pine"&&re.jsx("meshStandardMaterial",{...g})]})]}),re.jsx("group",{name:"pe",children:re.jsx("mesh",{name:"legs",castShadow:!0,receiveShadow:!0,geometry:c.legs.geometry,material:a.lambert1})}),re.jsxs("group",{name:"porta",children:[re.jsxs("group",{name:"Porta",children:[re.jsx("mesh",{name:"door-3",castShadow:!0,receiveShadow:!0,geometry:c["door-3"].geometry,material:a.lambert1,position:[-93.597,6.166,97.262],rotation:[0,.568,0]}),re.jsxs("mesh",{name:"handle-3",castShadow:!0,receiveShadow:!0,geometry:c["handle-3"].geometry,material:a.lambert1,position:[-93.597,6.166,97.262],rotation:[0,.568,0],children:[o==="Black"&&re.jsx("meshStandardMaterial",{color:"black",roughness:0,metalness:1}),o==="White"&&re.jsx("meshStandardMaterial",{...a.lambert1}),o==="Gold"&&re.jsx("meshStandardMaterial",{map:b,metalness:1,roughness:0})]})]}),re.jsx("group",{name:"puxadora"})]})]})]})})})})})}function Wh(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ic(...t){return e=>t.forEach(n=>Wh(n,e))}function nr(...t){return m.useCallback(Ic(...t),t)}const Dc=m.forwardRef((t,e)=>{const{children:n,...r}=t,o=m.Children.toArray(n),i=o.find(zh);if(i){const s=i.props.children,c=o.map(a=>a===i?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:a);return m.createElement(di,ke({},r,{ref:e}),m.isValidElement(s)?m.cloneElement(s,void 0,c):null)}return m.createElement(di,ke({},r,{ref:e}),n)});Dc.displayName="Slot";const di=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...Yh(r,n.props),ref:e?Ic(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});di.displayName="SlotClone";const Oc=({children:t})=>m.createElement(m.Fragment,null,t);function zh(t){return m.isValidElement(t)&&t.type===Oc}function Yh(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{i(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}const Xh=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],kn=Xh.reduce((t,e)=>{const n=m.forwardRef((r,o)=>{const{asChild:i,...s}=r,c=i?Dc:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(c,ke({},s,{ref:o}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Qh(t,e){t&&$i.flushSync(()=>t.dispatchEvent(e))}const Vh=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=t;return r?pf.createPortal(m.createElement(kn.div,ke({},o,{ref:e})),r):null}),Zh=Vh;var $s=Object.prototype.hasOwnProperty;function fo(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&fo(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if($s.call(t,n)&&++r&&!$s.call(e,n)||!(n in e)||!fo(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var _o=function(e,n,r,o){this.name=e,this.fn=n,this.args=r,this.modifiers=o};_o.prototype._test=function(e){var n=this.fn;try{Vn(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return Vn(this.modifiers.slice(),n,this)(e)}catch{return!1}};_o.prototype._check=function(e){try{Vn(this.modifiers.slice(),this.fn,this)(e)}catch{if(Vn(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Vn(this.modifiers.slice(),this.fn,this)(e))throw null};_o.prototype._testAsync=function(e){var n=this;return new Promise(function(r,o){Pc(n.modifiers.slice(),n.fn,n)(e).then(function(i){i?r(e):o(null)}).catch(function(i){return o(i)})})};function Fc(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function Vn(t,e,n){if(t.length){var r=t.shift(),o=Vn(t,e,n);return r.perform(o,n)}else return Fc(e)}function Pc(t,e,n){if(t.length){var r=t.shift(),o=Pc(t,e,n);return r.performAsync(o,n)}else return function(i){return Promise.resolve(Fc(e,"async")(i))}}var qh=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},Ui=function(t){function e(n,r,o,i){for(var s=[],c=arguments.length-4;c-- >0;)s[c]=arguments[c+4];t.call(this,s),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=o,this.target=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Nt=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};Nt.prototype._applyRule=function(e,n){var r=this;return function(){for(var o=[],i=arguments.length;i--;)o[i]=arguments[i];return r.chain.push(new _o(n,e.apply(r,o),o,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Nt.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new qh(n,e.simple,e.async)),this};Nt.prototype._clone=function(){return new Nt(this.chain.slice(),this.nextRuleModifiers.slice())};Nt.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};Nt.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(o){n.push(new Ui(r,e,o))}}),n};Nt.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new Ui(n,e,r)}})};Nt.prototype.testAsync=function(e){var n=this;return new Promise(function(r,o){Lc(e,n.chain.slice(),r,o)})};function Lc(t,e,n,r){if(e.length){var o=e.shift();o._testAsync(t).then(function(){Lc(t,e,n,r)},function(i){r(new Ui(o,t,i))})}else n(t)}var ks=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function ep(t,e){return e===void 0&&(e=!1),{simple:function(n){return ks(n,e)||t.check(n)===void 0},async:function(n){return ks(n,e)||t.testAsync(n)}}}function st(){return typeof Proxy<"u"?$c(new Nt):hi(new Nt)}var Mr={};st.extend=function(t){Object.assign(Mr,t)};st.clearCustomRules=function(){Mr={}};function $c(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var o=$c(t._clone());if(r in ho)return o._applyModifier(ho[r],r);if(r in Mr)return o._applyRule(Mr[r],r);if(r in pi)return o._applyRule(pi[r],r)}})}function hi(t){var e=function(o,i){return Object.keys(o).forEach(function(s){i[s]=function(){for(var c=[],a=arguments.length;a--;)c[a]=arguments[a];var l=hi(i._clone()),u=l._applyRule(o[s],s).apply(void 0,c);return u}}),i},n=e(pi,t),r=e(Mr,n);return Object.keys(ho).forEach(function(o){Object.defineProperty(r,o,{get:function(){var i=hi(r._clone());return i._applyModifier(ho[o],o)}})}),r}var ho={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return Qr(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(Qr(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&Qr(e).every(t)}},async:function(t){return function(e){return Promise.all(Qr(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return Gs(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return Gs(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function Gs(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function Qr(t){return typeof t=="string"?t.split(""):t}var pi={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||tp;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return jn("string")},boolean:function(){return jn("boolean")},undefined:function(){return jn("undefined")},null:function(){return jn("null")},array:function(){return jn("array")},object:function(){return jn("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return np(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:ep};function jn(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function tp(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function np(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var o=t[r];try{o.check((e||{})[r])}catch(i){i.target=r,n.push(i)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(o){var i=t[o];return i.testAsync((e||{})[o]).catch(function(s){s.target=o,n.push(s)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var be="colors",tt="sizes",Z="space",rp={gap:Z,gridGap:Z,columnGap:Z,gridColumnGap:Z,rowGap:Z,gridRowGap:Z,inset:Z,insetBlock:Z,insetBlockEnd:Z,insetBlockStart:Z,insetInline:Z,insetInlineEnd:Z,insetInlineStart:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,marginBlock:Z,marginBlockEnd:Z,marginBlockStart:Z,marginInline:Z,marginInlineEnd:Z,marginInlineStart:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,paddingBlock:Z,paddingBlockEnd:Z,paddingBlockStart:Z,paddingInline:Z,paddingInlineEnd:Z,paddingInlineStart:Z,top:Z,right:Z,bottom:Z,left:Z,scrollMargin:Z,scrollMarginTop:Z,scrollMarginRight:Z,scrollMarginBottom:Z,scrollMarginLeft:Z,scrollMarginX:Z,scrollMarginY:Z,scrollMarginBlock:Z,scrollMarginBlockEnd:Z,scrollMarginBlockStart:Z,scrollMarginInline:Z,scrollMarginInlineEnd:Z,scrollMarginInlineStart:Z,scrollPadding:Z,scrollPaddingTop:Z,scrollPaddingRight:Z,scrollPaddingBottom:Z,scrollPaddingLeft:Z,scrollPaddingX:Z,scrollPaddingY:Z,scrollPaddingBlock:Z,scrollPaddingBlockEnd:Z,scrollPaddingBlockStart:Z,scrollPaddingInline:Z,scrollPaddingInlineEnd:Z,scrollPaddingInlineStart:Z,fontSize:"fontSizes",background:be,backgroundColor:be,backgroundImage:be,borderImage:be,border:be,borderBlock:be,borderBlockEnd:be,borderBlockStart:be,borderBottom:be,borderBottomColor:be,borderColor:be,borderInline:be,borderInlineEnd:be,borderInlineStart:be,borderLeft:be,borderLeftColor:be,borderRight:be,borderRightColor:be,borderTop:be,borderTopColor:be,caretColor:be,color:be,columnRuleColor:be,fill:be,outline:be,outlineColor:be,stroke:be,textDecorationColor:be,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:tt,minBlockSize:tt,maxBlockSize:tt,inlineSize:tt,minInlineSize:tt,maxInlineSize:tt,width:tt,minWidth:tt,maxWidth:tt,height:tt,minHeight:tt,maxHeight:tt,flexBasis:tt,gridTemplateColumns:tt,gridTemplateRows:tt,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},op=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,rr=()=>{const t=Object.create(null);return(e,n,...r)=>{const o=(i=>JSON.stringify(i,op))(e);return o in t?t[o]:t[o]=n(e,...r)}},On=Symbol.for("sxs.internal"),ji=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),Hs=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:ip}=Object.prototype,mi=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),sp=/\s+(?![^()]*\))/,Jn=t=>e=>t(...typeof e=="string"?String(e).split(sp):[e]),Ns={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Jn((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Jn((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Jn((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Jn((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Jn((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Jn((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},zo=/([\d.]+)([^]*)/,ap=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(o=>o.includes("&")?o.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(o)?`:is(${r})`:r):r+" "+o)),n),[]):e,cp=(t,e)=>t in lp&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,o,i)=>r+(o==="stretch"?`-moz-available${i};${mi(t)}:${r}-webkit-fill-available`:`-moz-fit-content${i};${mi(t)}:${r}fit-content`)+i):String(e),lp={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},nn=t=>t?t+"-":"",kc=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,o,i,s,c)=>s=="$"==!!i?r:(o||s=="--"?"calc(":"")+"var(--"+(s==="$"?nn(e)+(c.includes("$")?"":nn(n))+c.replace(/\$/g,"-"):c)+")"+(o||s=="--"?"*"+(o||"")+(i||"1")+")":"")),up=/\s*,\s*(?![^()]*\))/,fp=Object.prototype.toString,Xn=(t,e,n,r,o)=>{let i,s,c;const a=(l,u,f)=>{let d,p;const g=b=>{for(d in b){const E=d.charCodeAt(0)===64,R=E&&Array.isArray(b[d])?b[d]:[b[d]];for(p of R){const T=/[A-Z]/.test(y=d)?y:y.replace(/-[^]/g,w=>w[1].toUpperCase()),M=typeof p=="object"&&p&&p.toString===fp&&(!r.utils[T]||!u.length);if(T in r.utils&&!M){const w=r.utils[T];if(w!==s){s=w,g(w(p)),s=null;continue}}else if(T in Ns){const w=Ns[T];if(w!==c){c=w,g(w(p)),c=null;continue}}if(E&&(v=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=v.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(w,P,S,F,I,U)=>{const N=zo.test(P),Q=.0625*(N?-1:1),[L,Y]=N?[F,P]:[P,F];return"("+(S[0]==="="?"":S[0]===">"===N?"max-":"min-")+L+":"+(S[0]!=="="&&S.length===1?Y.replace(zo,(X,ee,le)=>Number(ee)+Q*(S===">"?1:-1)+le):Y)+(I?") and ("+(I[0]===">"?"min-":"max-")+L+":"+(I.length===1?U.replace(zo,(X,ee,le)=>Number(ee)+Q*(I===">"?-1:1)+le):U):"")+")"})),M){const w=E?f.concat(d):[...f],P=E?[...u]:ap(u,d.split(up));i!==void 0&&o(Us(...i)),i=void 0,a(p,P,w)}else i===void 0&&(i=[[],u,f]),d=E||d.charCodeAt(0)!==36?d:`--${nn(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,p=M?p:typeof p=="number"?p&&T in dp?String(p)+"px":String(p):kc(cp(T,p??""),r.prefix,r.themeMap[T]),i[0].push(`${E?`${d} `:`${mi(d)}:`}${p}`)}}var v,y};g(l),i!==void 0&&o(Us(...i)),i=void 0};a(t,e,n)},Us=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,dp={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},js=t=>String.fromCharCode(t+(t>25?39:97)),Fn=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=js(n%52)+r;return js(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Cr=["themed","global","styled","onevar","resonevar","allvar","inline"],hp=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},pp=t=>{let e;const n=()=>{const{cssRules:o}=e.sheet;return[].map.call(o,(i,s)=>{const{cssText:c}=i;let a="";if(c.startsWith("--sxs"))return"";if(o[s-1]&&(a=o[s-1].cssText).startsWith("--sxs")){if(!i.cssRules.length)return"";for(const l in e.rules)if(e.rules[l].group===i)return`--sxs{--sxs:${[...e.rules[l].cache].join(" ")}}${c}`;return i.cssRules.length?`${a}${c}`:""}return c}).join("")},r=()=>{if(e){const{rules:c,sheet:a}=e;if(!a.deleteRule){for(;Object(Object(a.cssRules)[0]).type===3;)a.cssRules.splice(0,1);a.cssRules=[]}for(const l in c)delete c[l]}const o=Object(t).styleSheets||[];for(const c of o)if(hp(c)){for(let a=0,l=c.cssRules;l[a];++a){const u=Object(l[a]);if(u.type!==1)continue;const f=Object(l[a+1]);if(f.type!==4)continue;++a;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const p=d.slice(14,-3).trim().split(/\s+/),g=Cr[p[0]];g&&(e||(e={sheet:c,reset:r,rules:{},toString:n}),e.rules[g]={group:f,index:a,cache:new Set(p)})}if(e)break}if(!e){const c=(a,l)=>({type:l,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,c(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return a==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:a}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:c("","text/css"),rules:{},reset:r,toString:n}}const{sheet:i,rules:s}=e;for(let c=Cr.length-1;c>=0;--c){const a=Cr[c];if(!s[a]){const l=Cr[c+1],u=s[l]?s[l].index:i.cssRules.length;i.insertRule("@media{}",u),i.insertRule(`--sxs{--sxs:${c}}`,u),s[a]={group:i.cssRules[u+1],index:u,cache:new Set([c])}}mp(s[a])}};return r(),e},mp=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},Ar=Symbol(),gp=rr(),Js=(t,e)=>gp(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const o of n)if(o!=null)if(o[On]){r.type==null&&(r.type=o[On].type);for(const i of o[On].composers)r.composers.add(i)}else o.constructor!==Object||o.$$typeof?r.type==null&&(r.type=o):r.composers.add(Ap(o,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),vp(t,r,e)}),Ap=({variants:t,compoundVariants:e,defaultVariants:n,...r},o)=>{const i=`${nn(o.prefix)}c-${Fn(r)}`,s=[],c=[],a=Object.create(null),l=[];for(const d in n)a[d]=String(n[d]);if(typeof t=="object"&&t)for(const d in t){u=a,f=d,ip.call(u,f)||(a[d]="undefined");const p=t[d];for(const g in p){const b={[d]:String(g)};String(g)==="undefined"&&l.push(d);const v=p[g],y=[b,v,!Hs(v)];s.push(y)}}var u,f;if(typeof e=="object"&&e)for(const d of e){let{css:p,...g}=d;p=typeof p=="object"&&p||{};for(const v in g)g[v]=String(g[v]);const b=[g,p,!Hs(p)];c.push(b)}return[i,r,s,c,a,l]},vp=(t,e,n)=>{const[r,o,i,s]=bp(e.composers),c=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let p=0;p<d[Ar].length;p++){const[g,b]=d[Ar][p];f.rules[g].apply(b)}return d[Ar]=[],null}return d[Ar]=[],d.rules={},Cr.forEach(p=>d.rules[p]={apply:g=>d[Ar].push([p,g])}),d})(n):null,a=(c||n).rules,l=`.${r}${o.length>1?`:where(.${o.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||yp;const{css:d,...p}=f,g={};for(const y in i)if(delete p[y],y in f){let E=f[y];typeof E=="object"&&E?g[y]={"@initial":i[y],...E}:(E=String(E),g[y]=E!=="undefined"||s.has(y)?E:i[y])}else g[y]=i[y];const b=new Set([...o]);for(const[y,E,R,T]of e.composers){n.rules.styled.cache.has(y)||(n.rules.styled.cache.add(y),Xn(E,[`.${y}`],[],t,P=>{a.styled.apply(P)}));const M=Ks(R,g,t.media),w=Ks(T,g,t.media,!0);for(const P of M)if(P!==void 0)for(const[S,F,I]of P){const U=`${y}-${Fn(F)}-${S}`;b.add(U);const N=(I?n.rules.resonevar:n.rules.onevar).cache,Q=I?a.resonevar:a.onevar;N.has(U)||(N.add(U),Xn(F,[`.${U}`],[],t,L=>{Q.apply(L)}))}for(const P of w)if(P!==void 0)for(const[S,F]of P){const I=`${y}-${Fn(F)}-${S}`;b.add(I),n.rules.allvar.cache.has(I)||(n.rules.allvar.cache.add(I),Xn(F,[`.${I}`],[],t,U=>{a.allvar.apply(U)}))}}if(typeof d=="object"&&d){const y=`${r}-i${Fn(d)}-css`;b.add(y),n.rules.inline.cache.has(y)||(n.rules.inline.cache.add(y),Xn(d,[`.${y}`],[],t,E=>{a.inline.apply(E)}))}for(const y of String(f.className||"").trim().split(/\s+/))y&&b.add(y);const v=p.className=[...b].join(" ");return{type:e.type,className:v,selector:l,props:p,toString:()=>v,deferredInjector:c}};return ji(u,{className:r,selector:l,[On]:e,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},bp=t=>{let e="";const n=[],r={},o=[];for(const[i,,,,s,c]of t){e===""&&(e=i),n.push(i),o.push(...c);for(const a in s){const l=s[a];(r[a]===void 0||l!=="undefined"||c.includes(l))&&(r[a]=l)}}return[e,n,r,new Set(o)]},Ks=(t,e,n,r)=>{const o=[];e:for(let[i,s,c]of t){if(c)continue;let a,l=0,u=!1;for(a in i){const f=i[a];let d=e[a];if(d!==f){if(typeof d!="object"||!d)continue e;{let p,g,b=0;for(const v in d){if(f===String(d[v])){if(v!=="@initial"){const y=v.slice(1);(g=g||[]).push(y in n?n[y]:v.replace(/^@media ?/,"")),u=!0}l+=b,p=!0}++b}if(g&&g.length&&(s={["@media "+g.join(", ")]:s}),!p)continue e}}}(o[l]=o[l]||[]).push([r?"cv":`${a}-${i[a]}`,s,u])}return o},yp={},Cp=rr(),Bp=(t,e)=>Cp(t,()=>(...n)=>{const r=()=>{for(let o of n){o=typeof o=="object"&&o||{};let i=Fn(o);if(!e.rules.global.cache.has(i)){if(e.rules.global.cache.add(i),"@import"in o){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let c of[].concat(o["@import"]))c=c.includes('"')||c.includes("'")?c:`"${c}"`,e.sheet.insertRule(`@import ${c};`,s++);delete o["@import"]}Xn(o,[],[],t,s=>{e.rules.global.apply(s)})}}return""};return ji(r,{toString:r})}),Ep=rr(),wp=(t,e)=>Ep(t,()=>n=>{const r=`${nn(t.prefix)}k-${Fn(n)}`,o=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const i=[];Xn(n,[],[],t,c=>i.push(c));const s=`@keyframes ${r}{${i.join("")}}`;e.rules.global.apply(s)}return r};return ji(o,{get name(){return o()},toString:o})}),xp=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+nn(this.prefix)+nn(this.scale)+this.token}toString(){return this.computedValue}},Rp=rr(),Tp=(t,e)=>Rp(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const o=`.${n=(n=typeof n=="string"?n:"")||`${nn(t.prefix)}t-${Fn(r)}`}`,i={},s=[];for(const a in r){i[a]={};for(const l in r[a]){const u=`--${nn(t.prefix)}${a}-${l}`,f=kc(String(r[a][l]),t.prefix,a);i[a][l]=new xp(l,f,a,t.prefix),s.push(`${u}:${f}`)}}const c=()=>{if(s.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const a=`${r===t.theme?":root,":""}.${n}{${s.join(";")}}`;e.rules.themed.apply(a)}return n};return{...i,get className(){return c()},selector:o,toString:c}}),Sp=rr(),Mp=rr(),_p=t=>{const e=(n=>{let r=!1;const o=Sp(n,i=>{r=!0;const s="prefix"in(i=typeof i=="object"&&i||{})?String(i.prefix):"",c=typeof i.media=="object"&&i.media||{},a=typeof i.root=="object"?i.root||null:globalThis.document||null,l=typeof i.theme=="object"&&i.theme||{},u={prefix:s,media:c,theme:l,themeMap:typeof i.themeMap=="object"&&i.themeMap||{...rp},utils:typeof i.utils=="object"&&i.utils||{}},f=pp(a),d={css:Js(u,f),globalCss:Bp(u,f),keyframes:wp(u,f),createTheme:Tp(u,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:u,prefix:s,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(l)),d});return r||o.reset(),o})(t);return e.styled=(({config:n,sheet:r})=>Mp(n,()=>{const o=Js(n,r);return(...i)=>{const s=o(...i),c=s[On].type,a=C.forwardRef((l,u)=>{const f=l&&l.as||c,{props:d,deferredInjector:p}=s(l);return delete d.as,d.ref=u,p?C.createElement(C.Fragment,null,C.createElement(f,d),C.createElement(p,null)):C.createElement(f,d)});return a.className=s.className,a.displayName=`Styled.${c.displayName||c.name||c}`,a.selector=s.selector,a.toString=()=>s.selector,a[On]=s[On],a}}))(e),e};function Xt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Gc(t,e=[]){let n=[];function r(i,s){const c=m.createContext(s),a=n.length;n=[...n,s];function l(f){const{scope:d,children:p,...g}=f,b=(d==null?void 0:d[t][a])||c,v=m.useMemo(()=>g,Object.values(g));return m.createElement(b.Provider,{value:v},p)}function u(f,d){const p=(d==null?void 0:d[t][a])||c,g=m.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return l.displayName=i+"Provider",[l,u]}const o=()=>{const i=n.map(s=>m.createContext(s));return function(c){const a=(c==null?void 0:c[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...c,[t]:a}}),[c,a])}};return o.scopeName=t,[r,Ip(o,...e)]}function Ip(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((c,{useScope:a,scopeName:l})=>{const f=a(i)[`__scope${l}`];return{...c,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function or(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Dp(t,e=globalThis==null?void 0:globalThis.document){const n=or(t);m.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const gi="dismissableLayer.update",Op="dismissableLayer.pointerDownOutside",Fp="dismissableLayer.focusOutside";let Ws;const Pp=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lp=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:c,onDismiss:a,...l}=t,u=m.useContext(Pp),[f,d]=m.useState(null),p=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=m.useState({}),b=nr(e,S=>d(S)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(y),R=f?v.indexOf(f):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,M=R>=E,w=$p(S=>{const F=S.target,I=[...u.branches].some(U=>U.contains(F));!M||I||(i==null||i(S),c==null||c(S),S.defaultPrevented||a==null||a())},p),P=kp(S=>{const F=S.target;[...u.branches].some(U=>U.contains(F))||(s==null||s(S),c==null||c(S),S.defaultPrevented||a==null||a())},p);return Dp(S=>{R===u.layers.size-1&&(o==null||o(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ws=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),zs(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Ws)}},[f,p,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),zs())},[f,u]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(gi,S),()=>document.removeEventListener(gi,S)},[]),m.createElement(kn.div,ke({},l,{ref:b,style:{pointerEvents:T?M?"auto":"none":void 0,...t.style},onFocusCapture:Xt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Xt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Xt(t.onPointerDownCapture,w.onPointerDownCapture)}))});function $p(t,e=globalThis==null?void 0:globalThis.document){const n=or(t),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let l=function(){Hc(Op,n,a,{discrete:!0})};const a={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function kp(t,e=globalThis==null?void 0:globalThis.document){const n=or(t),r=m.useRef(!1);return m.useEffect(()=>{const o=i=>{i.target&&!r.current&&Hc(Fp,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zs(){const t=new CustomEvent(gi);document.dispatchEvent(t)}function Hc(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Qh(o,i):o.dispatchEvent(i)}const qn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Gp=mf.useId||(()=>{});let Hp=0;function Np(t){const[e,n]=m.useState(Gp());return qn(()=>{n(r=>r??String(Hp++))},[t]),e?`radix-${e}`:""}const Up=["top","right","bottom","left"],Gt=Math.min,ft=Math.max,po=Math.round,Vr=Math.floor,yn=t=>({x:t,y:t}),jp={left:"right",right:"left",bottom:"top",top:"bottom"},Jp={start:"end",end:"start"};function Ai(t,e,n){return ft(t,Gt(e,n))}function rn(t,e){return typeof t=="function"?t(e):t}function on(t){return t.split("-")[0]}function ir(t){return t.split("-")[1]}function Ji(t){return t==="x"?"y":"x"}function Ki(t){return t==="y"?"height":"width"}function sr(t){return["top","bottom"].includes(on(t))?"y":"x"}function Wi(t){return Ji(sr(t))}function Kp(t,e,n){n===void 0&&(n=!1);const r=ir(t),o=Wi(t),i=Ki(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=mo(s)),[s,mo(s)]}function Wp(t){const e=mo(t);return[vi(t),e,vi(e)]}function vi(t){return t.replace(/start|end/g,e=>Jp[e])}function zp(t,e,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:s;default:return[]}}function Yp(t,e,n,r){const o=ir(t);let i=zp(on(t),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),e&&(i=i.concat(i.map(vi)))),i}function mo(t){return t.replace(/left|right|bottom|top/g,e=>jp[e])}function Xp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Nc(t){return typeof t!="number"?Xp(t):{top:t,right:t,bottom:t,left:t}}function go(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function Ys(t,e,n){let{reference:r,floating:o}=t;const i=sr(e),s=Wi(e),c=Ki(s),a=on(e),l=i==="y",u=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[c]/2-o[c]/2;let p;switch(a){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-o.width,y:f};break;default:p={x:r.x,y:r.y}}switch(ir(e)){case"start":p[s]-=d*(n&&l?-1:1);break;case"end":p[s]+=d*(n&&l?-1:1);break}return p}const Qp=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:f}=Ys(l,r,a),d=r,p={},g=0;for(let b=0;b<c.length;b++){const{name:v,fn:y}=c[b],{x:E,y:R,data:T,reset:M}=await y({x:u,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:p,rects:l,platform:s,elements:{reference:t,floating:e}});u=E??u,f=R??f,p={...p,[v]:{...p[v],...T}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(d=M.placement),M.rects&&(l=M.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):M.rects),{x:u,y:f}=Ys(l,d,a)),b=-1)}return{x:u,y:f,placement:d,strategy:o,middlewareData:p}};async function _r(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:a}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=rn(e,t),g=Nc(p),v=c[d?f==="floating"?"reference":"floating":f],y=go(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:l,rootBoundary:u,strategy:a})),E=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),T=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},M=go(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:R,strategy:a}):E);return{top:(y.top-M.top+g.top)/T.y,bottom:(M.bottom-y.bottom+g.bottom)/T.y,left:(y.left-M.left+g.left)/T.x,right:(M.right-y.right+g.right)/T.x}}const Vp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:a}=e,{element:l,padding:u=0}=rn(t,e)||{};if(l==null)return{};const f=Nc(u),d={x:n,y:r},p=Wi(o),g=Ki(p),b=await s.getDimensions(l),v=p==="y",y=v?"top":"left",E=v?"bottom":"right",R=v?"clientHeight":"clientWidth",T=i.reference[g]+i.reference[p]-d[p]-i.floating[g],M=d[p]-i.reference[p],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let P=w?w[R]:0;(!P||!await(s.isElement==null?void 0:s.isElement(w)))&&(P=c.floating[R]||i.floating[g]);const S=T/2-M/2,F=P/2-b[g]/2-1,I=Gt(f[y],F),U=Gt(f[E],F),N=I,Q=P-b[g]-U,L=P/2-b[g]/2+S,Y=Ai(N,L,Q),X=!a.arrow&&ir(o)!=null&&L!==Y&&i.reference[g]/2-(L<N?I:U)-b[g]/2<0,ee=X?L<N?L-N:L-Q:0;return{[p]:d[p]+ee,data:{[p]:Y,centerOffset:L-Y-ee,...X&&{alignmentOffset:ee}},reset:X}}}),Zp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:a,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...v}=rn(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=on(o),E=on(c)===c,R=await(a.isRTL==null?void 0:a.isRTL(l.floating)),T=d||(E||!b?[mo(c)]:Wp(c));!d&&g!=="none"&&T.push(...Yp(c,b,g,R));const M=[c,...T],w=await _r(e,v),P=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&P.push(w[y]),f){const N=Kp(o,s,R);P.push(w[N[0]],w[N[1]])}if(S=[...S,{placement:o,overflows:P}],!P.every(N=>N<=0)){var F,I;const N=(((F=i.flip)==null?void 0:F.index)||0)+1,Q=M[N];if(Q)return{data:{index:N,overflows:S},reset:{placement:Q}};let L=(I=S.filter(Y=>Y.overflows[0]<=0).sort((Y,X)=>Y.overflows[1]-X.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(p){case"bestFit":{var U;const Y=(U=S.map(X=>[X.placement,X.overflows.filter(ee=>ee>0).reduce((ee,le)=>ee+le,0)]).sort((X,ee)=>X[1]-ee[1])[0])==null?void 0:U[0];Y&&(L=Y);break}case"initialPlacement":L=c;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function Xs(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Qs(t){return Up.some(e=>t[e]>=0)}const qp=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=rn(t,e);switch(r){case"referenceHidden":{const i=await _r(e,{...o,elementContext:"reference"}),s=Xs(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Qs(s)}}}case"escaped":{const i=await _r(e,{...o,altBoundary:!0}),s=Xs(i,n.floating);return{data:{escapedOffsets:s,escaped:Qs(s)}}}default:return{}}}}};async function em(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=on(n),c=ir(n),a=sr(n)==="y",l=["left","top"].includes(s)?-1:1,u=i&&a?-1:1,f=rn(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof g=="number"&&(p=c==="end"?g*-1:g),a?{x:p*u,y:d*l}:{x:d*l,y:p*u}}const tm=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=e,a=await em(e,t);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+a.x,y:i+a.y,data:{...a,placement:s}}}}},nm=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:v=>{let{x:y,y:E}=v;return{x:y,y:E}}},...a}=rn(t,e),l={x:n,y:r},u=await _r(e,a),f=sr(on(o)),d=Ji(f);let p=l[d],g=l[f];if(i){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",E=p+u[v],R=p-u[y];p=Ai(E,p,R)}if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=g+u[v],R=g-u[y];g=Ai(E,g,R)}const b=c.fn({...e,[d]:p,[f]:g});return{...b,data:{x:b.x-n,y:b.y-r}}}}},rm=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=e,{offset:c=0,mainAxis:a=!0,crossAxis:l=!0}=rn(t,e),u={x:n,y:r},f=sr(o),d=Ji(f);let p=u[d],g=u[f];const b=rn(c,e),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(a){const R=d==="y"?"height":"width",T=i.reference[d]-i.floating[R]+v.mainAxis,M=i.reference[d]+i.reference[R]-v.mainAxis;p<T?p=T:p>M&&(p=M)}if(l){var y,E;const R=d==="y"?"width":"height",T=["top","left"].includes(on(o)),M=i.reference[f]-i.floating[R]+(T&&((y=s.offset)==null?void 0:y[f])||0)+(T?0:v.crossAxis),w=i.reference[f]+i.reference[R]+(T?0:((E=s.offset)==null?void 0:E[f])||0)-(T?v.crossAxis:0);g<M?g=M:g>w&&(g=w)}return{[d]:p,[f]:g}}}},om=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:o,elements:i}=e,{apply:s=()=>{},...c}=rn(t,e),a=await _r(e,c),l=on(n),u=ir(n),f=sr(n)==="y",{width:d,height:p}=r.floating;let g,b;l==="top"||l==="bottom"?(g=l,b=u===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(b=l,g=u==="end"?"top":"bottom");const v=p-a.top-a.bottom,y=d-a.left-a.right,E=Gt(p-a[g],v),R=Gt(d-a[b],y),T=!e.middlewareData.shift;let M=E,w=R;if(f?w=u||T?Gt(R,y):y:M=u||T?Gt(E,v):v,T&&!u){const S=ft(a.left,0),F=ft(a.right,0),I=ft(a.top,0),U=ft(a.bottom,0);f?w=d-2*(S!==0||F!==0?S+F:ft(a.left,a.right)):M=p-2*(I!==0||U!==0?I+U:ft(a.top,a.bottom))}await s({...e,availableWidth:w,availableHeight:M});const P=await o.getDimensions(i.floating);return d!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function ar(t){return Uc(t)?(t.nodeName||"").toLowerCase():"#document"}function dt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sn(t){var e;return(e=(Uc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Uc(t){return t instanceof Node||t instanceof dt(t).Node}function Ut(t){return t instanceof Element||t instanceof dt(t).Element}function jt(t){return t instanceof HTMLElement||t instanceof dt(t).HTMLElement}function Vs(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dt(t).ShadowRoot}function $r(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=_t(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function im(t){return["table","td","th"].includes(ar(t))}function zi(t){const e=Yi(),n=_t(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sm(t){let e=Cn(t);for(;jt(e)&&!er(e);){if(zi(e))return e;e=Cn(e)}return null}function Yi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function er(t){return["html","body","#document"].includes(ar(t))}function _t(t){return dt(t).getComputedStyle(t)}function Io(t){return Ut(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Cn(t){if(ar(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vs(t)&&t.host||sn(t);return Vs(e)?e.host:e}function jc(t){const e=Cn(t);return er(e)?t.ownerDocument?t.ownerDocument.body:t.body:jt(e)&&$r(e)?e:jc(e)}function Ir(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=jc(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),s=dt(o);return i?e.concat(s,s.visualViewport||[],$r(o)?o:[],s.frameElement&&n?Ir(s.frameElement):[]):e.concat(o,Ir(o,[],n))}function Jc(t){const e=_t(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=jt(t),i=o?t.offsetWidth:n,s=o?t.offsetHeight:r,c=po(n)!==i||po(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Xi(t){return Ut(t)?t:t.contextElement}function Zn(t){const e=Xi(t);if(!jt(e))return yn(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=Jc(e);let s=(i?po(n.width):n.width)/r,c=(i?po(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const am=yn(0);function Kc(t){const e=dt(t);return!Yi()||!e.visualViewport?am:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cm(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dt(t)?!1:e}function Pn(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=Xi(t);let s=yn(1);e&&(r?Ut(r)&&(s=Zn(r)):s=Zn(t));const c=cm(i,n,r)?Kc(i):yn(0);let a=(o.left+c.x)/s.x,l=(o.top+c.y)/s.y,u=o.width/s.x,f=o.height/s.y;if(i){const d=dt(i),p=r&&Ut(r)?dt(r):r;let g=d,b=g.frameElement;for(;b&&r&&p!==g;){const v=Zn(b),y=b.getBoundingClientRect(),E=_t(b),R=y.left+(b.clientLeft+parseFloat(E.paddingLeft))*v.x,T=y.top+(b.clientTop+parseFloat(E.paddingTop))*v.y;a*=v.x,l*=v.y,u*=v.x,f*=v.y,a+=R,l+=T,g=dt(b),b=g.frameElement}}return go({width:u,height:f,x:a,y:l})}const lm=[":popover-open",":modal"];function Qi(t){return lm.some(e=>{try{return t.matches(e)}catch{return!1}})}function um(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",s=sn(r),c=e?Qi(e.floating):!1;if(r===s||c&&i)return n;let a={scrollLeft:0,scrollTop:0},l=yn(1);const u=yn(0),f=jt(r);if((f||!f&&!i)&&((ar(r)!=="body"||$r(s))&&(a=Io(r)),jt(r))){const d=Pn(r);l=Zn(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+u.x,y:n.y*l.y-a.scrollTop*l.y+u.y}}function fm(t){return Array.from(t.getClientRects())}function Wc(t){return Pn(sn(t)).left+Io(t).scrollLeft}function dm(t){const e=sn(t),n=Io(t),r=t.ownerDocument.body,o=ft(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ft(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Wc(t);const c=-n.scrollTop;return _t(r).direction==="rtl"&&(s+=ft(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function hm(t,e){const n=dt(t),r=sn(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,a=0;if(o){i=o.width,s=o.height;const l=Yi();(!l||l&&e==="fixed")&&(c=o.offsetLeft,a=o.offsetTop)}return{width:i,height:s,x:c,y:a}}function pm(t,e){const n=Pn(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=jt(t)?Zn(t):yn(1),s=t.clientWidth*i.x,c=t.clientHeight*i.y,a=o*i.x,l=r*i.y;return{width:s,height:c,x:a,y:l}}function Zs(t,e,n){let r;if(e==="viewport")r=hm(t,n);else if(e==="document")r=dm(sn(t));else if(Ut(e))r=pm(e,n);else{const o=Kc(t);r={...e,x:e.x-o.x,y:e.y-o.y}}return go(r)}function zc(t,e){const n=Cn(t);return n===e||!Ut(n)||er(n)?!1:_t(n).position==="fixed"||zc(n,e)}function mm(t,e){const n=e.get(t);if(n)return n;let r=Ir(t,[],!1).filter(c=>Ut(c)&&ar(c)!=="body"),o=null;const i=_t(t).position==="fixed";let s=i?Cn(t):t;for(;Ut(s)&&!er(s);){const c=_t(s),a=zi(s);!a&&c.position==="fixed"&&(o=null),(i?!a&&!o:!a&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||$r(s)&&!a&&zc(t,s))?r=r.filter(u=>u!==s):o=c,s=Cn(s)}return e.set(t,r),r}function gm(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const s=[...n==="clippingAncestors"?Qi(e)?[]:mm(e,this._c):[].concat(n),r],c=s[0],a=s.reduce((l,u)=>{const f=Zs(e,u,o);return l.top=ft(f.top,l.top),l.right=Gt(f.right,l.right),l.bottom=Gt(f.bottom,l.bottom),l.left=ft(f.left,l.left),l},Zs(e,c,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Am(t){const{width:e,height:n}=Jc(t);return{width:e,height:n}}function vm(t,e,n){const r=jt(e),o=sn(e),i=n==="fixed",s=Pn(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const a=yn(0);if(r||!r&&!i)if((ar(e)!=="body"||$r(o))&&(c=Io(e)),r){const f=Pn(e,!0,i,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else o&&(a.x=Wc(o));const l=s.left+c.scrollLeft-a.x,u=s.top+c.scrollTop-a.y;return{x:l,y:u,width:s.width,height:s.height}}function Yo(t){return _t(t).position==="static"}function qs(t,e){return!jt(t)||_t(t).position==="fixed"?null:e?e(t):t.offsetParent}function Yc(t,e){const n=dt(t);if(Qi(t))return n;if(!jt(t)){let o=Cn(t);for(;o&&!er(o);){if(Ut(o)&&!Yo(o))return o;o=Cn(o)}return n}let r=qs(t,e);for(;r&&im(r)&&Yo(r);)r=qs(r,e);return r&&er(r)&&Yo(r)&&!zi(r)?n:r||sm(t)||n}const bm=async function(t){const e=this.getOffsetParent||Yc,n=this.getDimensions,r=await n(t.floating);return{reference:vm(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ym(t){return _t(t).direction==="rtl"}const Cm={convertOffsetParentRelativeRectToViewportRelativeRect:um,getDocumentElement:sn,getClippingRect:gm,getOffsetParent:Yc,getElementRects:bm,getClientRects:fm,getDimensions:Am,getScale:Zn,isElement:Ut,isRTL:ym};function Bm(t,e){let n=null,r;const o=sn(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),i();const{left:l,top:u,width:f,height:d}=t.getBoundingClientRect();if(c||e(),!f||!d)return;const p=Vr(u),g=Vr(o.clientWidth-(l+f)),b=Vr(o.clientHeight-(u+d)),v=Vr(l),E={rootMargin:-p+"px "+-g+"px "+-b+"px "+-v+"px",threshold:ft(0,Gt(1,a))||1};let R=!0;function T(M){const w=M[0].intersectionRatio;if(w!==a){if(!R)return s();w?s(!1,w):r=setTimeout(()=>{s(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(T,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(t)}return s(!0),i}function Em(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,l=Xi(t),u=o||i?[...l?Ir(l):[],...Ir(e)]:[];u.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=l&&c?Bm(l,n):null;let d=-1,p=null;s&&(p=new ResizeObserver(y=>{let[E]=y;E&&E.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var R;(R=p)==null||R.observe(e)})),n()}),l&&!a&&p.observe(l),p.observe(e));let g,b=a?Pn(t):null;a&&v();function v(){const y=Pn(t);b&&(y.x!==b.x||y.y!==b.y||y.width!==b.width||y.height!==b.height)&&n(),b=y,g=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,a&&cancelAnimationFrame(g)}}const wm=tm,xm=nm,Rm=Zp,Tm=om,Sm=qp,ea=Vp,Mm=rm,_m=(t,e,n)=>{const r=new Map,o={platform:Cm,...n},i={...o.platform,_c:r};return Qp(t,e,{...o,platform:i})},Im=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ea({element:r.current,padding:o}).fn(n):{}:r?ea({element:r,padding:o}).fn(n):{}}}};var oo=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ao(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ao(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!Ao(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Xc(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ta(t,e){const n=Xc(t);return Math.round(e*n)/n}function na(t){const e=m.useRef(t);return oo(()=>{e.current=t}),e}function Dm(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:a,open:l}=t,[u,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=m.useState(r);Ao(d,r)||p(r);const[g,b]=m.useState(null),[v,y]=m.useState(null),E=m.useCallback(ee=>{ee!==w.current&&(w.current=ee,b(ee))},[]),R=m.useCallback(ee=>{ee!==P.current&&(P.current=ee,y(ee))},[]),T=i||g,M=s||v,w=m.useRef(null),P=m.useRef(null),S=m.useRef(u),F=a!=null,I=na(a),U=na(o),N=m.useCallback(()=>{if(!w.current||!P.current)return;const ee={placement:e,strategy:n,middleware:d};U.current&&(ee.platform=U.current),_m(w.current,P.current,ee).then(le=>{const de={...le,isPositioned:!0};Q.current&&!Ao(S.current,de)&&(S.current=de,$i.flushSync(()=>{f(de)}))})},[d,e,n,U]);oo(()=>{l===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(ee=>({...ee,isPositioned:!1})))},[l]);const Q=m.useRef(!1);oo(()=>(Q.current=!0,()=>{Q.current=!1}),[]),oo(()=>{if(T&&(w.current=T),M&&(P.current=M),T&&M){if(I.current)return I.current(T,M,N);N()}},[T,M,N,I,F]);const L=m.useMemo(()=>({reference:w,floating:P,setReference:E,setFloating:R}),[E,R]),Y=m.useMemo(()=>({reference:T,floating:M}),[T,M]),X=m.useMemo(()=>{const ee={position:n,left:0,top:0};if(!Y.floating)return ee;const le=ta(Y.floating,u.x),de=ta(Y.floating,u.y);return c?{...ee,transform:"translate("+le+"px, "+de+"px)",...Xc(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:de}},[n,c,Y.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:L,elements:Y,floatingStyles:X}),[u,N,L,Y,X])}const Om=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...i}=t;return m.createElement(kn.svg,ke({},i,{ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:m.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Fm=Om;function Pm(t){const[e,n]=m.useState(void 0);return qn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,c;if("borderBoxSize"in i){const a=i.borderBoxSize,l=Array.isArray(a)?a[0]:a;s=l.inlineSize,c=l.blockSize}else s=t.offsetWidth,c=t.offsetHeight;n({width:s,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const Qc="Popper",[Vc,Zc]=Gc(Qc),[Lm,qc]=Vc(Qc),$m=t=>{const{__scopePopper:e,children:n}=t,[r,o]=m.useState(null);return m.createElement(Lm,{scope:e,anchor:r,onAnchorChange:o},n)},km="PopperAnchor",Gm=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,i=qc(km,n),s=m.useRef(null),c=nr(e,s);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.createElement(kn.div,ke({},o,{ref:c}))}),el="PopperContent",[Hm,Nm]=Vc(el),Um=m.forwardRef((t,e)=>{var n,r,o,i,s,c,a,l;const{__scopePopper:u,side:f="bottom",sideOffset:d=0,align:p="center",alignOffset:g=0,arrowPadding:b=0,avoidCollisions:v=!0,collisionBoundary:y=[],collisionPadding:E=0,sticky:R="partial",hideWhenDetached:T=!1,updatePositionStrategy:M="optimized",onPlaced:w,...P}=t,S=qc(el,u),[F,I]=m.useState(null),U=nr(e,Ze=>I(Ze)),[N,Q]=m.useState(null),L=Pm(N),Y=(n=L==null?void 0:L.width)!==null&&n!==void 0?n:0,X=(r=L==null?void 0:L.height)!==null&&r!==void 0?r:0,ee=f+(p!=="center"?"-"+p:""),le=typeof E=="number"?E:{top:0,right:0,bottom:0,left:0,...E},de=Array.isArray(y)?y:[y],ue=de.length>0,me={padding:le,boundary:de.filter(Wm),altBoundary:ue},{refs:ge,floatingStyles:Be,placement:Ke,isPositioned:We,middlewareData:ce}=Dm({strategy:"fixed",placement:ee,whileElementsMounted:(...Ze)=>Em(...Ze,{animationFrame:M==="always"}),elements:{reference:S.anchor},middleware:[wm({mainAxis:d+X,alignmentAxis:g}),v&&xm({mainAxis:!0,crossAxis:!1,limiter:R==="partial"?Mm():void 0,...me}),v&&Rm({...me}),Tm({...me,apply:({elements:Ze,rects:ht,availableWidth:ln,availableHeight:un})=>{const{width:En,height:fn}=ht.reference,pt=Ze.floating.style;pt.setProperty("--radix-popper-available-width",`${ln}px`),pt.setProperty("--radix-popper-available-height",`${un}px`),pt.setProperty("--radix-popper-anchor-width",`${En}px`),pt.setProperty("--radix-popper-anchor-height",`${fn}px`)}}),N&&Im({element:N,padding:b}),zm({arrowWidth:Y,arrowHeight:X}),T&&Sm({strategy:"referenceHidden",...me})]}),[He,$e]=tl(Ke),xt=or(w);qn(()=>{We&&(xt==null||xt())},[We,xt]);const cn=(o=ce.arrow)===null||o===void 0?void 0:o.x,Ot=(i=ce.arrow)===null||i===void 0?void 0:i.y,Kt=((s=ce.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[ot,Ft]=m.useState();return qn(()=>{F&&Ft(window.getComputedStyle(F).zIndex)},[F]),m.createElement("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:We?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[(c=ce.transformOrigin)===null||c===void 0?void 0:c.x,(a=ce.transformOrigin)===null||a===void 0?void 0:a.y].join(" ")},dir:t.dir},m.createElement(Hm,{scope:u,placedSide:He,onArrowChange:Q,arrowX:cn,arrowY:Ot,shouldHideArrow:Kt},m.createElement(kn.div,ke({"data-side":He,"data-align":$e},P,{ref:U,style:{...P.style,animation:We?void 0:"none",opacity:(l=ce.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}}))))}),jm="PopperArrow",Jm={top:"bottom",right:"left",bottom:"top",left:"right"},Km=m.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,i=Nm(jm,r),s=Jm[i.placedSide];return m.createElement("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0}},m.createElement(Fm,ke({},o,{ref:n,style:{...o.style,display:"block"}})))});function Wm(t){return t!==null}const zm=t=>({name:"transformOrigin",options:t,fn(e){var n,r,o,i,s;const{placement:c,rects:a,middlewareData:l}=e,f=((n=l.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=f?0:t.arrowWidth,p=f?0:t.arrowHeight,[g,b]=tl(c),v={start:"0%",center:"50%",end:"100%"}[b],y=((r=(o=l.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+d/2,E=((i=(s=l.arrow)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0)+p/2;let R="",T="";return g==="bottom"?(R=f?v:`${y}px`,T=`${-p}px`):g==="top"?(R=f?v:`${y}px`,T=`${a.floating.height+p}px`):g==="right"?(R=`${-p}px`,T=f?v:`${E}px`):g==="left"&&(R=`${a.floating.width+p}px`,T=f?v:`${E}px`),{data:{x:R,y:T}}}});function tl(t){const[e,n="center"]=t.split("-");return[e,n]}const Ym=$m,Xm=Gm,Qm=Um,Vm=Km;function Zm(t,e){return m.useReducer((n,r)=>{const o=e[n][r];return o??n},t)}const nl=t=>{const{present:e,children:n}=t,r=qm(e),o=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=nr(r.ref,o.ref);return typeof n=="function"||r.isPresent?m.cloneElement(o,{ref:i}):null};nl.displayName="Presence";function qm(t){const[e,n]=m.useState(),r=m.useRef({}),o=m.useRef(t),i=m.useRef("none"),s=t?"mounted":"unmounted",[c,a]=Zm(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const l=Zr(r.current);i.current=c==="mounted"?l:"none"},[c]),qn(()=>{const l=r.current,u=o.current;if(u!==t){const d=i.current,p=Zr(l);t?a("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?a("UNMOUNT"):a(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,a]),qn(()=>{if(e){const l=f=>{const p=Zr(r.current).includes(f.animationName);f.target===e&&p&&$i.flushSync(()=>a("ANIMATION_END"))},u=f=>{f.target===e&&(i.current=Zr(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",l),e.addEventListener("animationend",l),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",l),e.removeEventListener("animationend",l)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Zr(t){return(t==null?void 0:t.animationName)||"none"}function eg({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=tg({defaultProp:e,onChange:n}),i=t!==void 0,s=i?t:r,c=or(n),a=m.useCallback(l=>{if(i){const f=typeof l=="function"?l(t):l;f!==t&&c(f)}else o(l)},[i,t,o,c]);return[s,a]}function tg({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,o=m.useRef(r),i=or(e);return m.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}const ng=m.forwardRef((t,e)=>m.createElement(kn.span,ke({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),rg=ng,[Do,wy]=Gc("Tooltip",[Zc]),Oo=Zc(),og="TooltipProvider",bi="tooltip.open",[xy,Vi]=Do(og),Zi="Tooltip",[ig,Fo]=Do(Zi),sg=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:c}=t,a=Vi(Zi,t.__scopeTooltip),l=Oo(e),[u,f]=m.useState(null),d=Np(),p=m.useRef(0),g=s??a.disableHoverableContent,b=c??a.delayDuration,v=m.useRef(!1),[y=!1,E]=eg({prop:r,defaultProp:o,onChange:P=>{P?(a.onOpen(),document.dispatchEvent(new CustomEvent(bi))):a.onClose(),i==null||i(P)}}),R=m.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),T=m.useCallback(()=>{window.clearTimeout(p.current),v.current=!1,E(!0)},[E]),M=m.useCallback(()=>{window.clearTimeout(p.current),E(!1)},[E]),w=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,E(!0)},b)},[b,E]);return m.useEffect(()=>()=>window.clearTimeout(p.current),[]),m.createElement(Ym,l,m.createElement(ig,{scope:e,contentId:d,open:y,stateAttribute:R,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{a.isOpenDelayed?w():T()},[a.isOpenDelayed,w,T]),onTriggerLeave:m.useCallback(()=>{g?M():window.clearTimeout(p.current)},[M,g]),onOpen:T,onClose:M,disableHoverableContent:g},n))},ra="TooltipTrigger",ag=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=Fo(ra,n),i=Vi(ra,n),s=Oo(n),c=m.useRef(null),a=nr(e,c,o.onTriggerChange),l=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>l.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),m.createElement(Xm,ke({asChild:!0},s),m.createElement(kn.button,ke({"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute},r,{ref:a,onPointerMove:Xt(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:Xt(t.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:Xt(t.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Xt(t.onFocus,()=>{l.current||o.onOpen()}),onBlur:Xt(t.onBlur,o.onClose),onClick:Xt(t.onClick,o.onClose)})))}),cg="TooltipPortal",[Ry,lg]=Do(cg,{forceMount:void 0}),Dr="TooltipContent",ug=m.forwardRef((t,e)=>{const n=lg(Dr,t.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=t,s=Fo(Dr,t.__scopeTooltip);return m.createElement(nl,{present:r||s.open},s.disableHoverableContent?m.createElement(rl,ke({side:o},i,{ref:e})):m.createElement(fg,ke({side:o},i,{ref:e})))}),fg=m.forwardRef((t,e)=>{const n=Fo(Dr,t.__scopeTooltip),r=Vi(Dr,t.__scopeTooltip),o=m.useRef(null),i=nr(e,o),[s,c]=m.useState(null),{trigger:a,onClose:l}=n,u=o.current,{onPointerInTransitChange:f}=r,d=m.useCallback(()=>{c(null),f(!1)},[f]),p=m.useCallback((g,b)=>{const v=g.currentTarget,y={x:g.clientX,y:g.clientY},E=gg(y,v.getBoundingClientRect()),R=Ag(y,E),T=vg(b.getBoundingClientRect()),M=yg([...R,...T]);c(M),f(!0)},[f]);return m.useEffect(()=>()=>d(),[d]),m.useEffect(()=>{if(a&&u){const g=v=>p(v,u),b=v=>p(v,a);return a.addEventListener("pointerleave",g),u.addEventListener("pointerleave",b),()=>{a.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",b)}}},[a,u,p,d]),m.useEffect(()=>{if(s){const g=b=>{const v=b.target,y={x:b.clientX,y:b.clientY},E=(a==null?void 0:a.contains(v))||(u==null?void 0:u.contains(v)),R=!bg(y,s);E?d():R&&(d(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[a,u,s,l,d]),m.createElement(rl,ke({},t,{ref:i}))}),[dg,hg]=Do(Zi,{isInside:!1}),rl=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...c}=t,a=Fo(Dr,n),l=Oo(n),{onClose:u}=a;return m.useEffect(()=>(document.addEventListener(bi,u),()=>document.removeEventListener(bi,u)),[u]),m.useEffect(()=>{if(a.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(a.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[a.trigger,u]),m.createElement(Lp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:u},m.createElement(Qm,ke({"data-state":a.stateAttribute},l,c,{ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),m.createElement(Oc,null,r),m.createElement(dg,{scope:n,isInside:!0},m.createElement(rg,{id:a.contentId,role:"tooltip"},o||r))))}),pg="TooltipArrow",mg=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=Oo(n);return hg(pg,n).isInside?null:m.createElement(Vm,ke({},o,r,{ref:e}))});function gg(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ag(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function vg(t){const{top:e,right:n,bottom:r,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:r},{x:o,y:r}]}function bg(t,e){const{x:n,y:r}=t;let o=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const c=e[i].x,a=e[i].y,l=e[s].x,u=e[s].y;a>r!=u>r&&n<(l-c)*(r-a)/(u-a)+c&&(o=!o)}return o}function yg(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Cg(e)}function Cg(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const i=e[e.length-1],s=e[e.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const Bg=sg,Eg=ag,wg=ug,xg=mg;function Rg(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function Re(t,e){if(t==null)return{};var n=Rg(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let Oe;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(Oe||(Oe={}));const Tg={[Oe.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[Oe.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Oe.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[Oe.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[Oe.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[Oe.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[Oe.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[Oe.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[Oe.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[Oe.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[Oe.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function ol(t,e,...n){const[r,...o]=Tg[e](...n);console[t]("LEVA: "+r,...o)}const Vt=ol.bind(null,"warn"),Sg=ol.bind(null,"log"),Mg=["value"],_g=["schema"],Ig=["value"],il=[],Ln={};function oa(t){let{value:e}=t,n=Re(t,Mg);for(let r of il){const o=r(e,n);if(o)return o}}function an(t,e){let{schema:n}=e,r=Re(e,_g);if(t in Ln){Vt(Oe.ALREADY_REGISTERED_TYPE,t);return}il.push((o,i)=>n(o,i)&&t),Ln[t]=r}function Xo(t,e,n,r){const{normalize:o}=Ln[t];if(o)return o(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:i}=e,s=Re(e,Ig);return{value:i,settings:s}}function Dg(t,e,n,r,o,i){const{sanitize:s}=Ln[t];return s?s(e,n,r,o,i):e}function ia(t,e,n){const{format:r}=Ln[t];return r?r(e,n):e}function Og(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sa(Object(n),!0).forEach(function(r){Og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Bn=(t,e,n)=>t>n?n:t<e?e:t,Fg=t=>{if(t===""||typeof t=="number")return t;try{const e=gn(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},Pg=Math.log(10);function aa(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/Pg)+1,r=Math.floor(Math.log10(Math.abs(t))),o=Math.pow(10,r-n);return Math.max(o,.001)}const vo=(t,e,n)=>n===e?0:(Bn(t,e,n)-e)/(n-e),bo=(t,e,n)=>t*(n-e)+e,Lg=()=>"_"+Math.random().toString(36).substr(2,9),ca=/\(([0-9+\-*/^ .]+)\)/,la=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,ua=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,fa=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,da=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,ha=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function gn(t){if(isNaN(Number(t)))if(ca.test(t)){const e=t.replace(ca,(n,r)=>String(gn(r)));return gn(e)}else if(la.test(t)){const e=t.replace(la,(n,r,o)=>String(Math.pow(Number(r),Number(o))));return gn(e)}else if(ua.test(t)){const e=t.replace(ua,(n,r,o)=>String(Number(r)*Number(o)));return gn(e)}else if(fa.test(t)){const e=t.replace(fa,(n,r,o)=>{if(o!=0)return String(Number(r)/Number(o));throw new Error("Division by zero")});return gn(e)}else if(da.test(t)){const e=t.replace(da,(n,r,o)=>String(Number(r)+Number(o)));return gn(e)}else if(ha.test(t)){const e=t.replace(ha,(n,r,o)=>String(Number(r)-Number(o)));return gn(e)}else return Number(t);return Number(t)}function $g(t,e){const n=se({},t);return e.forEach(r=>r in t&&delete n[r]),n}function kg(t,e){return t.reduce((n,r,o)=>Object.assign(n,{[e[o]]:r}),{})}function sl(t){return Object.prototype.toString.call(t)==="[object Object]"}const Gg=t=>sl(t)&&Object.keys(t).length===0;let Ht;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(Ht||(Ht={}));let It;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(It||(It={}));const Hg=["type","__customInput"],Ng=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Ug=["type"];function al(t,e,n={},r){var o,i;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:se({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:M,__customInput:w}=t,P=Re(t,Hg);return al(w,e,P,M)}const{render:s,label:c,optional:a,order:l=0,disabled:u,hint:f,onChange:d,onEditStart:p,onEditEnd:g,transient:b}=t,v=Re(t,Ng),y=se({render:s,key:e,label:c??e,hint:f,transient:b??!!d,onEditStart:p,onEditEnd:g,disabled:u,optional:a,order:l},n);let{type:E}=v,R=Re(v,Ug);if(E=r??E,E in Ht)return{type:E,input:R,options:y};let T;return r&&sl(R)&&"value"in R?T=R.value:T=Gg(R)?void 0:R,{type:E,input:T,options:se(se({},y),{},{onChange:d,optional:(o=y.optional)!==null&&o!==void 0?o:!1,disabled:(i=y.disabled)!==null&&i!==void 0?i:!1})}}function jg(t,e,n,r){const o=al(t,e),{type:i,input:s,options:c}=o;if(i)return i in Ht?o:{type:i,input:Xo(i,s,n,r),options:c};let a=oa(s);return a?{type:a,input:Xo(a,s,n,r),options:c}:(a=oa({value:s}),a?{type:a,input:Xo(a,{value:s},n,r),options:c}:!1)}function pa(t,e,n,r,o){const{value:i,type:s,settings:c}=t;t.value=cl({type:s,value:i,settings:c},e,n,r),t.fromPanel=o}const Jg=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function cl({type:t,value:e,settings:n},r,o,i){const s=t!=="SELECT"&&typeof r=="function"?r(e):r;let c;try{c=Dg(t,s,n,e,o,i)}catch(a){throw new Jg(`The value \`${r}\` did not result in a correct value.`,e,a)}return fo(c,e)?e:c}const ll=(t,e,n=!1)=>{let r=0;return function(){const o=arguments,i=n&&!r,s=()=>t.apply(this,o);window.clearTimeout(r),r=window.setTimeout(s,e),i&&s()}},ul=t=>t.shiftKey?5:t.altKey?1/5:1,Kg=["value"],Wg=["min","max"],zg=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},fl=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const o=parseFloat(t);if(t===""||isNaN(o))throw Error("Invalid number");const i=Bn(o,e,n);return r?i+r:i},Yg=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},dl=t=>{let{value:e}=t,n=Re(t,Kg);const{min:r=-1/0,max:o=1/0}=n,i=Re(n,Wg);let s=parseFloat(e);const c=typeof e=="string"?e.substring((""+s).length):void 0;s=Bn(s,r,o);let a=n.step;a||(Number.isFinite(r)?Number.isFinite(o)?a=+(Math.abs(o-r)/100).toPrecision(1):a=+(Math.abs(s-r)/100).toPrecision(1):Number.isFinite(o)&&(a=+(Math.abs(o-s)/100).toPrecision(1)));const l=a?aa(a)*10:aa(s);a=a||l/10;const u=Math.round(Bn(Math.log10(1/l),0,2));return{value:c?s+c:s,settings:se({initialValue:s,step:a,pad:u,min:r,max:o,suffix:c},i)}},hl=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var pl=Object.freeze({__proto__:null,schema:zg,sanitize:fl,format:Yg,normalize:dl,sanitizeStep:hl});function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ge.apply(this,arguments)}const ml=m.createContext({});function Ve(){return m.useContext(ml)}const gl=m.createContext(null),Al=m.createContext(null),vl=m.createContext(null);function kr(){return m.useContext(Al)}function Xg(){return m.useContext(vl)}const Qg=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function qr(t,e){const[n,r]=t.split(" "),o={};return n!=="none"&&(o.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(o.backgroundColor=r),o}const vr={$inputStyle:()=>t=>qr(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>qr(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>qr(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>qr(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ne,css:Ty,createTheme:Sy,globalCss:Vg,keyframes:My}=_p({prefix:"leva",theme:Qg(),utils:se(se({},vr),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":vr.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":vr.$focusStyle()(t)}),$hover:t=>({"&:hover":vr.$hoverStyle()(t)}),$active:t=>({"&:active":vr.$activeStyle()(t)})})}),Zg=Vg({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function tn(t,e){const{theme:n}=m.useContext(gl);if(!(t in n)||!(e in n[t]))return Vt(Oe.THEME_ERROR,t,e),"";let r=e;for(;;){let o=n[t][r];if(typeof o=="string"&&o.charAt(0)==="$")r=o.substr(1);else return o}}const bl=ne("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),yl=ne("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${bl}`]:{paddingLeft:0}}),qg=ne(yl,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),eA=ne("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),tA=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],nA=["onUpdate"];function qi(t){let{innerLabel:e,value:n,onUpdate:r,onChange:o,onKeyDown:i,type:s,id:c,inputType:a="text",rows:l=0}=t,u=Re(t,tA);const{id:f,emitOnEditStart:d,emitOnEditEnd:p,disabled:g}=Ve(),b=c||f,v=m.useRef(null),y=l>0,E=y?"textarea":"input",R=m.useCallback(w=>P=>{const S=P.currentTarget.value;w(S)},[]);C.useEffect(()=>{const w=v.current,P=R(S=>{r(S),p()});return w==null||w.addEventListener("blur",P),()=>w==null?void 0:w.removeEventListener("blur",P)},[R,r,p]);const T=m.useCallback(w=>{w.key==="Enter"&&R(r)(w)},[R,r]),M=Object.assign({as:E},y?{rows:l}:{},u);return C.createElement(eA,{textArea:y},e&&typeof e=="string"?C.createElement(yl,null,e):e,C.createElement(bl,Ge({levaType:s,ref:v,id:b,type:a,autoComplete:"off",spellCheck:"false",value:n,onChange:R(o),onFocus:()=>d(),onKeyPress:T,onKeyDown:i,disabled:g},M)))}function rA(t){let{onUpdate:e}=t,n=Re(t,nA);const r=m.useCallback(i=>e(Fg(i)),[e]),o=m.useCallback(i=>{const s=i.key==="ArrowUp"?1:i.key==="ArrowDown"?-1:0;if(s){i.preventDefault();const c=i.altKey?.1:i.shiftKey?10:1;e(a=>parseFloat(a)+s*c)}},[e]);return C.createElement(qi,Ge({},n,{onUpdate:r,onKeyDown:o,type:"number"}))}const yo=ne("div",{}),yi=ne("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),oA=ne("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${yi}::after`]:{opacity:.6},[`${yo}:hover > & + ${yi}::after`]:{opacity:.6},[`${yo}:hover > & > svg`]:{opacity:1}}),Cl=ne("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${yo}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),Bl=ne("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${Cl} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),El=ne(Bl,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),iA=ne("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),sA=ne("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Ci=ne("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),aA=ne("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Ci}`]:{pointerEvents:"auto"}}}}}),wl=ne("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),cA=ne("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),lA=ne(xg,{fill:"$toolTipBackground"});function es({children:t}){const{className:e}=m.useContext(gl);return C.createElement(Zh,{className:e},t)}const uA=["align"];function fA(){const{id:t,disable:e,disabled:n}=Ve();return C.createElement(C.Fragment,null,C.createElement(sA,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),C.createElement("label",{htmlFor:t+"__disable"}))}function dA(t){const{id:e,optional:n,hint:r}=Ve(),o=t.htmlFor||(e?{htmlFor:e}:null),i=!r&&typeof t.children=="string"?{title:t.children}:null;return C.createElement(C.Fragment,null,n&&C.createElement(fA,null),r!==void 0?C.createElement(Bg,null,C.createElement(Eg,{asChild:!0},C.createElement(Ci,Ge({},o,t))),C.createElement(wg,{side:"top",sideOffset:2},C.createElement(cA,null,r,C.createElement(lA,null)))):C.createElement(Ci,Ge({},o,i,t)))}function Dt(t){let{align:e}=t,n=Re(t,uA);const{value:r,label:o,key:i,disabled:s}=Ve(),{hideCopyButton:c}=Xg(),a=!c&&i!==void 0,[l,u]=m.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[i]:r??""})),u(!0)}catch{Vt(Oe.CLIPBOARD_ERROR,{[i]:r})}};return C.createElement(iA,{align:e,onPointerLeave:()=>u(!1)},C.createElement(dA,n),a&&!s&&C.createElement("div",{title:`Click to copy ${typeof o=="string"?o:i} value`},l?C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},C.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),C.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):C.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},C.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),C.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const hA=["toggled"],pA=ne("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function ts(t){let{toggled:e}=t,n=Re(t,hA);return C.createElement(pA,Ge({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),C.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const mA=["input"];function wt(t){let{input:e}=t,n=Re(t,mA);return e?C.createElement(El,n):C.createElement(Bl,n)}function xl({value:t,type:e,settings:n,setValue:r}){const[o,i]=m.useState(ia(e,t,n)),s=m.useRef(t),c=m.useRef(n);c.current=n;const a=m.useCallback(u=>i(ia(e,u,c.current)),[e]),l=m.useCallback(u=>{try{r(u)}catch(f){const{type:d,previousValue:p}=f;if(d!=="LEVA_ERROR")throw f;a(p)}},[a,r]);return m.useEffect(()=>{fo(t,s.current)||a(t),s.current=t},[t,a]),{displayValue:o,onChange:i,onUpdate:l}}function Gr(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=Ve();return ud(o=>{o.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const i=t(o);return o.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),i},e)}function gA(t){const e=m.useRef(null),n=m.useRef(null),r=m.useRef(!1);return m.useEffect(()=>{const o=ll(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",o),r.current||(o(),r.current=!0),()=>window.removeEventListener("resize",o)},[t]),m.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function Rl(){const t=m.useRef(null),e=m.useRef({x:0,y:0}),n=m.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const AA=["__refCount"],Qo=(t,e)=>{if(!t[e])return null;const n=t[e];return Re(n,AA)};function vA(t){const e=kr(),[n,r]=m.useState(Qo(e.getData(),t)),o=m.useCallback(l=>e.setValueAtPath(t,l,!0),[t,e]),i=m.useCallback(l=>e.setSettingsAtPath(t,l),[t,e]),s=m.useCallback(l=>e.disableInputAtPath(t,l),[t,e]),c=m.useCallback(()=>e.emitOnEditStart(t),[t,e]),a=m.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return m.useEffect(()=>{r(Qo(e.getData(),t));const l=e.useStore.subscribe(u=>Qo(u.data,t),r,{equalityFn:bc});return()=>l()},[e,t]),[n,{set:o,setSettings:i,disable:s,storeId:e.storeId,emitOnEditStart:c,emitOnEditEnd:a}]}const bA=ne("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Tl=ne("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Bi=ne("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Sl=ne("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Ml=ne("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function yA({value:t,min:e,max:n,onDrag:r,step:o,initialValue:i}){const s=m.useRef(null),c=m.useRef(null),a=m.useRef(0),l=tn("sizes","scrubberWidth"),u=Gr(({event:d,first:p,xy:[g],movement:[b],memo:v})=>{if(p){const{width:E,left:R}=s.current.getBoundingClientRect();a.current=E-parseFloat(l),v=(d==null?void 0:d.target)===c.current?t:bo((g-R)/E,e,n)}const y=v+bo(b/a.current,0,n-e);return r(hl(y,{step:o,initialValue:i})),v}),f=vo(t,e,n);return C.createElement(Sl,Ge({ref:s},u()),C.createElement(Tl,null,C.createElement(Ml,{style:{left:0,right:`${(1-f)*100}%`}})),C.createElement(Bi,{ref:c,style:{left:`calc(${f} * (100% - ${l}))`}}))}const CA=C.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[o,i]=m.useState(!1),s=Gr(({active:c,delta:[a],event:l,memo:u=0})=>(i(c),u+=a/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*n*ul(l)),u=0),u));return C.createElement(qg,Ge({dragging:o,title:t.length>1?t:""},s()),t.slice(0,r))});function _l({label:t,id:e,displayValue:n,onUpdate:r,onChange:o,settings:i,innerLabelTrim:s=1}){const c=s>0&&C.createElement(CA,{label:t,step:i.step,onUpdate:r,innerLabelTrim:s});return C.createElement(rA,{id:e,value:String(n),onUpdate:r,onChange:o,innerLabel:c})}function BA(){const t=Ve(),{label:e,value:n,onUpdate:r,settings:o,id:i}=t,{min:s,max:c}=o,a=c!==1/0&&s!==-1/0;return C.createElement(wt,{input:!0},C.createElement(Dt,null,e),C.createElement(bA,{hasRange:a},a&&C.createElement(yA,Ge({value:parseFloat(n),onDrag:r},o)),C.createElement(_l,Ge({},t,{id:i,label:"value",innerLabelTrim:a?0:1}))))}const{sanitizeStep:EA}=pl,wA=Re(pl,["sanitizeStep"]);var xA=se({component:BA},wA);const RA=(t,e)=>st().schema({options:st().passesAnyOf(st().object(),st().array())}).test(e),TA=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},SA=(t,{values:e})=>e.indexOf(t),MA=t=>{let{value:e,options:n}=t,r,o;return Array.isArray(n)?(o=n,r=n.map(i=>String(i))):(o=Object.values(n),r=Object.keys(n)),"value"in t?o.includes(e)||(r.unshift(String(e)),o.unshift(e)):e=o[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:o}}};var _A=Object.freeze({__proto__:null,schema:RA,sanitize:TA,format:SA,normalize:MA});const IA=ne("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Ei=ne("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),DA=ne("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Ei}:focus + &`]:{$focusStyle:""},[`${Ei}:hover + &`]:{$hoverStyle:""}});function OA({displayValue:t,value:e,onUpdate:n,id:r,settings:o,disabled:i}){const{keys:s,values:c}=o,a=m.useRef();return e===c[t]&&(a.current=s[t]),C.createElement(IA,null,C.createElement(Ei,{id:r,value:t,onChange:l=>n(c[Number(l.currentTarget.value)]),disabled:i},s.map((l,u)=>C.createElement("option",{key:l,value:u},l))),C.createElement(DA,null,a.current),C.createElement(ts,{toggled:!0}))}function FA(){const{label:t,value:e,displayValue:n,onUpdate:r,id:o,disabled:i,settings:s}=Ve();return C.createElement(wt,{input:!0},C.createElement(Dt,null,t),C.createElement(OA,{id:o,value:e,displayValue:n,onUpdate:r,settings:s,disabled:i}))}var PA=se({component:FA},_A);const LA=t=>st().string().test(t),$A=t=>{if(typeof t!="string")throw Error("Invalid string");return t},kA=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var GA=Object.freeze({__proto__:null,schema:LA,sanitize:$A,normalize:kA});const HA=["displayValue","onUpdate","onChange","editable"],NA=ne("div",{whiteSpace:"pre-wrap"});function UA(t){let{displayValue:e,onUpdate:n,onChange:r,editable:o=!0}=t,i=Re(t,HA);return o?C.createElement(qi,Ge({value:e,onUpdate:n,onChange:r},i)):C.createElement(NA,null,e)}function jA(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:o}=Ve();return C.createElement(wt,{input:!0},C.createElement(Dt,null,t),C.createElement(UA,Ge({displayValue:n,onUpdate:r,onChange:o},e)))}var JA=se({component:jA},GA);const KA=t=>st().boolean().test(t),WA=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var zA=Object.freeze({__proto__:null,schema:KA,sanitize:WA});const YA=ne("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function XA({value:t,onUpdate:e,id:n,disabled:r}){return C.createElement(YA,null,C.createElement("input",{id:n,type:"checkbox",checked:t,onChange:o=>e(o.currentTarget.checked),disabled:r}),C.createElement("label",{htmlFor:n},C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function QA(){const{label:t,value:e,onUpdate:n,disabled:r,id:o}=Ve();return C.createElement(wt,{input:!0},C.createElement(Dt,null,t),C.createElement(XA,{value:e,onUpdate:n,id:o,disabled:r}))}var VA=se({component:QA},zA);const ZA=["locked"];function qA({value:t,id:e,valueKey:n,settings:r,onUpdate:o,innerLabelTrim:i}){const s=m.useRef(t[n]);s.current=t[n];const c=m.useCallback(l=>o({[n]:cl({type:"NUMBER",value:s.current,settings:r},l)}),[o,r,n]),a=xl({type:"NUMBER",value:t[n],settings:r,setValue:c});return C.createElement(_l,{id:e,label:n,value:t[n],displayValue:a.displayValue,onUpdate:a.onUpdate,onChange:a.onChange,settings:r,innerLabelTrim:i})}const e0=ne("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function t0(t){let{locked:e}=t,n=Re(t,ZA);return C.createElement("svg",Ge({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?C.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):C.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ns({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:o,setSettings:i}=Ve(),{lock:s,locked:c}=n;return C.createElement(e0,{withLock:s},s&&C.createElement(t0,{locked:c,onClick:()=>i({locked:!c})}),Object.keys(t).map((a,l)=>C.createElement(qA,{id:l===0?o:`${o}.${a}`,key:a,valueKey:a,value:t,settings:n[a],onUpdate:e,innerLabelTrim:r})))}const Il=(t,e)=>{const n={};let r=0,o=1/0;Object.entries(t).forEach(([i,s])=>{n[i]=dl(se({value:s},e[i])).settings,r=Math.max(r,n[i].step),o=Math.min(o,n[i].pad)});for(let i in n){const{step:s,min:c,max:a}=e[i]||{};!isFinite(s)&&(!isFinite(c)||!isFinite(a))&&(n[i].step=r,n[i].pad=o)}return n},n0=["lock"],r0=["value"];function o0(t){const e=st().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const o=Object.values(r);return o.length===t&&o.every(i=>isFinite(i))};return r=>e.test(r)||n(r)}function i0(t){return Array.isArray(t)?"array":"object"}function wr(t,e,n){return i0(t)===e?t:e==="array"?Object.values(t):kg(t,n)}const s0=(t,e,n)=>{const r=wr(t,"object",e.keys);for(let s in r)r[s]=fl(r[s],e[s]);const o=Object.keys(r);let i={};if(o.length===e.keys.length)i=r;else{const s=wr(n,"object",e.keys);if(o.length===1&&e.locked){const c=o[0],a=r[c],l=s[c],u=l!==0?a/l:1;for(let f in s)f===c?i[c]=a:i[f]=s[f]*u}else i=se(se({},s),r)}return wr(i,e.format,e.keys)},a0=(t,e)=>wr(t,"object",e.keys),c0=t=>!!t&&("step"in t||"min"in t||"max"in t);function l0(t,e,n=[]){const{lock:r=!1}=e,o=Re(e,n0),i=Array.isArray(t)?"array":"object",s=i==="object"?Object.keys(t):n,c=wr(t,"object",s),a=c0(o)?s.reduce((u,f)=>Object.assign(u,{[f]:o}),{}):o,l=Il(c,a);return{value:i==="array"?t:c,settings:se(se({},l),{},{format:i,keys:s,lock:r,locked:!1})}}function Dl(t){return{schema:o0(t.length),normalize:e=>{let{value:n}=e,r=Re(e,r0);return l0(n,r,t)},format:(e,n)=>a0(e,n),sanitize:(e,n,r)=>s0(e,n,r)}}var u0={grad:.9,turn:360,rad:360/(2*Math.PI)},zt=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Je=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Et=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Ol=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ma=function(t){return{r:Et(t.r,0,255),g:Et(t.g,0,255),b:Et(t.b,0,255),a:Et(t.a)}},Vo=function(t){return{r:Je(t.r),g:Je(t.g),b:Je(t.b),a:Je(t.a,3)}},f0=/^#([0-9a-f]{3,8})$/i,eo=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Fl=function(t){var e=t.r,n=t.g,r=t.b,o=t.a,i=Math.max(e,n,r),s=i-Math.min(e,n,r),c=s?i===e?(n-r)/s:i===n?2+(r-e)/s:4+(e-n)/s:0;return{h:60*(c<0?c+6:c),s:i?s/i*100:0,v:i/255*100,a:o}},Pl=function(t){var e=t.h,n=t.s,r=t.v,o=t.a;e=e/360*6,n/=100,r/=100;var i=Math.floor(e),s=r*(1-n),c=r*(1-(e-i)*n),a=r*(1-(1-e+i)*n),l=i%6;return{r:255*[r,c,s,s,a,r][l],g:255*[a,r,r,c,s,s][l],b:255*[s,s,a,r,r,c][l],a:o}},ga=function(t){return{h:Ol(t.h),s:Et(t.s,0,100),l:Et(t.l,0,100),a:Et(t.a)}},Aa=function(t){return{h:Je(t.h),s:Je(t.s),l:Je(t.l),a:Je(t.a,3)}},va=function(t){return Pl((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},xr=function(t){return{h:(e=Fl(t)).h,s:(o=(200-(n=e.s))*(r=e.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:e.a};var e,n,r,o},d0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,h0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p0=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m0=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wi={string:[[function(t){var e=f0.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Je(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Je(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=p0.exec(t)||m0.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ma({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=d0.exec(t)||h0.exec(t);if(!e)return null;var n,r,o=ga({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(u0[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return va(o)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,o=t.a,i=o===void 0?1:o;return zt(e)&&zt(n)&&zt(r)?ma({r:Number(e),g:Number(n),b:Number(r),a:Number(i)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,o=t.a,i=o===void 0?1:o;if(!zt(e)||!zt(n)||!zt(r))return null;var s=ga({h:Number(e),s:Number(n),l:Number(r),a:Number(i)});return va(s)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,o=t.a,i=o===void 0?1:o;if(!zt(e)||!zt(n)||!zt(r))return null;var s=function(c){return{h:Ol(c.h),s:Et(c.s,0,100),v:Et(c.v,0,100),a:Et(c.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(i)});return Pl(s)},"hsv"]]},ba=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},Ll=function(t){return typeof t=="string"?ba(t.trim(),wi.string):typeof t=="object"&&t!==null?ba(t,wi.object):[null,void 0]},g0=function(t){return Ll(t)[1]},Zo=function(t,e){var n=xr(t);return{h:n.h,s:Et(n.s+100*e,0,100),l:n.l,a:n.a}},qo=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},ya=function(t,e){var n=xr(t);return{h:n.h,s:n.s,l:Et(n.l+100*e,0,100),a:n.a}},xi=function(){function t(e){this.parsed=Ll(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Je(qo(this.rgba),2)},t.prototype.isDark=function(){return qo(this.rgba)<.5},t.prototype.isLight=function(){return qo(this.rgba)>=.5},t.prototype.toHex=function(){return e=Vo(this.rgba),n=e.r,r=e.g,o=e.b,s=(i=e.a)<1?eo(Je(255*i)):"","#"+eo(n)+eo(r)+eo(o)+s;var e,n,r,o,i,s},t.prototype.toRgb=function(){return Vo(this.rgba)},t.prototype.toRgbString=function(){return e=Vo(this.rgba),n=e.r,r=e.g,o=e.b,(i=e.a)<1?"rgba("+n+", "+r+", "+o+", "+i+")":"rgb("+n+", "+r+", "+o+")";var e,n,r,o,i},t.prototype.toHsl=function(){return Aa(xr(this.rgba))},t.prototype.toHslString=function(){return e=Aa(xr(this.rgba)),n=e.h,r=e.s,o=e.l,(i=e.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+i+")":"hsl("+n+", "+r+"%, "+o+"%)";var e,n,r,o,i},t.prototype.toHsv=function(){return e=Fl(this.rgba),{h:Je(e.h),s:Je(e.s),v:Je(e.v),a:Je(e.a,3)};var e},t.prototype.invert=function(){return nt({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),nt(Zo(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),nt(Zo(this.rgba,-e))},t.prototype.grayscale=function(){return nt(Zo(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),nt(ya(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),nt(ya(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?nt({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Je(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=xr(this.rgba);return typeof e=="number"?nt({h:e,s:n.s,l:n.l,a:n.a}):Je(n.h)},t.prototype.isEqual=function(e){return this.toHex()===nt(e).toHex()},t}(),nt=function(t){return t instanceof xi?t:new xi(t)},Ca=[],A0=function(t){t.forEach(function(e){Ca.indexOf(e)<0&&(e(xi,wi),Ca.push(e))})};function v0(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var i={};t.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,a,l=r[this.toHex()];if(l)return l;if(s!=null&&s.closest){var u=this.toRgb(),f=1/0,d="black";if(!i.length)for(var p in n)i[p]=new t(n[p]).toRgb();for(var g in n){var b=(c=u,a=i[g],Math.pow(c.r-a.r,2)+Math.pow(c.g-a.g,2)+Math.pow(c.b-a.b,2));b<f&&(f=b,d=g)}return d}},e.string.push([function(s){var c=s.toLowerCase(),a=c==="transparent"?"#0000":n[c];return a?new t(a).toRgb():null},"name"])}function cr(){return(cr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rs(t,e){if(t==null)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e.indexOf(n=i[r])>=0||(o[n]=t[n]);return o}function Ri(t){var e=m.useRef(t),n=m.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var tr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},Rr=function(t){return"touches"in t},Ti=function(t){return t&&t.ownerDocument.defaultView||self},Ba=function(t,e,n){var r=t.getBoundingClientRect(),o=Rr(e)?function(i,s){for(var c=0;c<i.length;c++)if(i[c].identifier===s)return i[c];return i[0]}(e.touches,n):e;return{left:tr((o.pageX-(r.left+Ti(t).pageXOffset))/r.width),top:tr((o.pageY-(r.top+Ti(t).pageYOffset))/r.height)}},Ea=function(t){!Rr(t)&&t.preventDefault()},os=C.memo(function(t){var e=t.onMove,n=t.onKey,r=rs(t,["onMove","onKey"]),o=m.useRef(null),i=Ri(e),s=Ri(n),c=m.useRef(null),a=m.useRef(!1),l=m.useMemo(function(){var p=function(v){Ea(v),(Rr(v)?v.touches.length>0:v.buttons>0)&&o.current?i(Ba(o.current,v,c.current)):b(!1)},g=function(){return b(!1)};function b(v){var y=a.current,E=Ti(o.current),R=v?E.addEventListener:E.removeEventListener;R(y?"touchmove":"mousemove",p),R(y?"touchend":"mouseup",g)}return[function(v){var y=v.nativeEvent,E=o.current;if(E&&(Ea(y),!function(T,M){return M&&!Rr(T)}(y,a.current)&&E)){if(Rr(y)){a.current=!0;var R=y.changedTouches||[];R.length&&(c.current=R[0].identifier)}E.focus(),i(Ba(E,y,c.current)),b(!0)}},function(v){var y=v.which||v.keyCode;y<37||y>40||(v.preventDefault(),s({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},b]},[s,i]),u=l[0],f=l[1],d=l[2];return m.useEffect(function(){return d},[d]),C.createElement("div",cr({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:o,onKeyDown:f,tabIndex:0,role:"slider"}))}),Hr=function(t){return t.filter(Boolean).join(" ")},is=function(t){var e=t.color,n=t.left,r=t.top,o=r===void 0?.5:r,i=Hr(["react-colorful__pointer",t.className]);return C.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},C.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},rt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},$l=function(t){var e=t.s,n=t.v,r=t.a,o=(200-e)*n/100;return{h:rt(t.h),s:rt(o>0&&o<200?e*n/100/(o<=100?o:200-o)*100:0),l:rt(o/2),a:rt(r,2)}},Si=function(t){var e=$l(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},ei=function(t){var e=$l(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},kl=function(t){var e=t.h,n=t.s,r=t.v,o=t.a;e=e/360*6,n/=100,r/=100;var i=Math.floor(e),s=r*(1-n),c=r*(1-(e-i)*n),a=r*(1-(1-e+i)*n),l=i%6;return{r:rt(255*[r,c,s,s,a,r][l]),g:rt(255*[a,r,r,c,s,s][l]),b:rt(255*[s,s,a,r,r,c][l]),a:rt(o,2)}},Gl=function(t){var e=t.r,n=t.g,r=t.b,o=t.a,i=Math.max(e,n,r),s=i-Math.min(e,n,r),c=s?i===e?(n-r)/s:i===n?2+(r-e)/s:4+(e-n)/s:0;return{h:rt(60*(c<0?c+6:c)),s:rt(i?s/i*100:0),v:rt(i/255*100),a:o}},Hl=C.memo(function(t){var e=t.hue,n=t.onChange,r=Hr(["react-colorful__hue",t.className]);return C.createElement("div",{className:r},C.createElement(os,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:tr(e+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":rt(e),"aria-valuemax":"360","aria-valuemin":"0"},C.createElement(is,{className:"react-colorful__hue-pointer",left:e/360,color:Si({h:e,s:100,v:100,a:1})})))}),Nl=C.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:Si({h:e.h,s:100,v:100,a:1})};return C.createElement("div",{className:"react-colorful__saturation",style:r},C.createElement(os,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:tr(e.s+100*o.left,0,100),v:tr(e.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+rt(e.s)+"%, Brightness "+rt(e.v)+"%"},C.createElement(is,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Si(e)})))}),ss=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function Ul(t,e,n){var r=Ri(n),o=m.useState(function(){return t.toHsva(e)}),i=o[0],s=o[1],c=m.useRef({color:e,hsva:i});m.useEffect(function(){if(!t.equal(e,c.current.color)){var l=t.toHsva(e);c.current={hsva:l,color:e},s(l)}},[e,t]),m.useEffect(function(){var l;ss(i,c.current.hsva)||t.equal(l=t.fromHsva(i),c.current.color)||(c.current={hsva:i,color:l},r(l))},[i,t,r]);var a=m.useCallback(function(l){s(function(u){return Object.assign({},u,l)})},[]);return[i,a]}var b0=typeof window<"u"?m.useLayoutEffect:m.useEffect,y0=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},wa=new Map,jl=function(t){b0(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!wa.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,wa.set(e,n);var r=y0();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},C0=function(t){var e=t.className,n=t.colorModel,r=t.color,o=r===void 0?n.defaultColor:r,i=t.onChange,s=rs(t,["className","colorModel","color","onChange"]),c=m.useRef(null);jl(c);var a=Ul(n,o,i),l=a[0],u=a[1],f=Hr(["react-colorful",e]);return C.createElement("div",cr({},s,{ref:c,className:f}),C.createElement(Nl,{hsva:l,onChange:u}),C.createElement(Hl,{hue:l.h,onChange:u,className:"react-colorful__last-control"}))},B0=function(t){var e=t.className,n=t.hsva,r=t.onChange,o={backgroundImage:"linear-gradient(90deg, "+ei(Object.assign({},n,{a:0}))+", "+ei(Object.assign({},n,{a:1}))+")"},i=Hr(["react-colorful__alpha",e]),s=rt(100*n.a);return C.createElement("div",{className:i},C.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),C.createElement(os,{onMove:function(c){r({a:c.left})},onKey:function(c){r({a:tr(n.a+c.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},C.createElement(is,{className:"react-colorful__alpha-pointer",left:n.a,color:ei(n)})))},E0=function(t){var e=t.className,n=t.colorModel,r=t.color,o=r===void 0?n.defaultColor:r,i=t.onChange,s=rs(t,["className","colorModel","color","onChange"]),c=m.useRef(null);jl(c);var a=Ul(n,o,i),l=a[0],u=a[1],f=Hr(["react-colorful",e]);return C.createElement("div",cr({},s,{ref:c,className:f}),C.createElement(Nl,{hsva:l,onChange:u}),C.createElement(Hl,{hue:l.h,onChange:u}),C.createElement(B0,{hsva:l,onChange:u,className:"react-colorful__last-control"}))},w0={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Gl,fromHsva:kl,equal:ss},x0=function(t){return C.createElement(E0,cr({},t,{colorModel:w0}))},R0={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return Gl({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=kl(t)).r,g:e.g,b:e.b};var e},equal:ss},T0=function(t){return C.createElement(C0,cr({},t,{colorModel:R0}))};function lr(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function c(u){try{l(r.next(u))}catch(f){s(f)}}function a(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(c,a)}l((r=r.apply(t,e||[])).next())})}function ur(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(l){return function(u){return a([l,u])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function S0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function M0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(S0(arguments[e]));return t}var _0=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Nr(t,e){var n=I0(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function I0(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),o=_0.get(r);o&&Object.defineProperty(t,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return t}var D0=[".DS_Store","Thumbs.db"];function O0(t){return lr(this,void 0,void 0,function(){return ur(this,function(e){return Co(t)&&F0(t)?[2,k0(t.dataTransfer,t.type)]:P0(t)?[2,L0(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,$0(t)]:[2,[]]})})}function F0(t){return Co(t.dataTransfer)}function P0(t){return Co(t)&&Co(t.target)}function Co(t){return typeof t=="object"&&t!==null}function L0(t){return Mi(t.target.files).map(function(e){return Nr(e)})}function $0(t){return lr(this,void 0,void 0,function(){var e;return ur(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Nr(r)})]}})})}function k0(t,e){return lr(this,void 0,void 0,function(){var n,r;return ur(this,function(o){switch(o.label){case 0:return t===null?[2,[]]:t.items?(n=Mi(t.items).filter(function(i){return i.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(G0))]):[3,2];case 1:return r=o.sent(),[2,xa(Jl(r))];case 2:return[2,xa(Mi(t.files).map(function(i){return Nr(i)}))]}})})}function xa(t){return t.filter(function(e){return D0.indexOf(e.name)===-1})}function Mi(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function G0(t){if(typeof t.webkitGetAsEntry!="function")return Ra(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?Kl(e):Ra(t)}function Jl(t){return t.reduce(function(e,n){return M0(e,Array.isArray(n)?Jl(n):[n])},[])}function Ra(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Nr(e);return Promise.resolve(n)}function H0(t){return lr(this,void 0,void 0,function(){return ur(this,function(e){return[2,t.isDirectory?Kl(t):N0(t)]})})}function Kl(t){var e=t.createReader();return new Promise(function(n,r){var o=[];function i(){var s=this;e.readEntries(function(c){return lr(s,void 0,void 0,function(){var a,l,u;return ur(this,function(f){switch(f.label){case 0:if(c.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return a=f.sent(),n(a),[3,4];case 3:return l=f.sent(),r(l),[3,4];case 4:return[3,6];case 5:u=Promise.all(c.map(H0)),o.push(u),i(),f.label=6;case 6:return[2]}})})},function(c){r(c)})}i()})}function N0(t){return lr(this,void 0,void 0,function(){return ur(this,function(e){return[2,new Promise(function(n,r){t.file(function(o){var i=Nr(o,t.fullPath);n(i)},function(o){r(o)})})]})})}var U0=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",o=(t.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(function(s){var c=s.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?i===c.replace(/\/.*$/,""):o===c})}return!0};function Ta(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ta(Object(n),!0).forEach(function(r){Wl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ma(t,e){return W0(t)||K0(t,e)||J0(t,e)||j0()}function j0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J0(t,e){if(t){if(typeof t=="string")return _a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(t,e)}}function _a(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K0(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,s,c;try{for(n=n.call(t);!(o=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));o=!0);}catch(a){i=!0,c=a}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw c}}return r}}function W0(t){if(Array.isArray(t))return t}var z0="file-invalid-type",Y0="file-too-large",X0="file-too-small",Q0="too-many-files",V0=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:z0,message:"File type must be ".concat(n)}},Ia=function(e){return{code:Y0,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Da=function(e){return{code:X0,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Z0={code:Q0,message:"Too many files"};function zl(t,e){var n=t.type==="application/x-moz-file"||U0(t,e);return[n,n?null:V0(e)]}function Yl(t,e,n){if(br(t.size))if(br(e)&&br(n)){if(t.size>n)return[!1,Ia(n)];if(t.size<e)return[!1,Da(e)]}else{if(br(e)&&t.size<e)return[!1,Da(e)];if(br(n)&&t.size>n)return[!1,Ia(n)]}return[!0,null]}function br(t){return t!=null}function q0(t){var e=t.files,n=t.accept,r=t.minSize,o=t.maxSize,i=t.multiple,s=t.maxFiles;return!i&&e.length>1||i&&s>=1&&e.length>s?!1:e.every(function(c){var a=zl(c,n),l=Ma(a,1),u=l[0],f=Yl(c,r,o),d=Ma(f,1),p=d[0];return u&&p})}function Bo(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function to(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Oa(t){t.preventDefault()}function ev(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function tv(t){return t.indexOf("Edge/")!==-1}function nv(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ev(t)||tv(t)}function kt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return e.some(function(c){return!Bo(r)&&c&&c.apply(void 0,[r].concat(i)),Bo(r)})}}function rv(){return"showOpenFilePicker"in window}function ov(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return Sa(Sa({},e),{},Wl({},n,[]))},{}):{}}]}function iv(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function sv(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var av=["children"],cv=["open"],lv=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],uv=["refKey","onChange","onClick"];function fv(t){return pv(t)||hv(t)||Xl(t)||dv()}function dv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hv(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pv(t){if(Array.isArray(t))return _i(t)}function ti(t,e){return Av(t)||gv(t,e)||Xl(t,e)||mv()}function mv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xl(t,e){if(t){if(typeof t=="string")return _i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(t,e)}}function _i(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gv(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,s,c;try{for(n=n.call(t);!(o=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));o=!0);}catch(a){i=!0,c=a}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw c}}return r}}function Av(t){if(Array.isArray(t))return t}function Fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fa(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ii(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eo(t,e){if(t==null)return{};var n=vv(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vv(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var as=m.forwardRef(function(t,e){var n=t.children,r=Eo(t,av),o=Vl(r),i=o.open,s=Eo(o,cv);return m.useImperativeHandle(e,function(){return{open:i}},[i]),C.createElement(m.Fragment,null,n(De(De({},s),{},{open:i})))});as.displayName="Dropzone";var Ql={disabled:!1,getFilesFromEvent:O0,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};as.defaultProps=Ql;as.propTypes={children:xe.func,accept:xe.oneOfType([xe.string,xe.arrayOf(xe.string)]),multiple:xe.bool,preventDropOnDocument:xe.bool,noClick:xe.bool,noKeyboard:xe.bool,noDrag:xe.bool,noDragEventsBubbling:xe.bool,minSize:xe.number,maxSize:xe.number,maxFiles:xe.number,disabled:xe.bool,getFilesFromEvent:xe.func,onFileDialogCancel:xe.func,onFileDialogOpen:xe.func,useFsAccessApi:xe.bool,onDragEnter:xe.func,onDragLeave:xe.func,onDragOver:xe.func,onDrop:xe.func,onDropAccepted:xe.func,onDropRejected:xe.func,validator:xe.func};var Di={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Vl(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=De(De({},Ql),t),n=e.accept,r=e.disabled,o=e.getFilesFromEvent,i=e.maxSize,s=e.minSize,c=e.multiple,a=e.maxFiles,l=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,b=e.onFileDialogCancel,v=e.onFileDialogOpen,y=e.useFsAccessApi,E=e.preventDropOnDocument,R=e.noClick,T=e.noKeyboard,M=e.noDrag,w=e.noDragEventsBubbling,P=e.validator,S=m.useMemo(function(){return typeof v=="function"?v:Pa},[v]),F=m.useMemo(function(){return typeof b=="function"?b:Pa},[b]),I=m.useRef(null),U=m.useRef(null),N=m.useReducer(bv,Di),Q=ti(N,2),L=Q[0],Y=Q[1],X=L.isFocused,ee=L.isFileDialogActive,le=L.draggedFiles,de=m.useRef(typeof window<"u"&&window.isSecureContext&&y&&rv()),ue=function(){!de.current&&ee&&setTimeout(function(){if(U.current){var oe=U.current.files;oe.length||(Y({type:"closeDialog"}),F())}},300)};m.useEffect(function(){return window.addEventListener("focus",ue,!1),function(){window.removeEventListener("focus",ue,!1)}},[U,ee,F,de]);var me=m.useRef([]),ge=function(oe){I.current&&I.current.contains(oe.target)||(oe.preventDefault(),me.current=[])};m.useEffect(function(){return E&&(document.addEventListener("dragover",Oa,!1),document.addEventListener("drop",ge,!1)),function(){E&&(document.removeEventListener("dragover",Oa),document.removeEventListener("drop",ge))}},[I,E]);var Be=m.useCallback(function(z){z.preventDefault(),z.persist(),ht(z),me.current=[].concat(fv(me.current),[z.target]),to(z)&&Promise.resolve(o(z)).then(function(oe){Bo(z)&&!w||(Y({draggedFiles:oe,isDragActive:!0,type:"setDraggedFiles"}),l&&l(z))})},[o,l,w]),Ke=m.useCallback(function(z){z.preventDefault(),z.persist(),ht(z);var oe=to(z);if(oe&&z.dataTransfer)try{z.dataTransfer.dropEffect="copy"}catch{}return oe&&f&&f(z),!1},[f,w]),We=m.useCallback(function(z){z.preventDefault(),z.persist(),ht(z);var oe=me.current.filter(function(Ue){return I.current&&I.current.contains(Ue)}),_e=oe.indexOf(z.target);_e!==-1&&oe.splice(_e,1),me.current=oe,!(oe.length>0)&&(Y({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),to(z)&&u&&u(z))},[I,u,w]),ce=m.useCallback(function(z,oe){var _e=[],Ue=[];z.forEach(function(ze){var mt=zl(ze,n),at=ti(mt,2),xn=at[0],dn=at[1],Rn=Yl(ze,s,i),ct=ti(Rn,2),Le=ct[0],Pt=ct[1],x=P?P(ze):null;if(xn&&Le&&!x)_e.push(ze);else{var $=[dn,Pt];x&&($=$.concat(x)),Ue.push({file:ze,errors:$.filter(function(V){return V})})}}),(!c&&_e.length>1||c&&a>=1&&_e.length>a)&&(_e.forEach(function(ze){Ue.push({file:ze,errors:[Z0]})}),_e.splice(0)),Y({acceptedFiles:_e,fileRejections:Ue,type:"setFiles"}),d&&d(_e,Ue,oe),Ue.length>0&&g&&g(Ue,oe),_e.length>0&&p&&p(_e,oe)},[Y,c,n,s,i,a,d,p,g,P]),He=m.useCallback(function(z){z.preventDefault(),z.persist(),ht(z),me.current=[],to(z)&&Promise.resolve(o(z)).then(function(oe){Bo(z)&&!w||ce(oe,z)}),Y({type:"reset"})},[o,ce,w]),$e=m.useCallback(function(){if(de.current){Y({type:"openDialog"}),S();var z={multiple:c,types:ov(n)};window.showOpenFilePicker(z).then(function(oe){return o(oe)}).then(function(oe){ce(oe,null),Y({type:"closeDialog"})}).catch(function(oe){iv(oe)?(F(oe),Y({type:"closeDialog"})):sv(oe)&&(de.current=!1,U.current&&(U.current.value=null,U.current.click()))});return}U.current&&(Y({type:"openDialog"}),S(),U.current.value=null,U.current.click())},[Y,S,F,y,ce,n,c]),xt=m.useCallback(function(z){!I.current||!I.current.isEqualNode(z.target)||(z.key===" "||z.key==="Enter"||z.keyCode===32||z.keyCode===13)&&(z.preventDefault(),$e())},[I,$e]),cn=m.useCallback(function(){Y({type:"focus"})},[]),Ot=m.useCallback(function(){Y({type:"blur"})},[]),Kt=m.useCallback(function(){R||(nv()?setTimeout($e,0):$e())},[R,$e]),ot=function(oe){return r?null:oe},Ft=function(oe){return T?null:ot(oe)},Ze=function(oe){return M?null:ot(oe)},ht=function(oe){w&&oe.stopPropagation()},ln=m.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=z.refKey,_e=oe===void 0?"ref":oe,Ue=z.role,ze=z.onKeyDown,mt=z.onFocus,at=z.onBlur,xn=z.onClick,dn=z.onDragEnter,Rn=z.onDragOver,ct=z.onDragLeave,Le=z.onDrop,Pt=Eo(z,lv);return De(De(Ii({onKeyDown:Ft(kt(ze,xt)),onFocus:Ft(kt(mt,cn)),onBlur:Ft(kt(at,Ot)),onClick:ot(kt(xn,Kt)),onDragEnter:Ze(kt(dn,Be)),onDragOver:Ze(kt(Rn,Ke)),onDragLeave:Ze(kt(ct,We)),onDrop:Ze(kt(Le,He)),role:typeof Ue=="string"&&Ue!==""?Ue:"button"},_e,I),!r&&!T?{tabIndex:0}:{}),Pt)}},[I,xt,cn,Ot,Kt,Be,Ke,We,He,T,M,r]),un=m.useCallback(function(z){z.stopPropagation()},[]),En=m.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=z.refKey,_e=oe===void 0?"ref":oe,Ue=z.onChange,ze=z.onClick,mt=Eo(z,uv),at=Ii({accept:n,multiple:c,type:"file",style:{display:"none"},onChange:ot(kt(Ue,He)),onClick:ot(kt(ze,un)),tabIndex:-1},_e,U);return De(De({},at),mt)}},[U,n,c,He,r]),fn=le.length,pt=fn>0&&q0({files:le,accept:n,minSize:s,maxSize:i,multiple:c,maxFiles:a}),wn=fn>0&&!pt;return De(De({},L),{},{isDragAccept:pt,isDragReject:wn,isFocused:X&&!r,getRootProps:ln,getInputProps:En,rootRef:I,inputRef:U,open:ot($e)})}function bv(t,e){switch(e.type){case"focus":return De(De({},t),{},{isFocused:!0});case"blur":return De(De({},t),{},{isFocused:!1});case"openDialog":return De(De({},Di),{},{isFileDialogActive:!0});case"closeDialog":return De(De({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return De(De({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return De(De({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return De({},Di);default:return t}}function Pa(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var yv=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Cv=yv;function La(t){return Cv(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var Zl=function(e){var n,r;return!(La(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,La(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Bv=Zl,cs=function(e){return Bv(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ev=function(e,n,r){for(var o in e)if(n.call(r,e[o],o,e)===!1)break},wv=cs,xv=Ev;function ql(t,e){for(var n=arguments.length,r=0;++r<n;){var o=arguments[r];Oi(o)&&xv(o,Rv,t)}return t}function Rv(t,e){if(Tv(e)){var n=this[e];Oi(t)&&Oi(n)?ql(n,t):this[e]=t}}function Oi(t){return wv(t)&&!Array.isArray(t)}function Tv(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var Sv=ql;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Mv=function(t,e,n,r,o){if(!_v(t)||!e)return t;if(e=no(e),n&&(e+="."+no(n)),r&&(e+="."+no(r)),o&&(e+="."+no(o)),e in t)return t[e];for(var i=e.split("."),s=i.length,c=-1;t&&++c<s;){for(var a=i[c];a[a.length-1]==="\\";)a=a.slice(0,-1)+"."+i[++c];t=t[a]}return t};function _v(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function no(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Iv=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),o=arguments.length,i=0;++i<o;)for(var s=Object(arguments[i]),c=Object.getOwnPropertySymbols(s),a=0;a<c.length;a++){var l=c[a];n.call(s,l)&&(r[l]=s[l])}return r},Dv=cs,Ov=Iv,Fv=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");$a(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];Lv(n)&&(n=$v(n)),$a(n)&&(Pv(t,n),Ov(t,n))}return t};function Pv(t,e){for(var n in e)kv(e,n)&&(t[n]=e[n])}function Lv(t){return t&&typeof t=="string"}function $v(t){var e={};for(var n in t)e[n]=t[n];return e}function $a(t){return t&&typeof t=="object"||Dv(t)}function kv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Gv=Fv,Hv=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=Gv({sep:"."},e),o=r.quotes||['"',"'","`"],i;r.brackets===!0?i={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(i=r.brackets);var s=[],c=[],a=[""],l=r.sep,u=t.length,f=-1,d;function p(){if(i&&c.length)return i[c[c.length-1]]}for(;++f<u;){var g=t[f],b=t[f+1],v={val:g,idx:f,arr:a,str:t};if(s.push(v),g==="\\"){v.val=Uv(r,t,f)===!0?g+b:b,v.escaped=!0,typeof n=="function"&&n(v),a[a.length-1]+=v.val,f++;continue}if(i&&i[g]){c.push(g);var y=p(),E=f+1;if(t.indexOf(y,E+1)!==-1)for(;c.length&&E<u;){var R=t[++E];if(R==="\\"){R++;continue}if(o.indexOf(R)!==-1){E=Fi(t,R,E+1);continue}if(y=p(),c.length&&t.indexOf(y,E+1)===-1)break;if(i[R]){c.push(R);continue}y===R&&c.pop()}if(d=E,d===-1){a[a.length-1]+=g;continue}g=t.slice(f,d+1),v.val=g,v.idx=f=d}if(o.indexOf(g)!==-1){if(d=Fi(t,g,f+1),d===-1){a[a.length-1]+=g;continue}Nv(g,r)===!0?g=t.slice(f,d+1):g=t.slice(f+1,d),v.val=g,v.idx=f=d}if(typeof n=="function"&&(n(v,s),g=v.val,f=v.idx),v.val===l&&v.split!==!1){a.push("");continue}a[a.length-1]+=v.val}return a};function Fi(t,e,n,r){var o=t.indexOf(e,n);return t.charAt(o-1)==="\\"?Fi(t,e,o+1):o}function Nv(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function Uv(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var jv=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},ka=jv,Jv=function(e){ka(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var o=arguments[r];ka(o)&&Kv(e,o)}return e};function Kv(t,e){for(var n in e)Wv(e,n)&&(t[n]=e[n])}function Wv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var zv=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Yv=Hv,Xv=Jv,Ga=Zl,Ha=zv,Qv=function(t,e,n){if(!Ha(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=Yv(e,{sep:".",brackets:!0}).filter(Vv),o=r.length,i=-1,s=t;++i<o;){var c=r[i];if(i!==o-1){Ha(s[c])||(s[c]={}),s=s[c];continue}Ga(s[c])&&Ga(n)?s[c]=Xv({},s[c],n):s[c]=n}return t};function Vv(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var ni=cs,Na=Sv,Zv=Mv,Ua=Qv,qv=function(e,n,r){if(!ni(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return Na.apply(null,arguments);if(typeof r=="string")return Ua(e,n,r),e;var o=Zv(e,n);return ni(r)&&ni(o)&&(r=Na({},o,r)),Ua(e,n,r),e};const eb=nc(qv),ls=(...t)=>t.filter(Boolean).join(".");function tb(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function nb(t){const e=m.useRef(null),n=m.useRef(null),r=m.useRef(!0);return m.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),m.useEffect(()=>{if(r.current){r.current=!1;return}let o;const i=e.current,s=()=>{t&&(i.style.removeProperty("height"),i.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};i.addEventListener("transitionend",s,{once:!0});const{height:c}=n.current.getBoundingClientRect();return i.style.height=c+"px",t||(i.style.overflow="hidden",o=window.setTimeout(()=>i.style.height="0px",50)),()=>{i.removeEventListener("transitionend",s),clearTimeout(o)}},[t]),{wrapperRef:e,contentRef:n}}const rb=t=>{const[e,n]=m.useState(t.getVisiblePaths());return m.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:bc});return()=>r()},[t]),e};function eu(t=3){const e=m.useRef(null),n=m.useRef(null),[r,o]=m.useState(!1),i=m.useCallback(()=>o(!0),[]),s=m.useCallback(()=>o(!1),[]);return m.useLayoutEffect(()=>{if(r){const{bottom:c,top:a,left:l}=e.current.getBoundingClientRect(),{height:u}=n.current.getBoundingClientRect(),f=c+u>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=l+"px",f==="down"?n.current.style.top=c+t+"px":n.current.style.bottom=window.innerHeight-a+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:i,hide:s}}A0([v0]);const ob={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};st.extend({color:()=>t=>nt(t).isValid()});const ib=t=>st().color().test(t);function tu(t,{format:e,hasAlpha:n,isString:r}){const o=ob[e]+(r&&e!=="hex"?"String":""),i=t[o]();return typeof i=="object"&&!n?$g(i,["a"]):i}const nu=(t,e)=>{const n=nt(t);if(!n.isValid())throw Error("Invalid color");return tu(n,e)},sb=(t,e)=>tu(nt(t),se(se({},e),{},{isString:!0,format:"hex"})),ab=({value:t})=>{const e=g0(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),o={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:nu(t,o),settings:o}};var cb=Object.freeze({__proto__:null,schema:ib,sanitize:nu,format:sb,normalize:ab});const lb=ne("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),ub=ne("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),fb=ne("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function ja(t,e){return e!=="rgb"?nt(t).toRgb():t}function db({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:o,emitOnEditEnd:i}=Ve(),{format:s,hasAlpha:c}=n,{popinRef:a,wrapperRef:l,shown:u,show:f,hide:d}=eu(),p=m.useRef(0),[g,b]=m.useState(()=>ja(t,s)),v=c?x0:T0,y=()=>{b(ja(t,s)),f(),o()},E=()=>{d(),i(),window.clearTimeout(p.current)},R=()=>{p.current=window.setTimeout(E,500)};return m.useEffect(()=>()=>window.clearTimeout(p.current),[]),C.createElement(C.Fragment,null,C.createElement(lb,{ref:a,active:u,onClick:()=>y(),style:{color:e}}),u&&C.createElement(es,null,C.createElement(wl,{onPointerUp:E}),C.createElement(fb,{ref:l,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:T=>T.buttons===0&&R()},C.createElement(v,{color:g,onChange:r}))))}function hb(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:o,settings:i}=Ve();return C.createElement(wt,{input:!0},C.createElement(Dt,null,n),C.createElement(ub,null,C.createElement(db,{value:t,displayValue:e,onChange:r,onUpdate:o,settings:i}),C.createElement(qi,{value:e,onChange:r,onUpdate:o})))}var pb=se({component:hb},cb);function mb(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ve();return C.createElement(wt,{input:!0},C.createElement(Dt,null,t),C.createElement(ns,{value:e,settings:r,onUpdate:n}))}var gb=se({component:mb},Dl(["x","y","z"]));const Ab=ne("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),vb=ne("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function bb({value:t,settings:e,onUpdate:n}){const r=m.useRef(),o=m.useRef(0),i=m.useRef(0),s=m.useRef(1),[c,a]=m.useState(!1),[l,u]=m.useState(!1),[f,d]=Rl(),p=m.useRef(null),g=m.useRef(null);m.useLayoutEffect(()=>{if(c){const{top:N,left:Q,width:L,height:Y}=p.current.getBoundingClientRect();g.current.style.left=Q+L/2+"px",g.current.style.top=N+Y/2+"px"}},[c]);const{keys:[b,v],joystick:y}=e,E=y==="invertY"?1:-1,{[b]:{step:R},[v]:{step:T}}=e,M=tn("sizes","joystickWidth"),w=tn("sizes","joystickHeight"),P=parseFloat(M)*.8/2,S=parseFloat(w)*.8/2,F=m.useCallback(()=>{r.current||(u(!0),o.current&&d({x:o.current*P}),i.current&&d({y:i.current*-S}),r.current=window.setInterval(()=>{n(N=>{const Q=R*o.current*s.current,L=E*T*i.current*s.current;return Array.isArray(N)?{[b]:N[0]+Q,[v]:N[1]+L}:{[b]:N[b]+Q,[v]:N[v]+L}})},16))},[P,S,n,d,R,T,b,v,E]),I=m.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);m.useEffect(()=>{function N(Q){s.current=ul(Q)}return window.addEventListener("keydown",N),window.addEventListener("keyup",N),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",N),window.removeEventListener("keyup",N)}},[]);const U=Gr(({first:N,active:Q,delta:[L,Y],movement:[X,ee]})=>{N&&a(!0);const le=Bn(X,-P,P),de=Bn(ee,-S,S);o.current=Math.abs(X)>Math.abs(le)?Math.sign(X-le):0,i.current=Math.abs(ee)>Math.abs(de)?Math.sign(de-ee):0;let ue=t[b],me=t[v];Q?(o.current||(ue+=L*R*s.current,d({x:le})),i.current||(me-=E*Y*T*s.current,d({y:de})),o.current||i.current?F():I(),n({[b]:ue,[v]:me})):(a(!1),o.current=0,i.current=0,d({x:0,y:0}),I())});return C.createElement(Ab,Ge({ref:p},U()),c&&C.createElement(es,null,C.createElement(vb,{ref:g,isOutOfBounds:l},C.createElement("div",null),C.createElement("span",{ref:f}))))}const yb=ne("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Cb(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ve();return C.createElement(wt,{input:!0},C.createElement(Dt,null,t),C.createElement(yb,{withJoystick:!!r.joystick},r.joystick&&C.createElement(bb,{value:e,settings:r,onUpdate:n}),C.createElement(ns,{value:e,settings:r,onUpdate:n})))}const Bb=["joystick"],ru=Dl(["x","y"]),Eb=t=>{let{joystick:e=!0}=t,n=Re(t,Bb);const{value:r,settings:o}=ru.normalize(n);return{value:r,settings:se(se({},o),{},{joystick:e})}};var wb=se(se({component:Cb},ru),{},{normalize:Eb});const xb=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |File].")}},Rb=(t,e)=>typeof e=="object"&&"image"in e,Tb=({image:t})=>({value:t});var Sb=Object.freeze({__proto__:null,sanitize:xb,schema:Rb,normalize:Tb});const Mb=ne("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),_b=ne("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Ib=ne("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Db=ne("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Ob=ne("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Fb=ne("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Pb(){const{label:t,value:e,onUpdate:n,disabled:r}=Ve(),{popinRef:o,wrapperRef:i,shown:s,show:c,hide:a}=eu(),l=m.useCallback(g=>{g.length&&n(g[0])},[n]),u=m.useCallback(g=>{g.stopPropagation(),n(void 0)},[n]),{getRootProps:f,getInputProps:d,isDragAccept:p}=Vl({maxFiles:1,accept:"image/*",onDrop:l,disabled:r});return C.createElement(wt,{input:!0},C.createElement(Dt,null,t),C.createElement(Mb,null,C.createElement(Ib,{ref:o,hasImage:!!e,onPointerDown:()=>!!e&&c(),onPointerUp:a,style:{backgroundImage:e?`url(${e})`:"none"}}),s&&!!e&&C.createElement(es,null,C.createElement(wl,{onPointerUp:a,style:{cursor:"pointer"}}),C.createElement(Db,{ref:i,style:{backgroundImage:`url(${e})`}})),C.createElement(_b,f({isDragAccept:p}),C.createElement("input",d()),C.createElement(Ob,null,p?"drop image":"click or drop")),C.createElement(Fb,{onClick:u,disabled:!e})))}var Lb=se({component:Pb},Sb);const Ja=st().number(),$b=(t,e)=>st().array().length(2).every.number().test(t)&&st().schema({min:Ja,max:Ja}).test(e),wo=t=>({min:t[0],max:t[1]}),ou=(t,{bounds:[e,n]},r)=>{const o=Array.isArray(t)?wo(t):t,i={min:r[0],max:r[1]},{min:s,max:c}=se(se({},i),o);return[Bn(Number(s),e,Math.max(e,c)),Bn(Number(c),Math.min(n,s),n)]},kb=({value:t,min:e,max:n})=>{const r={min:e,max:n},o=Il(wo(t),{min:r,max:r}),i=[e,n],s=se(se({},o),{},{bounds:i});return{value:ou(wo(t),s,t),settings:s}};var Gb=Object.freeze({__proto__:null,schema:$b,format:wo,sanitize:ou,normalize:kb});const Hb=["value","bounds","onDrag"],Nb=["bounds"],Ub=ne("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function jb(t){let{value:e,bounds:[n,r],onDrag:o}=t,i=Re(t,Hb);const s=m.useRef(null),c=m.useRef(null),a=m.useRef(null),l=m.useRef(0),u=tn("sizes","scrubberWidth"),f=Gr(({event:g,first:b,xy:[v],movement:[y],memo:E={}})=>{if(b){const{width:T,left:M}=s.current.getBoundingClientRect();l.current=T-parseFloat(u);const w=(g==null?void 0:g.target)===c.current||(g==null?void 0:g.target)===a.current;E.pos=bo((v-M)/T,n,r);const P=Math.abs(E.pos-e.min)-Math.abs(E.pos-e.max);E.key=P<0||P===0&&E.pos<=e.min?"min":"max",w&&(E.pos=e[E.key])}const R=E.pos+bo(y/l.current,0,r-n);return o({[E.key]:EA(R,i[E.key])}),E}),d=`calc(${vo(e.min,n,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-vo(e.max,n,r)} * (100% - ${u} - 8px) + 4px)`;return C.createElement(Sl,Ge({ref:s},f()),C.createElement(Tl,null,C.createElement(Ml,{style:{left:d,right:p}})),C.createElement(Bi,{position:"left",ref:c,style:{left:d}}),C.createElement(Bi,{position:"right",ref:a,style:{right:p}}))}function Jb(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ve(),o=Re(r,Nb);return C.createElement(C.Fragment,null,C.createElement(wt,{input:!0},C.createElement(Dt,null,t),C.createElement(Ub,null,C.createElement(jb,Ge({value:e},r,{onDrag:n})),C.createElement(ns,{value:e,settings:o,onUpdate:n,innerLabelTrim:0}))))}var Kb=se({component:Jb},Gb);const Wb=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const o of r)o(...n)}}},zb=["type","value"],Yb=["onChange","transient","onEditStart","onEditEnd"],Xb=function(){const e=gf(fd(()=>({data:{}}))),n=Wb();this.storeId=Lg(),this.useStore=e;const r={},o=new Set;this.getVisiblePaths=()=>{const s=this.getData(),c=Object.keys(s),a=[];Object.entries(r).forEach(([u,f])=>{f.render&&c.some(d=>d.indexOf(u)===0)&&!f.render(this.get)&&a.push(u+".")});const l=[];return o.forEach(u=>{u in s&&s[u].__refCount>0&&a.every(f=>u.indexOf(f)===-1)&&(!s[u].render||s[u].render(this.get))&&l.push(u)}),l},this.setOrderedPaths=s=>{s.forEach(c=>o.add(c))},this.orderPaths=s=>(this.setOrderedPaths(s),s),this.disposePaths=s=>{e.setState(c=>{const a=c.data;return s.forEach(l=>{if(l in a){const u=a[l];u.__refCount--,u.__refCount===0&&u.type in Ht&&delete a[l]}}),{data:a}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=s=>r[s]||{},this.getData=()=>e.getState().data,this.addData=(s,c)=>{e.setState(a=>{const l=a.data;return Object.entries(s).forEach(([u,f])=>{let d=l[u];if(d){const{type:p,value:g}=f,b=Re(f,zb);p!==d.type?Vt(Oe.INPUT_TYPE_OVERRIDE,p):((d.__refCount===0||c)&&Object.assign(d,b),d.__refCount++)}else l[u]=se(se({},f),{},{__refCount:1})}),{data:l}})},this.setValueAtPath=(s,c,a)=>{e.setState(l=>{const u=l.data;return pa(u[s],c,s,this,a),{data:u}})},this.setSettingsAtPath=(s,c)=>{e.setState(a=>{const l=a.data;return l[s].settings=se(se({},l[s].settings),c),{data:l}})},this.disableInputAtPath=(s,c)=>{e.setState(a=>{const l=a.data;return l[s].disabled=c,{data:l}})},this.set=(s,c)=>{e.setState(a=>{const l=a.data;return Object.entries(s).forEach(([u,f])=>{try{pa(l[u],f,void 0,void 0,c)}catch{}}),{data:l}})},this.getInput=s=>{try{return this.getData()[s]}catch{Vt(Oe.PATH_DOESNT_EXIST,s)}},this.get=s=>{var c;return(c=this.getInput(s))===null||c===void 0?void 0:c.value},this.emitOnEditStart=s=>{n.emit(`onEditStart:${s}`,this.get(s),s,se(se({},this.getInput(s)),{},{get:this.get}))},this.emitOnEditEnd=s=>{n.emit(`onEditEnd:${s}`,this.get(s),s,se(se({},this.getInput(s)),{},{get:this.get}))},this.subscribeToEditStart=(s,c)=>{const a=`onEditStart:${s}`;return n.on(a,c),()=>n.off(a,c)},this.subscribeToEditEnd=(s,c)=>{const a=`onEditEnd:${s}`;return n.on(a,c),()=>n.off(a,c)};const i=(s,c,a)=>{const l={};return Object.entries(s).forEach(([u,f])=>{if(u==="")return Vt(Oe.EMPTY_KEY);let d=ls(c,u);if(f.type===Ht.FOLDER){const p=i(f.schema,d,a);Object.assign(l,p),d in r||(r[d]=f.settings)}else if(u in a)Vt(Oe.DUPLICATE_KEYS,u,d,a[u].path);else{const p=jg(f,u,d,l);if(p){const{type:g,options:b,input:v}=p,{onChange:y,transient:E,onEditStart:R,onEditEnd:T}=b,M=Re(b,Yb);l[d]=se(se(se({type:g},M),v),{},{fromPanel:!0}),a[u]={path:d,onChange:y,transient:E,onEditStart:R,onEditEnd:T}}else Vt(Oe.UNKNOWN_INPUT,d,f)}}),l};this.getDataFromSchema=s=>{const c={};return[i(s,"",c),c]}};new Xb;const Ka=t=>"__levaInput"in t,Qb=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(o=>{const[i,s]=tb(o);(!r||i.toLowerCase().indexOf(r)>-1)&&eb(n,s,{[i]:{__levaInput:!0,path:o}})}),n},Vb=["type","label","path","valueKey","value","settings","setValue","disabled"];function Zb(t){let{type:e,label:n,path:r,valueKey:o,value:i,settings:s,setValue:c,disabled:a}=t,l=Re(t,Vb);const{displayValue:u,onChange:f,onUpdate:d}=xl({type:e,value:i,settings:s,setValue:c}),p=Ln[e].component;return p?C.createElement(ml.Provider,{value:se({key:o,path:r,id:""+r,label:n,displayValue:u,value:i,onChange:f,onUpdate:d,settings:s,setValue:c,disabled:a},l)},C.createElement(aA,{disabled:a},C.createElement(p,null))):(Vt(Oe.NO_COMPONENT_FOR_TYPE,e,r),null)}const qb=ne("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function ey({onClick:t,settings:e,label:n}){const r=kr();return C.createElement(wt,null,C.createElement(qb,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const ty=ne("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),ny=ne("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),ry=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function oy(t){const{label:e,opts:n}=ry(t),r=kr();return C.createElement(wt,{input:!!e},e&&C.createElement(Dt,null,e),C.createElement(ty,null,Object.entries(n).map(([o,i])=>C.createElement(ny,{key:o,onClick:()=>i(r.get)},o))))}const iy=ne("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),iu=100;function sy(t,e){t.push(e),t.length>iu&&t.shift()}const ay=m.forwardRef(function({initialValue:t},e){const n=tn("colors","highlight3"),r=tn("colors","elevation2"),o=tn("colors","highlight1"),[i,s]=m.useMemo(()=>[nt(o).alpha(.4).toRgbString(),nt(o).alpha(.1).toRgbString()],[o]),c=m.useRef([t]),a=m.useRef(t),l=m.useRef(t),u=m.useRef(),f=m.useCallback((g,b)=>{if(!g)return;const{width:v,height:y}=g,E=new Path2D,R=v/iu,T=y*.05;for(let P=0;P<c.current.length;P++){const S=vo(c.current[P],a.current,l.current),F=R*P,I=y-S*(y-T*2)-T;E.lineTo(F,I)}b.clearRect(0,0,v,y);const M=new Path2D(E);M.lineTo(R*(c.current.length+1),y),M.lineTo(0,y),M.lineTo(0,0);const w=b.createLinearGradient(0,0,0,y);w.addColorStop(0,i),w.addColorStop(1,s),b.fillStyle=w,b.fill(M),b.strokeStyle=r,b.lineJoin="round",b.lineWidth=14,b.stroke(E),b.strokeStyle=n,b.lineWidth=2,b.stroke(E)},[n,r,i,s]),[d,p]=gA(f);return m.useImperativeHandle(e,()=>({frame:g=>{(a.current===void 0||g<a.current)&&(a.current=g),(l.current===void 0||g>l.current)&&(l.current=g),sy(c.current,g),u.current=requestAnimationFrame(()=>f(d.current,p.current))}}),[d,p,f]),m.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),C.createElement(iy,{ref:d})}),Wa=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),cy=m.forwardRef(function({initialValue:t},e){const[n,r]=m.useState(Wa(t));return m.useImperativeHandle(e,()=>({frame:o=>r(Wa(o))}),[]),C.createElement("div",null,n)});function za(t){return typeof t=="function"?t():t.current}function ly({label:t,objectOrFn:e,settings:n}){const r=m.useRef(),o=m.useRef(za(e));return m.useEffect(()=>{const i=window.setInterval(()=>{var s;document.hidden||(s=r.current)===null||s===void 0||s.frame(za(e))},n.interval);return()=>window.clearInterval(i)},[e,n.interval]),C.createElement(wt,{input:!0},C.createElement(Dt,{align:"top"},t),n.graph?C.createElement(ay,{ref:r,initialValue:o.current}):C.createElement(cy,{ref:r,initialValue:o.current}))}const uy=["type","label","key"],fy={[Ht.BUTTON]:ey,[Ht.BUTTON_GROUP]:oy,[Ht.MONITOR]:ly},dy=C.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:o,storeId:i,emitOnEditStart:s,emitOnEditEnd:c}]=vA(t);if(!e)return null;const{type:a,label:l,key:u}=e,f=Re(e,uy);if(a in Ht){const d=fy[a];return C.createElement(d,Ge({label:l,path:t},f))}return a in Ln?C.createElement(Zb,Ge({key:i+t,type:a,label:l,storeId:i,path:t,valueKey:u,setValue:n,setSettings:r,disable:o,emitOnEditStart:s,emitOnEditEnd:c},f)):(Sg(Oe.UNSUPPORTED_INPUT,a,t),null)});function hy({toggle:t,toggled:e,name:n}){return C.createElement(oA,{onClick:()=>t()},C.createElement(ts,{toggled:e}),C.createElement("div",null,n))}const py=({name:t,path:e,tree:n})=>{const r=kr(),o=ls(e,t),{collapsed:i,color:s}=r.getFolderSettings(o),[c,a]=m.useState(!i),l=m.useRef(null),u=tn("colors","folderWidgetColor"),f=tn("colors","folderTextColor");return m.useLayoutEffect(()=>{l.current.style.setProperty("--leva-colors-folderWidgetColor",s||u),l.current.style.setProperty("--leva-colors-folderTextColor",s||f)},[s,u,f]),C.createElement(yo,{ref:l},C.createElement(hy,{name:t,toggled:c,toggle:()=>a(d=>!d)}),C.createElement(su,{parent:o,tree:n,toggled:c}))},su=C.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:o,toggled:i})=>{const{wrapperRef:s,contentRef:c}=nb(i),a=kr(),l=([f,d])=>{var p;return(Ka(d)?(p=a.getInput(d.path))===null||p===void 0?void 0:p.order:a.getFolderSettings(ls(r,f)).order)||0},u=Object.entries(o).sort((f,d)=>l(f)-l(d));return C.createElement(yi,{ref:s,isRoot:t,fill:e,flat:n},C.createElement(Cl,{ref:c,isRoot:t,toggled:i},u.map(([f,d])=>Ka(d)?C.createElement(dy,{key:d.path,valueKey:d.valueKey,path:d.path}):C.createElement(py,{key:f,name:f,path:r,tree:d}))))}),my=ne("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${El}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),au=40,xo=ne("i",{$flexCenter:"",width:au,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),gy=ne("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Ay=ne("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${xo}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),vy=ne("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),by=ne("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:au}}}}),yy=C.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,o]=m.useState(""),i=m.useMemo(()=>ll(t,250),[t]),s=()=>{t(""),o("")},c=a=>{const l=a.currentTarget.value;e(!0),o(l)};return m.useEffect(()=>{i(r)},[r,i]),C.createElement(C.Fragment,null,C.createElement(vy,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:a=>a.stopPropagation(),onChange:c}),C.createElement(xo,{onClick:()=>s(),style:{visibility:r?"visible":"hidden"}},C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},C.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Cy({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:o,toggled:i,title:s,drag:c,filterEnabled:a,from:l}){const[u,f]=m.useState(!1),d=m.useRef(null);m.useEffect(()=>{var g,b;u?(g=d.current)===null||g===void 0||g.focus():(b=d.current)===null||b===void 0||b.blur()},[u]);const p=Gr(({offset:[g,b],first:v,last:y})=>{e({x:g,y:b}),v&&n({x:g,y:b}),y&&r({x:g,y:b})},{filterTaps:!0,from:({offset:[g,b]})=>[(l==null?void 0:l.x)||g,(l==null?void 0:l.y)||b]});return m.useEffect(()=>{const g=b=>{b.key==="L"&&b.shiftKey&&b.metaKey&&f(v=>!v)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),C.createElement(C.Fragment,null,C.createElement(gy,{mode:c?"drag":void 0},C.createElement(xo,{active:!i,onClick:()=>o()},C.createElement(ts,{toggled:i,width:12,height:8})),C.createElement(by,Ge({},c?p():{},{drag:c,filterEnabled:a}),s===void 0&&c?C.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},C.createElement("circle",{cx:"2",cy:"2",r:"2"}),C.createElement("circle",{cx:"14",cy:"2",r:"2"}),C.createElement("circle",{cx:"26",cy:"2",r:"2"}),C.createElement("circle",{cx:"2",cy:"12",r:"2"}),C.createElement("circle",{cx:"14",cy:"12",r:"2"}),C.createElement("circle",{cx:"26",cy:"12",r:"2"})):s),a&&C.createElement(xo,{active:u,onClick:()=>f(g=>!g)},C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},C.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),C.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),C.createElement(Ay,{toggled:u},C.createElement(yy,{ref:d,setFilter:t,toggle:o})))}C.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:o=!1,oneLineLabels:i=!1,titleBar:s={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:c=!1,toggled:a,setToggle:l})=>{var u,f;const d=rb(t),[p,g]=m.useState(""),b=m.useMemo(()=>Qb(d,p),[d,p]),[v,y]=Rl(),E=o||d.length>0,R=typeof s=="object"&&s.title||void 0,T=typeof s=="object"&&(u=s.drag)!==null&&u!==void 0?u:!0,M=typeof s=="object"&&(f=s.filter)!==null&&f!==void 0?f:!0,w=typeof s=="object"&&s.position||void 0,P=typeof s=="object"&&s.onDrag||void 0,S=typeof s=="object"&&s.onDragStart||void 0,F=typeof s=="object"&&s.onDragEnd||void 0;return C.useEffect(()=>{y({x:w==null?void 0:w.x,y:w==null?void 0:w.y})},[w,y]),Zg(),C.createElement(vl.Provider,{value:{hideCopyButton:c}},C.createElement(my,{ref:v,className:e,fill:n,flat:r,oneLineLabels:i,hideTitleBar:!s,style:{display:E?"block":"none"}},s&&C.createElement(Cy,{onDrag:I=>{y(I),P==null||P(I)},onDragStart:I=>S==null?void 0:S(I),onDragEnd:I=>F==null?void 0:F(I),setFilter:g,toggle:I=>l(U=>I??!U),toggled:a,title:R,drag:T,filterEnabled:M,from:w}),E&&C.createElement(Al.Provider,{value:t},C.createElement(su,{isRoot:!0,fill:n,flat:r,tree:b,toggled:a}))))});an(It.SELECT,PA);an(It.IMAGE,Lb);an(It.NUMBER,xA);an(It.COLOR,pb);an(It.STRING,JA);an(It.BOOLEAN,VA);an(It.INTERVAL,Kb);an(It.VECTOR3D,gb);an(It.VECTOR2D,wb);function _y(){return re.jsxs(Af,{shadows:!0,children:[re.jsx(jh,{resolution:1024,position:[0,-.8,0],opacity:.75,scale:10,blur:2,far:.8}),re.jsx("ambientLight",{intensity:.3}),re.jsx(Uh,{preset:"apartment"}),re.jsx("meshStandardMaterial",{color:"white"}),re.jsx("directionalLight",{position:[-5,5,-5],intensity:.6,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),re.jsx("spotLight",{intensity:1,angle:.3,penumbra:1,position:[10,15,10],castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),re.jsx(bh,{makeDefault:!0,minPolarAngle:0,maxPolarAngle:Math.PI/2}),re.jsx(Kh,{position:[0,-1,.5],rotation:[0,-Math.PI/12,0],castShadow:!0,receiveShadow:!0}),re.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-1.05,0],receiveShadow:!0,children:[re.jsx("planeGeometry",{args:[20,20]}),re.jsx("meshStandardMaterial",{color:"white"})]})]})}export{_y as default};
